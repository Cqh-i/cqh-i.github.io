<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>锦瑟年华,逐梦之人</title>
  <icon>https://www.gravatar.com/avatar/61485d3acc833429cdf704a947736242</icon>
  <subtitle>你的问题,主要在于读书不多而想得太多</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://cqh-i.github.io/"/>
  <updated>2019-09-18T11:35:58.385Z</updated>
  <id>https://cqh-i.github.io/</id>
  
  <author>
    <name>Cqh-i</name>
    <email>cqh_i@foxmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>HashMap工作原理及实现</title>
    <link href="https://cqh-i.github.io/2019/09/18/HashMap%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E7%8E%B0/"/>
    <id>https://cqh-i.github.io/2019/09/18/HashMap工作原理及实现/</id>
    <published>2019-09-18T11:17:21.000Z</published>
    <updated>2019-09-18T11:35:58.385Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-&#x6982;&#x8FF0;"><a href="#1-&#x6982;&#x8FF0;" class="headerlink" title="1. &#x6982;&#x8FF0;"></a>1. &#x6982;&#x8FF0;</h2><p>&#x4ECE;&#x672C;&#x6587;&#x4F60;&#x53EF;&#x4EE5;&#x5B66;&#x4E60;&#x5230;&#xFF1A;</p><table><tr><td bgcolor="#f6f6f6" align="left"><font color="#000">1. &#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x4F1A;&#x4F7F;&#x7528;HashMap&#xFF1F;&#x5B83;&#x6709;&#x4EC0;&#x4E48;&#x7279;&#x70B9;&#xFF1F;<br>2. &#x4F60;&#x77E5;&#x9053;HashMap&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x5417;&#xFF1F;<br>3. &#x4F60;&#x77E5;&#x9053;get&#x548C;put&#x7684;&#x539F;&#x7406;&#x5417;&#xFF1F;equals()&#x548C;hashCode()&#x7684;&#x90FD;&#x6709;&#x4EC0;&#x4E48;&#x4F5C;&#x7528;&#xFF1F;<br>4. &#x4F60;&#x77E5;&#x9053;hash&#x7684;&#x5B9E;&#x73B0;&#x5417;&#xFF1F;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;&#xFF1F;<br>5. &#x5982;&#x679C;HashMap&#x7684;&#x5927;&#x5C0F;&#x8D85;&#x8FC7;&#x4E86;&#x8D1F;&#x8F7D;&#x56E0;&#x5B50;(load factor)&#x5B9A;&#x4E49;&#x7684;&#x5BB9;&#x91CF;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#xFF1F;<br></font></td></tr></table><a id="more"></a><p>&#x5F53;&#x6211;&#x4EEC;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x65F6;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</span><br><span class="line">map.put(<span class="string">&quot;&#x8BED;&#x6587;&quot;</span>, <span class="number">1</span>);</span><br><span class="line">map.put(<span class="string">&quot;&#x6570;&#x5B66;&quot;</span>, <span class="number">2</span>);</span><br><span class="line">map.put(<span class="string">&quot;&#x82F1;&#x8BED;&quot;</span>, <span class="number">3</span>);</span><br><span class="line">map.put(<span class="string">&quot;&#x5386;&#x53F2;&quot;</span>, <span class="number">4</span>);</span><br><span class="line">map.put(<span class="string">&quot;&#x653F;&#x6CBB;&quot;</span>, <span class="number">5</span>);</span><br><span class="line">map.put(<span class="string">&quot;&#x5730;&#x7406;&quot;</span>, <span class="number">6</span>);</span><br><span class="line">map.put(<span class="string">&quot;&#x751F;&#x7269;&quot;</span>, <span class="number">7</span>);</span><br><span class="line">map.put(<span class="string">&quot;&#x5316;&#x5B66;&quot;</span>, <span class="number">8</span>);</span><br><span class="line"><span class="keyword">for</span>(Entry&lt;String, Integer&gt; entry : map.entrySet()) {</span><br><span class="line">    System.out.println(entry.getKey() + <span class="string">&quot;: &quot;</span> + entry.getValue());</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x8FD0;&#x884C;&#x7ED3;&#x679C;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x653F;&#x6CBB;: 5</span><br><span class="line">&#x751F;&#x7269;: 7</span><br><span class="line">&#x5386;&#x53F2;: 4</span><br><span class="line">&#x6570;&#x5B66;: 2</span><br><span class="line">&#x5316;&#x5B66;: 8</span><br><span class="line">&#x8BED;&#x6587;: 1</span><br><span class="line">&#x82F1;&#x8BED;: 3</span><br><span class="line">&#x5730;&#x7406;: 6</span><br></pre></td></tr></table></figure></p><p>&#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x5927;&#x81F4;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5E0C;&#x671B;&#x6211;&#x4EEC;&#x5BF9;HashMap&#x7684;&#x7ED3;&#x6784;&#x6709;&#x4E00;&#x4E2A;&#x611F;&#x6027;&#x7684;&#x8BA4;&#x8BC6;&#xFF1A;<br><img src="/2019/09/18/HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x53CA;&#x5B9E;&#x73B0;/pic1.png" alt><br>&#x5728;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E2D;&#x662F;&#x8FD9;&#x6837;&#x63CF;&#x8FF0;HashMap&#x7684;&#xFF1A;</p><table><tr><td bgcolor="#f6f6f6" align="left"><font color="#000">Hash table based <strong>implementation of the Map interface. </strong>This implementation provides all of the optional map operations, and <strong>permits null values and the null key.</strong> (The HashMap class is roughly equivalent to Hashtable, except that it is <strong>unsynchronized</strong> and permits nulls.) This class makes no guarantees as to the order of the map; in particular, it does not guarantee that the order will remain constant over time.</font></td></tr></table><p>&#x51E0;&#x4E2A;&#x5173;&#x952E;&#x7684;&#x4FE1;&#x606F;&#xFF1A;&#x57FA;&#x4E8E;Map&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x3001;&#x5141;&#x8BB8;null&#x952E;/&#x503C;&#x3001;&#x975E;&#x540C;&#x6B65;&#x3001;&#x4E0D;&#x4FDD;&#x8BC1;&#x6709;&#x5E8F;(&#x6BD4;&#x5982;&#x63D2;&#x5165;&#x7684;&#x987A;&#x5E8F;)&#x3001;&#x4E5F;&#x4E0D;&#x4FDD;&#x8BC1;&#x5E8F;&#x4E0D;&#x968F;&#x65F6;&#x95F4;&#x53D8;&#x5316;&#x3002;</p><h2 id="2-HashMap&#x7684;&#x5E95;&#x5C42;&#x7ED3;&#x6784;"><a href="#2-HashMap&#x7684;&#x5E95;&#x5C42;&#x7ED3;&#x6784;" class="headerlink" title="2. HashMap&#x7684;&#x5E95;&#x5C42;&#x7ED3;&#x6784;"></a>2. HashMap&#x7684;&#x5E95;&#x5C42;&#x7ED3;&#x6784;</h2><p>&#x65E9;&#x671F;&#x7684; HashMap &#x7684;&#x786E;&#x662F;&#x53EA;&#x4F7F;&#x7528;&#x4E86;&#x6570;&#x7EC4;&#x548C;&#x94FE;&#x8868;&#xFF0C;&#x4F46;&#x4ECE; Java8 &#x4E2D;&#x5F00;&#x59CB;&#x5F15;&#x5165;&#x6811;&#xFF08;&#x7EA2;&#x9ED1;&#x6811;&#xFF09;&#x7ED3;&#x6784;&#x4EE5;&#x63D0;&#x9AD8;&#x94FE;&#x8868;&#x8FC7;&#x957F;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x6027;&#x80FD;&#x3002;<br><strong>&#x6570;&#x7EC4;:</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">transient</span> Node&lt;K,V&gt;[] table;</span><br></pre></td></tr></table></figure></p><p><strong>&#x94FE;&#x8868;(&#x8282;&#x70B9;) Node(next)&#xFF1A;</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>{</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> hash;</span><br><span class="line">        <span class="keyword">final</span> K key;</span><br><span class="line">        V value;</span><br><span class="line">        Node&lt;K,V&gt; next;</span><br><span class="line"></span><br><span class="line">        Node(<span class="keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next) {</span><br><span class="line">            <span class="keyword">this</span>.hash = hash;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">            <span class="keyword">this</span>.next = next;</span><br><span class="line">        }</span><br><span class="line">        ......</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><p><strong>&#x7EA2;&#x9ED1;&#x6811; TreeNode(parent, left, right)&#xFF1A;</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">LinkedHashMap</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>{</span><br><span class="line">    TreeNode&lt;K,V&gt; parent;  <span class="comment">// red-black tree links</span></span><br><span class="line">    TreeNode&lt;K,V&gt; left;</span><br><span class="line">    TreeNode&lt;K,V&gt; right;</span><br><span class="line">    TreeNode&lt;K,V&gt; prev;    <span class="comment">// needed to unlink next upon deletion</span></span><br><span class="line">    <span class="keyword">boolean</span> red;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> hash, K key, V val, Node&lt;K,V&gt; next) {</span><br><span class="line">        <span class="keyword">super</span>(hash, key, val, next);</span><br><span class="line">    }</span><br><span class="line">    ......</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><h2 id="3-HashMap&#x7684;&#x4E09;&#x4E2A;&#x91CD;&#x8981;&#x53C2;&#x6570;"><a href="#3-HashMap&#x7684;&#x4E09;&#x4E2A;&#x91CD;&#x8981;&#x53C2;&#x6570;" class="headerlink" title="3. HashMap&#x7684;&#x4E09;&#x4E2A;&#x91CD;&#x8981;&#x53C2;&#x6570;"></a>3. HashMap&#x7684;&#x4E09;&#x4E2A;&#x91CD;&#x8981;&#x53C2;&#x6570;</h2><ul><li><p>&#x5BB9;&#x91CF;</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x56E0;&#x4E3A;&#x7528;&#x7684;&#x662F;&#x6570;&#x7EC4;&#xFF0C;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5BB9;&#x91CF;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x4E8B;&#xFF0C;&#x6BD4;&#x6BCF;&#x6B21;&#x9700;&#x8981;&#x52A8;&#x6001;&#x6539;&#x53D8;&#x5BB9;&#x91CF;&#x6027;&#x80FD;&#x603B;&#x662F;&#x8981;&#x597D;&#x7684;&#x591A;&#x7684;&#x3002;</span></span><br><span class="line"><span class="comment">// &#x521D;&#x59CB;&#x5316;&#x9ED8;&#x8BA4;&#x503C; 16</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_INITIAL_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">4</span>;</span><br><span class="line"><span class="keyword">transient</span> Node&lt;K,V&gt;[] table;</span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">int</span> size;</span><br></pre></td></tr></table></figure></li><li><p>&#x8D1F;&#x8F7D;&#x56E0;&#x5B50;</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5982;&#x679C;&#x9891;&#x7E41;&#x7684;&#x53D1;&#x751F;&#x78B0;&#x649E;&#xFF0C;&#x90A3;&#x4E48;&#x6027;&#x80FD;&#x5C31;&#x4F1A;&#x76F4;&#x7EBF;&#x4E0B;&#x964D;&#x3002;</span></span><br><span class="line"><span class="comment">// &#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x4E0D;&#x8981;&#x7B49;&#x5230;&#x6EE1;&#x4E86;&#x624D;&#x6269;&#x5BB9;&#xFF0C;&#x800C;&#x662F;&#x5F53;&#x5B9E;&#x9645;&#x4E2A;&#x6570;&#x5230;&#x8FBE;&#x67D0;&#x4E2A;&#x6BD4;&#x4F8B;&#x5C31;&#x6269;&#x5BB9;&#x3002;</span></span><br><span class="line"><span class="comment">// &#x8FD9;&#x4E2A;&#x6BD4;&#x4F8B;&#x5C31;&#x662F;&#x8D1F;&#x8F7D;&#x56E0;&#x5B50;&#xFF1A;loadFactor&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0.75&#x3002;</span></span><br><span class="line"><span class="keyword">final</span> <span class="keyword">float</span> loadFactor;</span><br></pre></td></tr></table></figure></li><li><p>&#x9608;&#x503C;</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x503C;&#x5219;&#x4EE5;&#x7FFB;&#x500D;&#x5F62;&#x5F0F;&#x6269;&#x5BB9;(resize)</span></span><br><span class="line"><span class="comment">// &#x7B80;&#x5355;&#x7684;&#x8BA1;&#x7B97;&#xFF1A;threshold = capacity * load factor</span></span><br><span class="line"><span class="keyword">int</span> threshold;</span><br></pre></td></tr></table></figure></li></ul><table><tr><td bgcolor="#f6f6f6" align="left"><font color="#000"><strong>Initial capacity:</strong> The capacity<strong> is the number of buckets</strong>  in the hash table, The initial capacity is simply the capacity at the time the hash table is created. <br><strong>Load factor</strong>: The load factor <strong>is a measure of how full the hash table is allowed to get </strong>before its capacity is automatically increased.</font></td></tr></table><p>&#x7B80;&#x5355;&#x7684;&#x8BF4;&#xFF0C;Capacity&#x5C31;&#x662F;buckets&#x7684;&#x6570;&#x76EE;&#xFF0C;<code>loadFactor</code>&#x5C31;&#x662F;buckets&#x586B;&#x6EE1;&#x7A0B;&#x5EA6;&#x7684;&#x6700;&#x5927;&#x6BD4;&#x4F8B;&#x3002;&#x5982;&#x679C;&#x5BF9;&#x8FED;&#x4EE3;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x5F88;&#x9AD8;&#x7684;&#x8BDD;&#x4E0D;&#x8981;&#x628A;<code>capacity</code>&#x8BBE;&#x7F6E;&#x8FC7;&#x5927;&#xFF0C;&#x4E5F;&#x4E0D;&#x8981;&#x628A;<code>loadFactor</code>&#x8BBE;&#x7F6E;&#x8FC7;&#x5C0F;&#x3002;&#x5F53;bucket&#x586B;&#x5145;&#x7684;&#x6570;&#x76EE;&#xFF08;&#x5373;hashmap&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x4E2A;&#x6570;&#xFF09;&#x5927;&#x4E8E;$capacity*loadFactor$&#x65F6;&#x5C31;&#x9700;&#x8981;&#x8C03;&#x6574;buckets&#x7684;&#x6570;&#x76EE;&#x4E3A;&#x5F53;&#x524D;&#x7684;2&#x500D;&#x3002;</p><h2 id="4-HashMap-&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;"><a href="#4-HashMap-&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;" class="headerlink" title="4. HashMap &#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;"></a>4. HashMap &#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;</h2><p>HashMap &#x7684;&#x6838;&#x5FC3;&#x539F;&#x7406;&#x5C31;&#x662F;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x7684; key &#x8F6C;&#x5316;&#x4E3A; hash &#x503C;&#xFF0C;&#x653E;&#x5230;&#x67D0; n &#x957F;&#x5EA6;&#x7684;&#x6570;&#x7EC4;&#x4E2D;&#x6539; hash &#x5BF9;&#x5E94;&#x7684; position&#xFF0C;&#x6BD4;&#x5982; hash &#x4E3A; 0&#xFF0C;&#x5219;&#x653E;&#x5728;&#x6570;&#x7EC4;&#x7684;&#x7B2C;1&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x5982;&#x679C; hash &#x4E3A;111&#xFF0C;&#x5219;&#x653E;&#x5728;&#x6570;&#x7EC4;&#x7684;&#x7B2C; 112 &#x4E2A;&#x4F4D;&#x7F6E;&#x3002;&#x8FD9;&#x6837;&#x6BCF;&#x6B21;&#x6839;&#x636E; hash &#x503C;&#x5C31;&#x80FD;&#x76F4;&#x63A5;&#x77E5;&#x9053;&#x653E;&#x5728;&#x4EC0;&#x4E48;&#x4F4D;&#x7F6E;&#xFF0C;&#x6216;&#x8005;&#x53CD;&#x8FC7;&#x6765;&#xFF0C;&#x6839;&#x636E; hash &#x503C;&#x5C31;&#x80FD;&#x76F4;&#x63A5;&#x77E5;&#x9053;&#x4ECE;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#x53D6;&#x503C;&#x3002;<br>&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x4F1A;&#x9762;&#x4E34;&#x51E0;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p><p><strong>&#x7B2C;&#x4E00;&#xFF0C;hash &#x503C;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x5F88;&#x5927;&#xFF0C;&#x5C82;&#x4E0D;&#x662F;&#x6570;&#x7EC4;&#x8981;&#x5F88;&#x5927;&#xFF1F;</strong><br>&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x597D;&#x89E3;&#x51B3;&#xFF0C;hash&#x503C;&#x4E0E;&#x6309;&#x6570;&#x7EC4;&#x957F;&#x5EA6;&#x6267;&#x884C;<code>&amp;</code>&#xFF0C;&#x8FD9;&#x6837;&#x65E0;&#x8BBA;&#x591A;&#x5927;&#x7684; hash &#x603B;&#x80FD;&#x5728;&#x6570;&#x7EC4;&#x7684;&#x8303;&#x56F4;&#x4E4B;&#x5185;&#x3002;<br>&#x5173;&#x4E8E;&#x53D6;&#x6A21;&#x64CD;&#x4F5C;<code>(n - 1) &amp; hash</code><br>&#x4E0B;&#x6587;&#x6709;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x89E3;&#x91CA;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x3002;</p><p><strong>&#x7B2C;&#x4E8C;&#xFF0C;&#x53D6;&#x6A21;&#x540E;&#xFF0C;&#x90A3;&#x4E48;&#x591A; hash &#x53D6;&#x6A21;&#x53EF;&#x80FD;&#x91CD;&#x590D;&#x5728;&#x6570;&#x7EC4;&#x7684;&#x540C;&#x4E00;&#x4F4D;&#x7F6E;&#x600E;&#x4E48;&#x529E;&#xFF1F;</strong><br>&#x89C1;&#x4E0B;&#x6587;&#x7684;<strong>put()&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;</strong>&#x3002;</p><p><strong>&#x7B2C;&#x4E09;&#xFF0C;&#x6302;&#x8D77;&#x6765;&#x5BB9;&#x6613;&#xFF0C;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x600E;&#x4E48;&#x627E;&#xFF1F;</strong><br>&#x89C1;&#x4E0B;&#x6587;&#x7684;<strong>get()&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;</strong>&#x3002;</p><h2 id="5-put-&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;"><a href="#5-put-&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;" class="headerlink" title="5. put()&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;"></a>5. put()&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;</h2><p>put&#x51FD;&#x6570;&#x5927;&#x81F4;&#x7684;&#x601D;&#x8DEF;&#x4E3A;&#xFF1A;</p><ol><li>&#x5BF9;key&#x7684;hashCode()&#x505A;hash&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8BA1;&#x7B97;index;</li><li>&#x5982;&#x679C;&#x6CA1;&#x78B0;&#x649E;&#x76F4;&#x63A5;&#x653E;&#x5230;bucket&#x91CC;&#xFF1B;</li><li>&#x5982;&#x679C;&#x78B0;&#x649E;&#x4E86;&#xFF0C;&#x4EE5;&#x94FE;&#x8868;&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x5728;buckets&#x540E;&#xFF1B;</li><li>&#x5982;&#x679C;&#x78B0;&#x649E;&#x5BFC;&#x81F4;&#x94FE;&#x8868;&#x8FC7;&#x957F;(&#x5927;&#x4E8E;&#x7B49;&#x4E8E;TREEIFY_THRESHOLD)&#xFF0C;&#x5C31;&#x628A;&#x94FE;&#x8868;&#x8F6C;&#x6362;&#x6210;&#x7EA2;&#x9ED1;&#x6811;&#xFF1B;</li><li>&#x5982;&#x679C;&#x8282;&#x70B9;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5C31;&#x66FF;&#x6362;old value(&#x4FDD;&#x8BC1;key&#x7684;&#x552F;&#x4E00;&#x6027;)</li><li>&#x5982;&#x679C;bucket&#x6EE1;&#x4E86;(&#x8D85;&#x8FC7;$load factor*current capacity$)&#xFF0C;&#x5C31;&#x8981;resize&#x3002;</li></ol><p>&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x7684;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>{</span><br><span class="line">    <span class="comment">// &#x5BF9;key&#x7684;hashCode()&#x505A;hash</span></span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="function"><span class="params">               <span class="keyword">boolean</span> evict)</span> </span>{</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">    <span class="comment">// tab&#x4E3A;&#x7A7A;&#x5219;&#x521B;&#x5EFA;</span></span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    <span class="comment">// &#x8BA1;&#x7B97;index&#xFF0C;&#x5E76;&#x5BF9;null&#x505A;&#x5904;&#x7406;</span></span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">    <span class="keyword">else</span> {</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="comment">// &#x8282;&#x70B9;&#x5B58;&#x5728;</span></span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">            ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p;</span><br><span class="line">        <span class="comment">// &#x8BE5;&#x94FE;&#x4E3A;&#x6811;</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="keyword">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="comment">// &#x8BE5;&#x94FE;&#x4E3A;&#x94FE;&#x8868;</span></span><br><span class="line">        <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> binCount = <span class="number">0</span>; ; ++binCount) {</span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) {</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// &#x5199;&#x5165;</span></span><br><span class="line">        <span class="keyword">if</span> (e != <span class="keyword">null</span>) { <span class="comment">// existing mapping for key</span></span><br><span class="line">            V oldValue = e.value;</span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="keyword">null</span>)</span><br><span class="line">                e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="comment">// &#x8D85;&#x8FC7;load factor*current capacity&#xFF0C;resize</span></span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><h2 id="6-get-&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;"><a href="#6-get-&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;" class="headerlink" title="6. get()&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;"></a>6. get()&#x65B9;&#x6CD5;&#x7684;&#x539F;&#x7406;&#x548C;&#x5B9E;&#x73B0;</h2><p>&#x539F;&#x7406;: &#x901A;&#x8FC7;&#x5BF9;key&#x7684;hashCode()&#x8FDB;&#x884C;hash&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x8BA1;&#x7B97;&#x4E0B;&#x6807;( n-1 &amp; hash)&#xFF0C;&#x4ECE;&#x800C;&#x83B7;&#x5F97;buckets&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x5982;&#x679C;&#x4EA7;&#x751F;&#x78B0;&#x649E;&#xFF0C;&#x5219;&#x5229;&#x7528;key.equals()&#x65B9;&#x6CD5;&#x53BB;&#x94FE;&#x8868;&#x4E2D;&#x67E5;&#x627E;&#x5BF9;&#x5E94;&#x7684;&#x8282;&#x70B9;&#x3002;</p><p>&#x5927;&#x81F4;&#x601D;&#x8DEF;&#x5982;&#x4E0B;&#xFF1A;</p><ol><li>bucket&#x91CC;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x76F4;&#x63A5;&#x547D;&#x4E2D;&#xFF1B;</li><li>&#x5982;&#x679C;&#x6709;&#x51B2;&#x7A81;&#xFF0C;&#x5219;&#x901A;&#x8FC7;key.equals(k)&#x53BB;&#x67E5;&#x627E;&#x5BF9;&#x5E94;&#x7684;entry<br>&#x82E5;&#x4E3A;&#x6811;&#xFF0C;&#x5219;&#x5728;&#x6811;&#x4E2D;&#x901A;&#x8FC7;key.equals(k)&#x67E5;&#x627E;&#xFF0C;O(logn)&#xFF1B;<br>&#x82E5;&#x4E3A;&#x94FE;&#x8868;&#xFF0C;&#x5219;&#x5728;&#x94FE;&#x8868;&#x4E2D;&#x901A;&#x8FC7;key.equals(k)&#x67E5;&#x627E;&#xFF0C;O(n)&#x3002;</li></ol><p>&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x7684;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>{</span><br><span class="line">    Node&lt;K,V&gt; e;</span><br><span class="line">    <span class="keyword">return</span> (e = getNode(hash(key), key)) == <span class="keyword">null</span> ? <span class="keyword">null</span> : e.value;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">final</span> Node&lt;K,V&gt; <span class="title">getNode</span><span class="params">(<span class="keyword">int</span> hash, Object key)</span> </span>{</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; <span class="keyword">int</span> n; K k;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) != <span class="keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (first = tab[(n - <span class="number">1</span>) &amp; hash]) != <span class="keyword">null</span>) {</span><br><span class="line">        <span class="comment">// &#x76F4;&#x63A5;&#x547D;&#x4E2D;</span></span><br><span class="line">        <span class="keyword">if</span> (first.hash == hash &amp;&amp; <span class="comment">// always check first node</span></span><br><span class="line">            ((k = first.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line">        <span class="comment">// &#x672A;&#x547D;&#x4E2D;</span></span><br><span class="line">        <span class="keyword">if</span> ((e = first.next) != <span class="keyword">null</span>) {</span><br><span class="line">            <span class="comment">// &#x5728;&#x6811;&#x4E2D;get</span></span><br><span class="line">            <span class="keyword">if</span> (first <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                <span class="keyword">return</span> ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            <span class="comment">// &#x5728;&#x94FE;&#x8868;&#x4E2D;get</span></span><br><span class="line">            <span class="keyword">do</span> {</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">return</span> e;</span><br><span class="line">            } <span class="keyword">while</span> ((e = e.next) != <span class="keyword">null</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><h2 id="7-hash-&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;"><a href="#7-hash-&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;" class="headerlink" title="7.hash()&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;"></a>7.hash()&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;</h2><p>&#x5728;get&#x548C;put&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x8BA1;&#x7B97;&#x4E0B;&#x6807;&#x65F6;&#xFF0C;&#x5148;&#x5BF9;hashCode&#x8FDB;&#x884C;hash&#x64CD;&#x4F5C;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x901A;&#x8FC7;hash&#x503C;&#x8FDB;&#x4E00;&#x6B65;&#x8BA1;&#x7B97;&#x4E0B;&#x6807;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;<br><img src="/2019/09/18/HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x53CA;&#x5B9E;&#x73B0;/pic2.png" alt><br>&#x5728;&#x5BF9;hashCode()&#x8BA1;&#x7B97;hash&#x65F6;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5927;&#x6982;&#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#xFF1A;&#x9AD8;16bit&#x4E0D;&#x53D8;&#xFF0C;&#x4F4E;16bit&#x548C;&#x9AD8;16bit&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x5F02;&#x6216;&#x3002;&#x5176;&#x4E2D;&#x4EE3;&#x7801;&#x6CE8;&#x91CA;&#x662F;&#x8FD9;&#x6837;&#x5199;&#x7684;&#xFF1A;</p><table><tr><td bgcolor="#f6f6f6" align="left"><font color="#000">Computes key.hashCode() and spreads (XORs) higher bits of hash to lower. Because the table uses power-of-two masking, sets of hashes that vary only in bits above the current mask will always collide. (Among known examples are sets of Float keys holding consecutive whole numbers in small tables.) So we apply a transform that spreads the impact of higher bits downward. There is a tradeoff between <strong>speed, utility, and quality</strong> of bit-spreading. Because many common sets of hashes are already <strong>reasonably distributed</strong> (so don&#x2019;t benefit from spreading), and because <strong>we use trees to handle large sets of collisions in bins</strong>, we just XOR some shifted bits in the cheapest possible way to reduce systematic lossage, as well as to incorporate impact of the highest bits that would otherwise never be used in index calculations because of table bounds.</font></td></tr></table><p>&#x5728;&#x8BBE;&#x8BA1;hash&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x56E0;&#x4E3A;&#x76EE;&#x524D;&#x7684;table&#x957F;&#x5EA6;n&#x4E3A;2&#x7684;&#x5E42;&#xFF0C;&#x800C;&#x8BA1;&#x7B97;&#x4E0B;&#x6807;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;&#x7684;(&#x4F7F;&#x7528;<code>&amp;</code>&#x4F4D;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x975E;<code>%</code>&#x6C42;&#x4F59;)&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(n - <span class="number">1</span>) &amp; hash</span><br></pre></td></tr></table></figure></p><p>&#x8BBE;&#x8BA1;&#x8005;&#x8BA4;&#x4E3A;&#x8FD9;&#x65B9;&#x6CD5;&#x5F88;&#x5BB9;&#x6613;&#x53D1;&#x751F;&#x78B0;&#x649E;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E48;&#x8BF4;&#x5462;&#xFF1F;&#x4E0D;&#x59A8;&#x601D;&#x8003;&#x4E00;&#x4E0B;&#xFF0C;&#x5728;n - 1&#x4E3A;15(0x1111)&#x65F6;&#xFF0C;&#x5176;&#x5B9E;&#x6563;&#x5217;&#x771F;&#x6B63;&#x751F;&#x6548;&#x7684;&#x53EA;&#x662F;&#x4F4E;4bit&#x7684;&#x6709;&#x6548;&#x4F4D;&#xFF0C;&#x5F53;&#x7136;&#x5BB9;&#x6613;&#x78B0;&#x649E;&#x4E86;&#x3002;</p><p>&#x56E0;&#x6B64;&#xFF0C;&#x8BBE;&#x8BA1;&#x8005;&#x60F3;&#x4E86;&#x4E00;&#x4E2A;&#x987E;&#x5168;&#x5927;&#x5C40;&#x7684;&#x65B9;&#x6CD5;(&#x7EFC;&#x5408;&#x8003;&#x8651;&#x4E86;&#x901F;&#x5EA6;&#x3001;&#x5B9E;&#x7528;&#x6027;&#x3001;&#x8D28;&#x91CF;)&#xFF0C;&#x5C31;&#x662F;&#x628A;&#x9AD8;16bit&#x548C;&#x4F4E;16bit&#x5F02;&#x6216;&#x4E86;&#x4E00;&#x4E0B;&#x3002;&#x8BBE;&#x8BA1;&#x8005;&#x8FD8;&#x89E3;&#x91CA;&#x5230;&#x56E0;&#x4E3A;&#x73B0;&#x5728;&#x5927;&#x591A;&#x6570;&#x7684;hashCode&#x7684;&#x5206;&#x5E03;&#x5DF2;&#x7ECF;&#x5F88;&#x4E0D;&#x9519;&#x4E86;&#xFF0C;&#x5C31;&#x7B97;&#x662F;&#x53D1;&#x751F;&#x4E86;&#x78B0;&#x649E;&#x4E5F;&#x7528;O(logn)&#x7684;tree&#x53BB;&#x505A;&#x4E86;&#x3002;&#x4EC5;&#x4EC5;&#x5F02;&#x6216;&#x4E00;&#x4E0B;&#xFF0C;&#x65E2;&#x51CF;&#x5C11;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x5F00;&#x9500;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x9020;&#x6210;&#x7684;&#x56E0;&#x4E3A;&#x9AD8;&#x4F4D;&#x6CA1;&#x6709;&#x53C2;&#x4E0E;&#x4E0B;&#x6807;&#x7684;&#x8BA1;&#x7B97;(table&#x957F;&#x5EA6;&#x6BD4;&#x8F83;&#x5C0F;&#x65F6;)&#xFF0C;&#x4ECE;&#x800C;&#x5F15;&#x8D77;&#x7684;&#x78B0;&#x649E;&#x3002;</p><p>&#x5982;&#x679C;&#x8FD8;&#x662F;&#x4EA7;&#x751F;&#x4E86;&#x9891;&#x7E41;&#x7684;&#x78B0;&#x649E;&#xFF0C;&#x4F1A;&#x53D1;&#x751F;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x5462;&#xFF1F;&#x4F5C;&#x8005;&#x6CE8;&#x91CA;&#x8BF4;&#xFF0C;&#x4ED6;&#x4EEC;&#x4F7F;&#x7528;&#x6811;&#x6765;&#x5904;&#x7406;&#x9891;&#x7E41;&#x7684;&#x78B0;&#x649E;(we use trees to handle large sets of collisions in bins)&#xFF0C;&#x5728;<a href="http://openjdk.java.net/jeps/180" target="_blank" rel="noopener">JEP-180</a>&#x4E2D;&#xFF0C;&#x63CF;&#x8FF0;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p><table><tr><td bgcolor="#f6f6f6" align="left"><font color="#000">Improve the performance of java.util.HashMap under high hash-collision conditions <strong>by using balanced trees rather than linked lists to store map entries</strong>. Implement the same improvement in the LinkedHashMap class.</font></td></tr></table><p>&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x63D0;&#x8FC7;&#xFF0C;&#x5728;&#x83B7;&#x53D6;HashMap&#x7684;&#x5143;&#x7D20;&#x65F6;&#xFF0C;&#x57FA;&#x672C;&#x5206;&#x4E24;&#x6B65;&#xFF1A;</p><ol><li>&#x9996;&#x5148;&#x6839;&#x636E;hashCode()&#x505A;hash&#xFF0C;&#x7136;&#x540E;&#x786E;&#x5B9A;bucket&#x7684;index&#xFF1B;</li><li>&#x5982;&#x679C;bucket&#x7684;&#x8282;&#x70B9;&#x7684;key&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#xFF0C;&#x5219;&#x901A;&#x8FC7;keys.equals()&#x5728;&#x94FE;&#x4E2D;&#x627E;&#x3002;</li></ol><p>&#x5728;Java 8&#x4E4B;&#x524D;&#x7684;&#x5B9E;&#x73B0;&#x4E2D;&#x662F;&#x7528;&#x94FE;&#x8868;&#x89E3;&#x51B3;&#x51B2;&#x7A81;&#x7684;&#xFF0C;&#x5728;&#x4EA7;&#x751F;&#x78B0;&#x649E;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;get&#x65F6;&#xFF0C;&#x4E24;&#x6B65;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x662F;O(1)+O(n)&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5F53;&#x78B0;&#x649E;&#x5F88;&#x5389;&#x5BB3;&#x7684;&#x65F6;&#x5019;n&#x5F88;&#x5927;&#xFF0C;O(n)&#x7684;&#x901F;&#x5EA6;&#x663E;&#x7136;&#x662F;&#x5F71;&#x54CD;&#x901F;&#x5EA6;&#x7684;&#x3002;</p><p>&#x56E0;&#x6B64;&#x5728;Java 8&#x4E2D;&#xFF0C;&#x5229;&#x7528;&#x7EA2;&#x9ED1;&#x6811;&#x66FF;&#x6362;&#x94FE;&#x8868;&#xFF0C;&#x8FD9;&#x6837;&#x590D;&#x6742;&#x5EA6;&#x5C31;&#x53D8;&#x6210;&#x4E86;O(1)+O(logn)&#x4E86;&#xFF0C;&#x8FD9;&#x6837;&#x5728;n&#x5F88;&#x5927;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x80FD;&#x591F;&#x6BD4;&#x8F83;&#x7406;&#x60F3;&#x7684;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5728;<a href="http://www.importnew.com/14417.html" target="_blank" rel="noopener">Java 8&#xFF1A;HashMap&#x7684;&#x6027;&#x80FD;&#x63D0;&#x5347;</a>&#x4E00;&#x6587;&#x4E2D;&#x6709;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x7684;&#x7ED3;&#x679C;&#x3002;</p><h2 id="8-RESIZE&#x7684;&#x5B9E;&#x73B0;"><a href="#8-RESIZE&#x7684;&#x5B9E;&#x73B0;" class="headerlink" title="8.RESIZE&#x7684;&#x5B9E;&#x73B0;"></a>8.RESIZE&#x7684;&#x5B9E;&#x73B0;</h2><p>&#x5F53;put&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x76EE;&#x524D;&#x7684;bucket&#x5360;&#x7528;&#x7A0B;&#x5EA6;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;&#x4E86;Load Factor&#x6240;&#x5E0C;&#x671B;&#x7684;&#x6BD4;&#x4F8B;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x53D1;&#x751F;resize&#x3002;&#x5728;resize&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x5C31;&#x662F;&#x628A;bucket&#x6269;&#x5145;&#x4E3A;2&#x500D;&#xFF0C;&#x4E4B;&#x540E;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;index&#xFF0C;&#x628A;&#x8282;&#x70B9;&#x518D;&#x653E;&#x5230;&#x65B0;&#x7684;bucket&#x4E2D;&#x3002;resize&#x7684;&#x6CE8;&#x91CA;&#x662F;&#x8FD9;&#x6837;&#x63CF;&#x8FF0;&#x7684;&#xFF1A;</p><table><tr><td bgcolor="#f6f6f6" align="left"><font color="#000">Initializes or doubles table size. If null, allocates in accord with initial capacity target held in field threshold. Otherwise, because we are using power-of-two expansion, the elements from each bin must either <strong>stay at same index, or move with a power of two offset in the new table</strong>.</font></td></tr></table><p>&#x5927;&#x81F4;&#x610F;&#x601D;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5F53;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#x7684;&#x65F6;&#x5019;&#x4F1A;resize&#xFF0C;&#x7136;&#x800C;&#x53C8;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x662F;2&#x6B21;&#x5E42;&#x7684;&#x6269;&#x5C55;(&#x6307;&#x957F;&#x5EA6;&#x6269;&#x4E3A;&#x539F;&#x6765;2&#x500D;)&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x5143;&#x7D20;&#x7684;&#x4F4D;&#x7F6E;&#x8981;&#x4E48;&#x662F;&#x5728;&#x539F;&#x4F4D;&#x7F6E;&#xFF0C;&#x8981;&#x4E48;&#x662F;&#x5728;&#x539F;&#x4F4D;&#x7F6E;&#x518D;&#x79FB;&#x52A8;2&#x6B21;&#x5E42;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p><p>&#x600E;&#x4E48;&#x7406;&#x89E3;&#x5462;&#xFF1F;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x4ECE;16&#x6269;&#x5C55;&#x4E3A;32&#x65F6;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x53D8;&#x5316;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;<br><img src="/2019/09/18/HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x53CA;&#x5B9E;&#x73B0;/pic3.png" alt><br>&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x6269;&#x5145;HashMap&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;hash&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x770B;&#x770B;&#x539F;&#x6765;&#x7684;hash&#x503C;&#x65B0;&#x589E;&#x7684;&#x90A3;&#x4E2A;bit&#x662F;1&#x8FD8;&#x662F;0&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x662F;0&#x7684;&#x8BDD;&#x7D22;&#x5F15;&#x6CA1;&#x53D8;&#xFF0C;&#x662F;1&#x7684;&#x8BDD;&#x7D22;&#x5F15;&#x53D8;&#x6210;&#x201C;&#x539F;&#x7D22;&#x5F15;+oldCap&#x201D;&#x3002;&#x53EF;&#x4EE5;&#x770B;&#x770B;&#x4E0B;&#x56FE;&#x4E3A;16&#x6269;&#x5145;&#x4E3A;32&#x7684;resize&#x793A;&#x610F;&#x56FE;&#xFF1A;<br><img src="/2019/09/18/HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x53CA;&#x5B9E;&#x73B0;/pic4.png" alt><br>&#x8FD9;&#x4E2A;&#x8BBE;&#x8BA1;&#x786E;&#x5B9E;&#x975E;&#x5E38;&#x7684;&#x5DE7;&#x5999;&#xFF0C;&#x65E2;&#x7701;&#x53BB;&#x4E86;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;hash&#x503C;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x800C;&#x4E14;&#x540C;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x65B0;&#x589E;&#x7684;1bit&#x662F;0&#x8FD8;&#x662F;1&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x968F;&#x673A;&#x7684;&#xFF0C;&#x56E0;&#x6B64;resize&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5747;&#x5300;&#x7684;&#x628A;&#x4E4B;&#x524D;&#x7684;&#x51B2;&#x7A81;&#x7684;&#x8282;&#x70B9;&#x5206;&#x6563;&#x5230;&#x65B0;&#x7684;bucket&#x4E86;&#x3002;</p><p>&#x4E0B;&#x9762;&#x662F;&#x4EE3;&#x7801;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt;[] resize() {</span><br><span class="line">    Node&lt;K,V&gt;[] oldTab = table;</span><br><span class="line">    <span class="keyword">int</span> oldCap = (oldTab == <span class="keyword">null</span>) ? <span class="number">0</span> : oldTab.length;</span><br><span class="line">    <span class="keyword">int</span> oldThr = threshold;</span><br><span class="line">    <span class="keyword">int</span> newCap, newThr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (oldCap &gt; <span class="number">0</span>) {</span><br><span class="line">        <span class="comment">// &#x8D85;&#x8FC7;&#x6700;&#x5927;&#x503C;&#x5C31;&#x4E0D;&#x518D;&#x6269;&#x5145;&#x4E86;&#xFF0C;&#x5C31;&#x53EA;&#x597D;&#x968F;&#x4F60;&#x78B0;&#x649E;&#x53BB;&#x5427;</span></span><br><span class="line">        <span class="keyword">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) {</span><br><span class="line">            threshold = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">return</span> oldTab;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// &#x6CA1;&#x8D85;&#x8FC7;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x5C31;&#x6269;&#x5145;&#x4E3A;&#x539F;&#x6765;&#x7684;2&#x500D;</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="number">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">            newThr = oldThr &lt;&lt; <span class="number">1</span>; <span class="comment">// double threshold</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (oldThr &gt; <span class="number">0</span>) <span class="comment">// initial capacity was placed in threshold</span></span><br><span class="line">        newCap = oldThr;</span><br><span class="line">    <span class="keyword">else</span> {               <span class="comment">// zero initial threshold signifies using defaults</span></span><br><span class="line">        newCap = DEFAULT_INITIAL_CAPACITY;</span><br><span class="line">        newThr = (<span class="keyword">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// &#x8BA1;&#x7B97;&#x65B0;&#x7684;resize&#x4E0A;&#x9650;</span></span><br><span class="line">    <span class="keyword">if</span> (newThr == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">float</span> ft = (<span class="keyword">float</span>)newCap * loadFactor;</span><br><span class="line">        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class="keyword">float</span>)MAXIMUM_CAPACITY ?</span><br><span class="line">                  (<span class="keyword">int</span>)ft : Integer.MAX_VALUE);</span><br><span class="line">    }</span><br><span class="line">    threshold = newThr;</span><br><span class="line">    <span class="meta">@SuppressWarnings</span>({<span class="string">&quot;rawtypes&quot;</span>,<span class="string">&quot;unchecked&quot;</span>})</span><br><span class="line">        Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class="keyword">new</span> Node[newCap];</span><br><span class="line">    table = newTab;</span><br><span class="line">    <span class="keyword">if</span> (oldTab != <span class="keyword">null</span>) {</span><br><span class="line">        <span class="comment">// &#x628A;&#x6BCF;&#x4E2A;bucket&#x90FD;&#x79FB;&#x52A8;&#x5230;&#x65B0;&#x7684;buckets&#x4E2D;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; oldCap; ++j) {</span><br><span class="line">            Node&lt;K,V&gt; e;</span><br><span class="line">            <span class="keyword">if</span> ((e = oldTab[j]) != <span class="keyword">null</span>) {</span><br><span class="line">                oldTab[j] = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (e.next == <span class="keyword">null</span>)</span><br><span class="line">                    newTab[e.hash &amp; (newCap - <span class="number">1</span>)] = e;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                    ((TreeNode&lt;K,V&gt;)e).split(<span class="keyword">this</span>, newTab, j, oldCap);</span><br><span class="line">                <span class="keyword">else</span> { <span class="comment">// preserve order</span></span><br><span class="line">                    Node&lt;K,V&gt; loHead = <span class="keyword">null</span>, loTail = <span class="keyword">null</span>;</span><br><span class="line">                    Node&lt;K,V&gt; hiHead = <span class="keyword">null</span>, hiTail = <span class="keyword">null</span>;</span><br><span class="line">                    Node&lt;K,V&gt; next;</span><br><span class="line">                    <span class="keyword">do</span> {</span><br><span class="line">                        next = e.next;</span><br><span class="line">                        <span class="comment">// &#x539F;&#x7D22;&#x5F15;</span></span><br><span class="line">                        <span class="keyword">if</span> ((e.hash &amp; oldCap) == <span class="number">0</span>) {</span><br><span class="line">                            <span class="keyword">if</span> (loTail == <span class="keyword">null</span>)</span><br><span class="line">                                loHead = e;</span><br><span class="line">                            <span class="keyword">else</span></span><br><span class="line">                                loTail.next = e;</span><br><span class="line">                            loTail = e;</span><br><span class="line">                        }</span><br><span class="line">                        <span class="comment">// &#x539F;&#x7D22;&#x5F15;+oldCap</span></span><br><span class="line">                        <span class="keyword">else</span> {</span><br><span class="line">                            <span class="keyword">if</span> (hiTail == <span class="keyword">null</span>)</span><br><span class="line">                                hiHead = e;</span><br><span class="line">                            <span class="keyword">else</span></span><br><span class="line">                                hiTail.next = e;</span><br><span class="line">                            hiTail = e;</span><br><span class="line">                        }</span><br><span class="line">                    } <span class="keyword">while</span> ((e = next) != <span class="keyword">null</span>);</span><br><span class="line">                    <span class="comment">// &#x539F;&#x7D22;&#x5F15;&#x653E;&#x5230;bucket&#x91CC;</span></span><br><span class="line">                    <span class="keyword">if</span> (loTail != <span class="keyword">null</span>) {</span><br><span class="line">                        loTail.next = <span class="keyword">null</span>;</span><br><span class="line">                        newTab[j] = loHead;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="comment">// &#x539F;&#x7D22;&#x5F15;+oldCap&#x653E;&#x5230;bucket&#x91CC;</span></span><br><span class="line">                    <span class="keyword">if</span> (hiTail != <span class="keyword">null</span>) {</span><br><span class="line">                        hiTail.next = <span class="keyword">null</span>;</span><br><span class="line">                        newTab[j + oldCap] = hiHead;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> newTab;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><h2 id="9-&#x6269;&#x5C55;-&#x4E3A;&#x4EC0;&#x4E48;String-Interger&#x8FD9;&#x6837;&#x7684;&#x7C7B;&#x9002;&#x5408;&#x4F5C;&#x4E3A;&#x952E;&#xFF1F;"><a href="#9-&#x6269;&#x5C55;-&#x4E3A;&#x4EC0;&#x4E48;String-Interger&#x8FD9;&#x6837;&#x7684;&#x7C7B;&#x9002;&#x5408;&#x4F5C;&#x4E3A;&#x952E;&#xFF1F;" class="headerlink" title="9. &#x6269;&#x5C55;: &#x4E3A;&#x4EC0;&#x4E48;String, Interger&#x8FD9;&#x6837;&#x7684;&#x7C7B;&#x9002;&#x5408;&#x4F5C;&#x4E3A;&#x952E;&#xFF1F;"></a>9. &#x6269;&#x5C55;: &#x4E3A;&#x4EC0;&#x4E48;String, Interger&#x8FD9;&#x6837;&#x7684;&#x7C7B;&#x9002;&#x5408;&#x4F5C;&#x4E3A;&#x952E;&#xFF1F;</h2><p>String, Interger&#x8FD9;&#x6837;&#x7684;&#x7C7B;&#x4F5C;&#x4E3A;HashMap&#x7684;&#x952E;&#x662F;&#x518D;&#x9002;&#x5408;&#x4E0D;&#x8FC7;&#x4E86;&#xFF0C;&#x800C;&#x4E14;String&#x6700;&#x4E3A;&#x5E38;&#x7528;&#x3002;<br>&#x3000;&#x3000;&#x56E0;&#x4E3A;String&#x5BF9;&#x8C61;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x5DF2;&#x7ECF;&#x91CD;&#x5199;&#x4E86;equals()&#x548C;hashCode()&#x65B9;&#x6CD5;&#x4E86;&#x3002;<br>&#x3000;&#x3000;1.&#x4E0D;&#x53EF;&#x53D8;&#x6027;&#x662F;&#x5FC5;&#x8981;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x4E3A;&#x4E86;&#x8981;&#x8BA1;&#x7B97;hashCode()&#xFF0C;&#x5C31;&#x8981;&#x9632;&#x6B62;&#x952E;&#x503C;&#x6539;&#x53D8;&#xFF0C;&#x5982;&#x679C;&#x952E;&#x503C;&#x5728;&#x653E;&#x5165;&#x65F6;&#x548C;&#x83B7;&#x53D6;&#x65F6;&#x8FD4;&#x56DE;&#x4E0D;&#x540C;&#x7684;hashcode&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x80FD;&#x4ECE;HashMap&#x4E2D;&#x627E;&#x5230;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x4E0D;&#x53EF;&#x53D8;&#x6027;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x4F18;&#x70B9;&#x5982;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x3002;<br>&#x3000;&#x3000;&#x6CE8;&#xFF1A;String&#x7684;&#x4E0D;&#x53EF;&#x53D8;&#x6027;&#x53EF;&#x4EE5;&#x770B;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;<a href="https://blog.csdn.net/u012512634/article/details/72735183" target="_blank" rel="noopener">&#x300A;&#x3010;java&#x57FA;&#x7840;&#x3011;&#x6D45;&#x6790;String&#x300B;</a>&#x3002;<br>&#x3000;&#x3000;2.&#x56E0;&#x4E3A;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#x8981;&#x7528;&#x5230;equals()&#x548C;hashCode()&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x952E;&#x5BF9;&#x8C61;&#x6B63;&#x786E;&#x7684;&#x91CD;&#x5199;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x4E0D;&#x76F8;&#x7B49;&#x7684;&#x5BF9;&#x8C61;&#x8FD4;&#x56DE;&#x4E0D;&#x540C;&#x7684;hashcode&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x78B0;&#x649E;&#x7684;&#x51E0;&#x7387;&#x5C31;&#x4F1A;&#x5C0F;&#x4E9B;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x63D0;&#x9AD8;HashMap&#x7684;&#x6027;&#x80FD;&#x3002;</p><h2 id="10-&#x6269;&#x5C55;-HashMap&#x4E0E;HashTable&#x533A;&#x522B;"><a href="#10-&#x6269;&#x5C55;-HashMap&#x4E0E;HashTable&#x533A;&#x522B;" class="headerlink" title="10. &#x6269;&#x5C55;:HashMap&#x4E0E;HashTable&#x533A;&#x522B;"></a>10. &#x6269;&#x5C55;:HashMap&#x4E0E;HashTable&#x533A;&#x522B;</h2><p>HashTable&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7248;&#x7684;HashMap&#xFF0C;&#x4E24;&#x8005;&#x51E0;&#x4E4E;&#x201C;&#x7B49;&#x4EF7;&#x201D;&#xFF08;&#x5F53;&#x7136;&#x8FD8;&#x662F;&#x6709;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#xFF09;&#x3002;HashTable&#x51E0;&#x4E4E;&#x5728;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x4E0A;&#x90FD;&#x52A0;&#x4E0A;synchronized&#xFF08;&#x540C;&#x6B65;&#x9501;&#xFF09;&#xFF0C;&#x5B9E;&#x73B0;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x3002;</p><h3 id="10-1-&#x533A;&#x522B;"><a href="#10-1-&#x533A;&#x522B;" class="headerlink" title="10.1. &#x533A;&#x522B;"></a>10.1. &#x533A;&#x522B;</h3><p>1.HashMap&#x7EE7;&#x627F;&#x4E8E;AbstractMap&#xFF0C;&#x800C;Hashtable&#x7EE7;&#x627F;&#x4E8E;Dictionary&#xFF1B;<br>2.&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x4E0D;&#x540C;&#x3002;HashTable&#x7684;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x51FD;&#x6570;&#x90FD;&#x662F;&#x540C;&#x6B65;&#x7684;&#xFF0C;&#x5373;&#x5B83;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x7EBF;&#x7A0B;&#x3002;&#x800C;HashMap&#x7684;&#x51FD;&#x6570;&#x5219;&#x662F;&#x975E;&#x540C;&#x6B65;&#x7684;&#xFF0C;&#x5B83;&#x4E0D;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x3002;&#x82E5;&#x8981;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x4E2D;&#x4F7F;&#x7528;HashMap&#xFF0C;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x989D;&#x5916;&#x7684;&#x8FDB;&#x884C;&#x540C;&#x6B65;&#x5904;&#x7406;&#xFF1B;<br>3.null&#x503C;&#x3002;HashMap&#x7684;key&#x3001;value&#x90FD;&#x53EF;&#x4EE5;&#x4E3A;null&#x3002;<strong>HashTable&#x7684;key&#x3001;value&#x90FD;&#x4E0D;&#x53EF;&#x4EE5;&#x4E3A;null</strong>&#xFF1B;<br>4.&#x8FED;&#x4EE3;&#x5668;(Iterator)&#x3002;HashMap&#x7684;&#x8FED;&#x4EE3;&#x5668;(Iterator)&#x662F;fail-fast&#x8FED;&#x4EE3;&#x5668;&#xFF0C;&#x800C;HashTable&#x7684;enumerator&#x8FED;&#x4EE3;&#x5668;&#x4E0D;&#x662F;fail-fast&#x7684;&#x3002;&#x6240;&#x4EE5;&#x5F53;&#x6709;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x6539;&#x53D8;&#x4E86;HashMap&#x7684;&#x7ED3;&#x6784;&#xFF08;&#x589E;&#x52A0;&#x6216;&#x8005;&#x79FB;&#x9664;&#x5143;&#x7D20;&#xFF09;&#xFF0C;&#x5C06;&#x4F1A;&#x629B;&#x51FA;ConcurrentModificationException&#x3002;<br>5.&#x5BB9;&#x91CF;&#x7684;&#x521D;&#x59CB;&#x503C;&#x548C;&#x589E;&#x52A0;&#x65B9;&#x5F0F;&#x90FD;&#x4E0D;&#x4E00;&#x6837;&#xFF1A;HashMap&#x9ED8;&#x8BA4;&#x7684;&#x5BB9;&#x91CF;&#x5927;&#x5C0F;&#x662F;16&#xFF1B;&#x589E;&#x52A0;&#x5BB9;&#x91CF;&#x65F6;&#xFF0C;&#x6BCF;&#x6B21;&#x5C06;&#x5BB9;&#x91CF;&#x53D8;&#x4E3A;&#x201C;&#x539F;&#x59CB;&#x5BB9;&#x91CF;x2&#x201D;&#x3002;HashTable&#x9ED8;&#x8BA4;&#x7684;&#x5BB9;&#x91CF;&#x5927;&#x5C0F;&#x662F;11&#xFF1B;&#x589E;&#x52A0;&#x5BB9;&#x91CF;&#x65F6;&#xFF0C;&#x6BCF;&#x6B21;&#x5C06;&#x5BB9;&#x91CF;&#x53D8;&#x4E3A;&#x201C;&#x539F;&#x59CB;&#x5BB9;&#x91CF;x2 + 1&#x201D;&#xFF1B;<br>6.&#x6DFB;&#x52A0;key-value&#x65F6;&#x7684;hash&#x503C;&#x7B97;&#x6CD5;&#x4E0D;&#x540C;&#xFF1A;HashMap&#x6DFB;&#x52A0;&#x5143;&#x7D20;&#x65F6;&#xFF0C;&#x662F;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x3002;HashTable&#x6CA1;&#x6709;&#x81EA;&#x5B9A;&#x4E49;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#xFF0C;&#x800C;&#x76F4;&#x63A5;&#x91C7;&#x7528;&#x7684;key&#x7684;hashCode()&#x3002;<br>7.&#x901F;&#x5EA6;&#x3002;&#x7531;&#x4E8E;HashTable&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x4E5F;&#x662F;synchronized&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x5355;&#x7EBF;&#x7A0B;&#x73AF;&#x5883;&#x4E0B;&#x5B83;&#x6BD4;HashMap&#x8981;&#x6162;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x540C;&#x6B65;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5355;&#x4E00;&#x7EBF;&#x7A0B;&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;HashMap&#x6027;&#x80FD;&#x8981;&#x597D;&#x8FC7;HashTable&#x3002;</p><h3 id="10-2-&#x80FD;&#x5426;&#x8BA9;HashMap&#x540C;&#x6B65;&#xFF1F;"><a href="#10-2-&#x80FD;&#x5426;&#x8BA9;HashMap&#x540C;&#x6B65;&#xFF1F;" class="headerlink" title="10.2.&#x80FD;&#x5426;&#x8BA9;HashMap&#x540C;&#x6B65;&#xFF1F;"></a>10.2.&#x80FD;&#x5426;&#x8BA9;HashMap&#x540C;&#x6B65;&#xFF1F;</h3><p>HashMap&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x8BED;&#x53E5;&#x8FDB;&#x884C;&#x540C;&#x6B65;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map m = Collections.synchronizeMap(hashMap);</span><br></pre></td></tr></table></figure></p><h2 id="&#x5C0F;&#x7ED3;HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;"><a href="#&#x5C0F;&#x7ED3;HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;" class="headerlink" title="&#x5C0F;&#x7ED3;HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;"></a>&#x5C0F;&#x7ED3;HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;</h2><p>&#x901A;&#x8FC7;hash&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x8FC7;put&#x548C;get&#x5B58;&#x50A8;&#x548C;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x3002;&#x5B58;&#x50A8;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;K/V&#x4F20;&#x7ED9;put&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x5B83;&#x8C03;&#x7528;hashCode&#x8BA1;&#x7B97;hash&#x4ECE;&#x800C;&#x5F97;&#x5230;bucket&#x4F4D;&#x7F6E;&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x5B58;&#x50A8;&#xFF0C;HashMap&#x4F1A;&#x6839;&#x636E;&#x5F53;&#x524D;bucket&#x7684;&#x5360;&#x7528;&#x60C5;&#x51B5;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5BB9;&#x91CF;(&#x8D85;&#x8FC7;Load Facotr&#x5219;resize&#x4E3A;&#x539F;&#x6765;&#x7684;2&#x500D;)&#x3002;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;K&#x4F20;&#x7ED9;get&#xFF0C;&#x5B83;&#x8C03;&#x7528;hashCode&#x8BA1;&#x7B97;hash&#x4ECE;&#x800C;&#x5F97;&#x5230;bucket&#x4F4D;&#x7F6E;&#xFF0C;&#x5E76;&#x8FDB;&#x4E00;&#x6B65;&#x8C03;&#x7528;equals()&#x65B9;&#x6CD5;&#x786E;&#x5B9A;&#x952E;&#x503C;&#x5BF9;&#x3002;&#x5982;&#x679C;&#x53D1;&#x751F;&#x78B0;&#x649E;&#x7684;&#x65F6;&#x5019;&#xFF0C;Hashmap&#x901A;&#x8FC7;&#x94FE;&#x8868;&#x5C06;&#x4EA7;&#x751F;&#x78B0;&#x649E;&#x51B2;&#x7A81;&#x7684;&#x5143;&#x7D20;&#x7EC4;&#x7EC7;&#x8D77;&#x6765;&#xFF0C;&#x5728;Java 8&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;bucket&#x4E2D;&#x78B0;&#x649E;&#x51B2;&#x7A81;&#x7684;&#x5143;&#x7D20;&#x8D85;&#x8FC7;&#x67D0;&#x4E2A;&#x9650;&#x5236;(&#x9ED8;&#x8BA4;&#x662F;8)&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x7EA2;&#x9ED1;&#x6811;&#x6765;&#x66FF;&#x6362;&#x94FE;&#x8868;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x9AD8;&#x901F;&#x5EA6;&#x3002;</p><p>&#x53C2;&#x8003;:<br>Java HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x53CA;&#x5B9E;&#x73B0; <a href="https://yikun.github.io/2015/04/01/Java-HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x53CA;&#x5B9E;&#x73B0;/" target="_blank" rel="noopener">https://yikun.github.io/2015/04/01/Java-HashMap&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x53CA;&#x5B9E;&#x73B0;</a><br>&#x7406;&#x89E3;HashMap <a href="https://jayfeng.com/2016/12/28/&#x7406;&#x89E3;HashMap/" target="_blank" rel="noopener">https://jayfeng.com/2016/12/28/&#x7406;&#x89E3;HashMap/</a><br>&#x3010;java&#x96C6;&#x5408;&#x3011;HashMap&#x5E38;&#x89C1;&#x9762;&#x8BD5;&#x9898; <a href="https://blog.csdn.net/u012512634/article/details/72735183" target="_blank" rel="noopener">https://blog.csdn.net/u012512634/article/details/72735183</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-&amp;#x6982;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#1-&amp;#x6982;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;1. &amp;#x6982;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;1. &amp;#x6982;&amp;#x8FF0;&lt;/h2&gt;&lt;p&gt;&amp;#x4ECE;&amp;#x672C;&amp;#x6587;&amp;#x4F60;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B66;&amp;#x4E60;&amp;#x5230;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td bgcolor=&quot;#f6f6f6&quot; align=&quot;left&quot;&gt;
&lt;font color=&quot;#000&quot;&gt;
1. &amp;#x4EC0;&amp;#x4E48;&amp;#x65F6;&amp;#x5019;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;HashMap&amp;#xFF1F;&amp;#x5B83;&amp;#x6709;&amp;#x4EC0;&amp;#x4E48;&amp;#x7279;&amp;#x70B9;&amp;#xFF1F;&lt;br&gt;
2. &amp;#x4F60;&amp;#x77E5;&amp;#x9053;HashMap&amp;#x7684;&amp;#x5DE5;&amp;#x4F5C;&amp;#x539F;&amp;#x7406;&amp;#x5417;&amp;#xFF1F;&lt;br&gt;
3. &amp;#x4F60;&amp;#x77E5;&amp;#x9053;get&amp;#x548C;put&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#x5417;&amp;#xFF1F;equals()&amp;#x548C;hashCode()&amp;#x7684;&amp;#x90FD;&amp;#x6709;&amp;#x4EC0;&amp;#x4E48;&amp;#x4F5C;&amp;#x7528;&amp;#xFF1F;&lt;br&gt;
4. &amp;#x4F60;&amp;#x77E5;&amp;#x9053;hash&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x5417;&amp;#xFF1F;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x8981;&amp;#x8FD9;&amp;#x6837;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF1F;&lt;br&gt;
5. &amp;#x5982;&amp;#x679C;HashMap&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x8D85;&amp;#x8FC7;&amp;#x4E86;&amp;#x8D1F;&amp;#x8F7D;&amp;#x56E0;&amp;#x5B50;(load factor)&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x5BB9;&amp;#x91CF;&amp;#xFF0C;&amp;#x600E;&amp;#x4E48;&amp;#x529E;&amp;#xFF1F;&lt;br&gt;
&lt;/font&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="HashMap" scheme="https://cqh-i.github.io/tags/HashMap/"/>
    
  </entry>
  
  <entry>
    <title>(转载)约瑟夫环——公式法(递推公式)</title>
    <link href="https://cqh-i.github.io/2019/09/15/%E8%BD%AC%E8%BD%BD-%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E2%80%94%E2%80%94%E5%85%AC%E5%BC%8F%E6%B3%95-%E9%80%92%E6%8E%A8%E5%85%AC%E5%BC%8F/"/>
    <id>https://cqh-i.github.io/2019/09/15/转载-约瑟夫环——公式法-递推公式/</id>
    <published>2019-09-15T08:45:49.000Z</published>
    <updated>2019-09-15T10:05:42.701Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://blog.csdn.net/u011500062/article/details/72855826" target="_blank" rel="noopener">https://blog.csdn.net/u011500062/article/details/72855826</a></p><h2 id="&#x7EA6;&#x745F;&#x592B;&#x95EE;&#x9898;"><a href="#&#x7EA6;&#x745F;&#x592B;&#x95EE;&#x9898;" class="headerlink" title="&#x7EA6;&#x745F;&#x592B;&#x95EE;&#x9898;"></a>&#x7EA6;&#x745F;&#x592B;&#x95EE;&#x9898;</h2><p>&#x7EA6;&#x745F;&#x592B;&#x95EE;&#x9898;&#x662F;&#x4E2A;&#x8457;&#x540D;&#x7684;&#x95EE;&#x9898;&#xFF1A;N&#x4E2A;&#x4EBA;&#x56F4;&#x6210;&#x4E00;&#x5708;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x4EBA;&#x4ECE;1&#x5F00;&#x59CB;&#x62A5;&#x6570;&#xFF0C;&#x62A5;M&#x7684;&#x5C06;&#x88AB;&#x6740;&#x6389;&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;&#x4EBA;&#x63A5;&#x7740;&#x4ECE;1&#x5F00;&#x59CB;&#x62A5;&#x3002;&#x5982;&#x6B64;&#x53CD;&#x590D;&#xFF0C;&#x6700;&#x540E;&#x5269;&#x4E0B;&#x4E00;&#x4E2A;&#xFF0C;&#x6C42;&#x6700;&#x540E;&#x7684;&#x80DC;&#x5229;&#x8005;&#x3002;<br>&#x4F8B;&#x5982;&#x53EA;&#x6709;&#x4E09;&#x4E2A;&#x4EBA;&#xFF0C;&#x628A;&#x4ED6;&#x4EEC;&#x53EB;&#x505A;A&#x3001;B&#x3001;C&#xFF0C;&#x4ED6;&#x4EEC;&#x56F4;&#x6210;&#x4E00;&#x5708;&#xFF0C;&#x4ECE;A&#x5F00;&#x59CB;&#x62A5;&#x6570;&#xFF0C;&#x5047;&#x8BBE;&#x62A5;2&#x7684;&#x4EBA;&#x88AB;&#x6740;&#x6389;&#x3002;</p><a id="more"></a><ul><li>&#x9996;&#x5148;A&#x5F00;&#x59CB;&#x62A5;&#x6570;&#xFF0C;&#x4ED6;&#x62A5;1&#x3002;&#x4FA5;&#x5E78;&#x9003;&#x8FC7;&#x4E00;&#x52AB;&#x3002;</li><li>&#x7136;&#x540E;&#x8F6E;&#x5230;B&#x62A5;&#x6570;&#xFF0C;&#x4ED6;&#x62A5;2&#x3002;&#x975E;&#x5E38;&#x60E8;&#xFF0C;&#x4ED6;&#x88AB;&#x6740;&#x4E86;</li><li>C&#x63A5;&#x7740;&#x4ECE;1&#x5F00;&#x59CB;&#x62A5;&#x6570;</li><li>&#x63A5;&#x7740;&#x8F6E;&#x5230;A&#x62A5;&#x6570;&#xFF0C;&#x4ED6;&#x62A5;2&#x3002;&#x4E5F;&#x88AB;&#x6740;&#x6B7B;&#x4E86;&#x3002;</li><li>&#x6700;&#x7EC8;&#x80DC;&#x5229;&#x8005;&#x662F;C</li></ul><h2 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;"><a href="#&#x89E3;&#x51B3;&#x65B9;&#x6848;" class="headerlink" title="&#x89E3;&#x51B3;&#x65B9;&#x6848;"></a>&#x89E3;&#x51B3;&#x65B9;&#x6848;</h2><h3 id="&#x666E;&#x901A;&#x89E3;&#x6CD5;"><a href="#&#x666E;&#x901A;&#x89E3;&#x6CD5;" class="headerlink" title="&#x666E;&#x901A;&#x89E3;&#x6CD5;"></a>&#x666E;&#x901A;&#x89E3;&#x6CD5;</h3><p>&#x521A;&#x5B66;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x7528;&#x94FE;&#x8868;&#x7684;&#x65B9;&#x6CD5;&#x53BB;&#x6A21;&#x62DF;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;N&#x4E2A;&#x4EBA;&#x770B;&#x4F5C;&#x662F;N&#x4E2A;&#x94FE;&#x8868;&#x8282;&#x70B9;&#xFF0C;&#x8282;&#x70B9;1&#x6307;&#x5411;&#x8282;&#x70B9;2&#xFF0C;&#x8282;&#x70B9;2&#x6307;&#x5411;&#x8282;&#x70B9;3&#xFF0C;&#x2026;&#x2026;&#xFF0C;&#x8282;&#x70B9;N-1&#x6307;&#x5411;&#x8282;&#x70B9;N&#xFF0C;&#x8282;&#x70B9;N&#x6307;&#x5411;&#x8282;&#x70B9;1&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5F62;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x73AF;&#x3002;&#x7136;&#x540E;&#x4ECE;&#x8282;&#x70B9;1&#x5F00;&#x59CB;1&#x3001;2&#x3001;3&#x2026;&#x2026;&#x5F80;&#x4E0B;&#x62A5;&#x6570;&#xFF0C;&#x6BCF;&#x62A5;&#x5230;M&#xFF0C;&#x5C31;&#x628A;&#x90A3;&#x4E2A;&#x8282;&#x70B9;&#x4ECE;&#x73AF;&#x4E0A;&#x5220;&#x9664;&#x3002;&#x4E0B;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x63A5;&#x7740;&#x4ECE;1&#x5F00;&#x59CB;&#x62A5;&#x6570;&#x3002;&#x6700;&#x7EC8;&#x94FE;&#x8868;&#x4EC5;&#x5269;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x3002;&#x5B83;&#x5C31;&#x662F;&#x6700;&#x7EC8;&#x7684;&#x80DC;&#x5229;&#x8005;&#x3002;</p><p><img src="/2019/09/15/&#x8F6C;&#x8F7D;-&#x7EA6;&#x745F;&#x592B;&#x73AF;&#x2014;&#x2014;&#x516C;&#x5F0F;&#x6CD5;-&#x9012;&#x63A8;&#x516C;&#x5F0F;/pic1.jpg" alt></p><h3 id="&#x7F3A;&#x70B9;&#xFF1A;"><a href="#&#x7F3A;&#x70B9;&#xFF1A;" class="headerlink" title="&#x7F3A;&#x70B9;&#xFF1A;"></a>&#x7F3A;&#x70B9;&#xFF1A;</h3><p>&#x8981;&#x6A21;&#x62DF;&#x6574;&#x4E2A;&#x6E38;&#x620F;&#x8FC7;&#x7A0B;&#xFF0C;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x9AD8;&#x8FBE;O(nm)&#xFF0C;&#x5F53;n&#xFF0C;m&#x975E;&#x5E38;&#x5927;(&#x4F8B;&#x5982;&#x4E0A;&#x767E;&#x4E07;&#xFF0C;&#x4E0A;&#x5343;&#x4E07;)&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x51E0;&#x4E4E;&#x662F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x5728;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x51FA;&#x7ED3;&#x679C;&#x7684;&#x3002;</p><h3 id="&#x516C;&#x5F0F;&#x6CD5;"><a href="#&#x516C;&#x5F0F;&#x6CD5;" class="headerlink" title="&#x516C;&#x5F0F;&#x6CD5;"></a>&#x516C;&#x5F0F;&#x6CD5;</h3><p>&#x7EA6;&#x745F;&#x592B;&#x73AF;&#x662F;&#x4E00;&#x4E2A;&#x7ECF;&#x5178;&#x7684;&#x6570;&#x5B66;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x96BE;&#x53D1;&#x73B0;&#x8FD9;&#x6837;&#x7684;&#x4F9D;&#x6B21;&#x62A5;&#x6570;&#xFF0C;&#x4F3C;&#x4E4E;&#x6709;&#x89C4;&#x5F8B;&#x53EF;&#x5FAA;&#x3002;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x5BFC;&#x51FA;&#x9012;&#x63A8;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x4E00;&#x4E0B;&#x9898;&#x76EE;&#x3002;<br><strong>&#x95EE;&#x9898;&#xFF1A;</strong> N&#x4E2A;&#x4EBA;&#x7F16;&#x53F7;&#x4E3A;1&#xFF0C;2&#xFF0C;&#x2026;&#x2026;&#xFF0C;N&#xFF0C;&#x4F9D;&#x6B21;&#x62A5;&#x6570;&#xFF0C;&#x6BCF;&#x62A5;&#x5230;M&#x65F6;&#xFF0C;&#x6740;&#x6389;&#x90A3;&#x4E2A;&#x4EBA;&#xFF0C;&#x6C42;&#x6700;&#x540E;&#x80DC;&#x5229;&#x8005;&#x7684;&#x7F16;&#x53F7;&#x3002;</p><p>&#x8FD9;&#x8FB9;&#x6211;&#x4EEC;&#x5148;&#x628A;&#x7ED3;&#x8BBA;&#x629B;&#x51FA;&#x4E86;&#x3002;&#x4E4B;&#x540E;&#x5E26;&#x9886;&#x5927;&#x5BB6;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x7684;&#x7406;&#x89E3;&#x8FD9;&#x4E2A;&#x516C;&#x5F0F;&#x662F;&#x4EC0;&#x4E48;&#x6765;&#x7684;&#x3002;</p><p><strong>&#x9012;&#x63A8;&#x516C;&#x5F0F;&#xFF1A;</strong></p><script type="math/tex; mode=display">f(N,M)=(f(N−1,M)+M)\%N</script><ul><li>$f(N,M)$&#x8868;&#x793A;&#xFF0C;N&#x4E2A;&#x4EBA;&#x62A5;&#x6570;&#xFF0C;&#x6BCF;&#x62A5;&#x5230;M&#x65F6;&#x6740;&#x6389;&#x90A3;&#x4E2A;&#x4EBA;&#xFF0C;&#x6700;&#x7EC8;&#x80DC;&#x5229;&#x8005;&#x7684;&#x7F16;&#x53F7;</li><li>$f(N&#x2212;1,M)$&#x8868;&#x793A;&#xFF0C;N-1&#x4E2A;&#x4EBA;&#x62A5;&#x6570;&#xFF0C;&#x6BCF;&#x62A5;&#x5230;M&#x65F6;&#x6740;&#x6389;&#x90A3;&#x4E2A;&#x4EBA;&#xFF0C;&#x6700;&#x7EC8;&#x80DC;&#x5229;&#x8005;&#x7684;&#x7F16;&#x53F7;</li></ul><p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x4E0D;&#x7528;&#x5B57;&#x6BCD;&#x8868;&#x793A;&#x6BCF;&#x4E00;&#x4E2A;&#x4EBA;&#xFF0C;&#x800C;&#x7528;&#x6570;&#x5B57;&#x3002;</p><script type="math/tex; mode=display">1、2、3、4、5、6、7、8、9、10、11</script><p>&#x8868;&#x793A;11&#x4E2A;&#x4EBA;&#xFF0C;&#x4ED6;&#x4EEC;&#x5148;&#x6392;&#x6210;&#x4E00;&#x6392;&#xFF0C;&#x5047;&#x8BBE;&#x6BCF;&#x62A5;&#x5230;3&#x7684;&#x4EBA;&#x88AB;&#x6740;&#x6389;&#x3002;</p><ul><li>&#x521A;&#x5F00;&#x59CB;&#x65F6;&#xFF0C;&#x5934;&#x4E00;&#x4E2A;&#x4EBA;&#x7F16;&#x53F7;&#x662F;1&#xFF0C;&#x4ECE;&#x4ED6;&#x5F00;&#x59CB;&#x62A5;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x8F6E;&#x88AB;&#x6740;&#x6389;&#x7684;&#x662F;&#x7F16;&#x53F7;3&#x7684;&#x4EBA;&#x3002;</li><li>&#x7F16;&#x53F7;4&#x7684;&#x4EBA;&#x4ECE;1&#x5F00;&#x59CB;&#x91CD;&#x65B0;&#x62A5;&#x6570;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x7F16;&#x53F7;4&#x8FD9;&#x4E2A;&#x4EBA;&#x662F;&#x961F;&#x4F0D;&#x7684;&#x5934;&#x3002;&#x7B2C;&#x4E8C;&#x8F6E;&#x88AB;&#x6740;&#x6389;&#x7684;&#x662F;&#x7F16;&#x53F7;6&#x7684;&#x4EBA;&#x3002;</li><li>&#x7F16;&#x53F7;7&#x7684;&#x4EBA;&#x5F00;&#x59CB;&#x91CD;&#x65B0;&#x62A5;&#x6570;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x7F16;&#x53F7;7&#x8FD9;&#x4E2A;&#x4EBA;&#x662F;&#x961F;&#x4F0D;&#x7684;&#x5934;&#x3002;&#x7B2C;&#x4E09;&#x8F6E;&#x88AB;&#x6740;&#x6389;&#x7684;&#x662F;&#x7F16;&#x53F7;9&#x7684;&#x4EBA;&#x3002;</li><li>&#x2026;&#x2026;</li><li>&#x7B2C;&#x4E5D;&#x8F6E;&#x65F6;&#xFF0C;&#x7F16;&#x53F7;2&#x7684;&#x4EBA;&#x5F00;&#x59CB;&#x91CD;&#x65B0;&#x62A5;&#x6570;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x7F16;&#x53F7;2&#x8FD9;&#x4E2A;&#x4EBA;&#x662F;&#x961F;&#x4F0D;&#x7684;&#x5934;&#x3002;&#x8FD9;&#x8F6E;&#x88AB;&#x6740;&#x6389;&#x7684;&#x662F;&#x7F16;&#x53F7;8&#x7684;&#x4EBA;&#x3002;</li><li>&#x4E0B;&#x4E00;&#x4E2A;&#x4EBA;&#x8FD8;&#x662F;&#x7F16;&#x53F7;&#x4E3A;2&#x7684;&#x4EBA;&#xFF0C;&#x4ED6;&#x4ECE;1&#x5F00;&#x59CB;&#x62A5;&#x6570;&#xFF0C;&#x4E0D;&#x5E78;&#x7684;&#x662F;&#x4ED6;&#x5728;&#x8FD9;&#x8F6E;&#x88AB;&#x6740;&#x6389;&#x4E86;&#x3002;</li><li>&#x6700;&#x540E;&#x7684;&#x80DC;&#x5229;&#x8005;&#x662F;&#x7F16;&#x53F7;&#x4E3A;7&#x7684;&#x4EBA;&#x3002;</li></ul><p>&#x4E0B;&#x56FE;&#x8868;&#x793A;&#x8FD9;&#x4E00;&#x8FC7;&#x7A0B;&#xFF08;&#x5148;&#x5FFD;&#x89C6;&#x7EFF;&#x8272;&#x7684;&#x4E00;&#x884C;&#xFF09;</p><p><img src="/2019/09/15/&#x8F6C;&#x8F7D;-&#x7EA6;&#x745F;&#x592B;&#x73AF;&#x2014;&#x2014;&#x516C;&#x5F0F;&#x6CD5;-&#x9012;&#x63A8;&#x516C;&#x5F0F;/pic2.jpg" alt></p><p>&#x73B0;&#x5728;&#x518D;&#x6765;&#x770B;&#x6211;&#x4EEC;&#x9012;&#x63A8;&#x516C;&#x5F0F;&#x662F;&#x600E;&#x4E48;&#x5F97;&#x5230;&#x7684;&#xFF01;<br><strong>&#x5C06;&#x4E0A;&#x9762;&#x8868;&#x683C;&#x7684;&#x6BCF;&#x4E00;&#x884C;&#x770B;&#x6210;&#x6570;&#x7EC4;&#xFF0C;&#x8FD9;&#x4E2A;&#x516C;&#x5F0F;&#x63CF;&#x8FF0;&#x7684;&#x662F;&#xFF1A;&#x5E78;&#x5B58;&#x8005;&#x5728;&#x8FD9;&#x4E00;&#x8F6E;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;</strong></p><ul><li>$f(1,3)$&#xFF1A;&#x53EA;&#x6709;1&#x4E2A;&#x4EBA;&#x4E86;&#xFF0C;&#x90A3;&#x4E2A;&#x4EBA;&#x5C31;&#x662F;&#x83B7;&#x80DC;&#x8005;&#xFF0C;&#x4ED6;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x662F;0</li><li>$f(2,3)=(f(1,3) + 3) \% 2 = 3 \% 2 = 1$&#xFF1A;&#x5728;&#x6709;2&#x4E2A;&#x4EBA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x4E3A;1</li><li>$f(3,3)=(f(2,3)+3)\%3=4\%3=1$&#xFF1A;&#x5728;&#x6709;3&#x4E2A;&#x4EBA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x4E3A;1</li><li>$f(4,3)=(f(3,3)+3)\%4=4\%4=0$&#xFF1A;&#x5728;&#x6709;4&#x4E2A;&#x4EBA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x4E3A;0</li><li>&#x2026;&#x2026;</li><li>$f(11,3)=6$</li></ul><p>&#x5F88;&#x795E;&#x5947;&#x5427;&#xFF01;&#x73B0;&#x5728;&#x4F60;&#x8FD8;&#x6000;&#x7591;&#x8FD9;&#x4E2A;&#x516C;&#x5F0F;&#x7684;&#x6B63;&#x786E;&#x6027;&#x5417;&#xFF1F;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x9A8C;&#x8BC1;&#x4E86;&#x8FD9;&#x4E2A;&#x9012;&#x63A8;&#x516C;&#x5F0F;&#x7684;&#x786E;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x51FA;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x4E0B;&#x9762;&#x5C06;&#x8BB2;&#x89E3;&#x600E;&#x4E48;&#x63A8;&#x5BFC;&#x8FD9;&#x4E2A;&#x516C;&#x5F0F;&#x3002;</p><p><strong>&#x95EE;&#x9898;1&#xFF1A;</strong>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;11&#x4E2A;&#x4EBA;&#x65F6;&#xFF0C;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x4E3A;6&#x3002;&#x90A3;&#x4E0B;&#x4E00;&#x8F6E;10&#x4E2A;&#x4EBA;&#x65F6;&#xFF0C;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x4E3A;&#x591A;&#x5C11;&#xFF1F;<br><strong>&#x7B54;&#xFF1A;</strong>&#x5176;&#x5B9E;&#x5427;&#xFF0C;&#x7B2C;&#x4E00;&#x8F6E;&#x5220;&#x6389;&#x7F16;&#x53F7;&#x4E3A;3&#x7684;&#x4EBA;&#x540E;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x4EBA;&#x90FD;&#x5F80;&#x524D;&#x9762;&#x79FB;&#x52A8;&#x4E86;3&#x4F4D;&#xFF0C;&#x80DC;&#x5229;&#x8FD9;&#x4E5F;&#x5F80;&#x524D;&#x79FB;&#x52A8;&#x4E86;3&#x4F4D;&#xFF0C;&#x6240;&#x4EE5;&#x4ED6;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x7531;6&#x53D8;&#x6210;3&#x3002;</p><p><strong>&#x95EE;&#x9898;2&#xFF1A;</strong>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;10&#x4E2A;&#x4EBA;&#x65F6;&#xFF0C;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x4E3A;3&#x3002;&#x90A3;&#x4E0A;&#x4E00;&#x8F6E;11&#x4E2A;&#x4EBA;&#x65F6;&#xFF0C;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x4E3A;&#x591A;&#x5C11;&#xFF1F;<br><strong>&#x7B54;&#xFF1A;</strong>&#x8FD9;&#x53EF;&#x4EE5;&#x770B;&#x9519;&#x662F;&#x4E0A;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x9006;&#x8FC7;&#x7A0B;&#xFF0C;&#x5927;&#x5BB6;&#x90FD;&#x5F80;&#x540E;&#x79FB;&#x52A8;3&#x4F4D;&#xFF0C;&#x6240;&#x4EE5;$f(11,3)=f(10,3)+3$&#x3002;&#x4E0D;&#x8FC7;&#x6709;&#x53EF;&#x80FD;&#x6570;&#x7EC4;&#x4F1A;&#x8D8A;&#x754C;&#xFF0C;&#x6240;&#x4EE5;&#x6700;&#x540E;&#x6A21;&#x4E0A;&#x5F53;&#x524D;&#x4EBA;&#x6570;&#x7684;&#x4E2A;&#x6570;&#xFF0C;$f(11,3)=&#xFF08;f(10,3)+3)\%11$</p><p><strong>&#x6CE8;&#xFF1A;</strong>&#x7406;&#x89E3;&#x8FD9;&#x4E2A;&#x9012;&#x63A8;&#x5F0F;&#x7684;&#x6838;&#x5FC3;&#x5728;&#x4E8E;&#x5173;&#x6CE8;&#x80DC;&#x5229;&#x8005;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;&#x662F;&#x600E;&#x4E48;&#x53D8;&#x7684;&#x3002;&#x6BCF;&#x6740;&#x6389;&#x4E00;&#x4E2A;&#x4EBA;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x628A;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x5411;&#x524D;&#x79FB;&#x52A8;&#x4E86;M&#x4F4D;&#x3002;&#x7136;&#x540E;&#x9006;&#x8FC7;&#x6765;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x8FD9;&#x4E2A;&#x9012;&#x63A8;&#x5F0F;&#x3002;</p><p>&#x56E0;&#x4E3A;&#x6C42;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x7F16;&#x53F7;&#x8FD8;&#x8981;&#x52A0;1</p><p>&#x4E0B;&#x9762;&#x7ED9;&#x51FA;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF1A;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cir</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>{<span class="comment">//n&#x4E2A;&#x4EBA;, &#x62A5;&#x5230;m&#x7684;&#x4EBA;&#x51FA;&#x5C40;, &#x8FD4;&#x56DE;&#x5E78;&#x5B58;&#x8005;&#x5728;&#x6700;&#x521D;&#x961F;&#x4F0D;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;</span></span><br><span class="line"><span class="keyword">int</span> p=<span class="number">0</span>;<span class="comment">//&#x5E78;&#x5B58;&#x8005;&#x7684;&#x4F4D;&#x7F6E;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">{</span><br><span class="line">p=(p+m)%i;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> p+<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="Cqh-i&#x8865;&#x5145;"><a href="#Cqh-i&#x8865;&#x5145;" class="headerlink" title="Cqh_i&#x8865;&#x5145;"></a>Cqh_i&#x8865;&#x5145;</h3><p>&#x5982;&#x679C;&#x8981;&#x6A21;&#x62DF;&#x51FA;&#x5217;&#x987A;&#x5E8F;, &#x600E;&#x4E48;&#x529E;?</p><p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;LinkedList &#x6765;&#x6A21;&#x62DF;, &#x56E0;&#x4E3A;LinkedList&#x63D2;&#x5165;&#x5220;&#x9664;&#x6548;&#x7387;&#x6BD4;ArrayList&#x9AD8;&#x3002;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">cir</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>{</span><br><span class="line"></span><br><span class="line">    LinkedList&lt;Integer&gt; linkedList = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        linkedList.add(i);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> index = m - <span class="number">1</span>; <span class="comment">// &#x521D;&#x59CB;&#x5316;&#xFF0C;index&#x6307;&#x5411;&#x7B2C;&#x4E00;&#x4E2A;&#x51FA;&#x5217;&#x7684;&#x4EBA;, &#x56E0;&#x4E3A;linkedListed&#x662F;&#x4ECE;&#x4E0B;&#x6807;0&#x5F00;&#x59CB;, &#x6240;&#x4EE5;&#x8981;&#x51CF;1</span></span><br><span class="line">    <span class="keyword">while</span> (linkedList.size() != <span class="number">0</span>) {</span><br><span class="line">        System.out.println(<span class="string">&quot;&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;&quot;</span> + linkedList);</span><br><span class="line">        <span class="comment">// &#x7528;&#x7D22;&#x5F15; % &#x94FE;&#x8868;&#x957F;&#x5EA6;&#x8FDB;&#x884C;&#x53D6;&#x4F59;&#x64CD;&#x4F5C;&#xFF0C;&#x907F;&#x514D;&#x4E0B;&#x6807;&#x8D8A;&#x754C;</span></span><br><span class="line">        index = index % linkedList.size();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#x51FA;&#x5217;</span></span><br><span class="line">        System.out.println(linkedList.get(index) + <span class="string">&quot;&#x53F7;&#x51FA;&#x5217;&quot;</span>);</span><br><span class="line">        linkedList.remove(index);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#x65B0;&#x7684;&#x7D22;&#x5F15;&#x5C31;&#x8981;&#x4ECE;&#x51FA;&#x5217;&#x7684;&#x4EBA;&#x91CD;&#x65B0;&#x5F00;&#x59CB;&#x6570;&#xFF0C;&#x518D;&#x6B21;&#x6570;&#x5230;m-1&#x3002;</span></span><br><span class="line">        index += m - <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x8FD0;&#x884C;&#x7ED3;&#x679C;:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]</span><br><span class="line">3&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[1, 2, 4, 5, 6, 7, 8, 9, 10, 11]</span><br><span class="line">6&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[1, 2, 4, 5, 7, 8, 9, 10, 11]</span><br><span class="line">9&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[1, 2, 4, 5, 7, 8, 10, 11]</span><br><span class="line">1&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[2, 4, 5, 7, 8, 10, 11]</span><br><span class="line">5&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[2, 4, 7, 8, 10, 11]</span><br><span class="line">10&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[2, 4, 7, 8, 11]</span><br><span class="line">4&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[2, 7, 8, 11]</span><br><span class="line">11&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[2, 7, 8]</span><br><span class="line">8&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[2, 7]</span><br><span class="line">2&#x53F7;&#x51FA;&#x5217;</span><br><span class="line">&#x5E78;&#x5B58;&#x8005;&#x961F;&#x5217;[7]</span><br><span class="line">7&#x53F7;&#x51FA;&#x5217;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://blog.csdn.net/u011500062/article/details/72855826&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/u011500062/article/details/72855826&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x7EA6;&amp;#x745F;&amp;#x592B;&amp;#x95EE;&amp;#x9898;&quot;&gt;&lt;a href=&quot;#&amp;#x7EA6;&amp;#x745F;&amp;#x592B;&amp;#x95EE;&amp;#x9898;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7EA6;&amp;#x745F;&amp;#x592B;&amp;#x95EE;&amp;#x9898;&quot;&gt;&lt;/a&gt;&amp;#x7EA6;&amp;#x745F;&amp;#x592B;&amp;#x95EE;&amp;#x9898;&lt;/h2&gt;&lt;p&gt;&amp;#x7EA6;&amp;#x745F;&amp;#x592B;&amp;#x95EE;&amp;#x9898;&amp;#x662F;&amp;#x4E2A;&amp;#x8457;&amp;#x540D;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#xFF1A;N&amp;#x4E2A;&amp;#x4EBA;&amp;#x56F4;&amp;#x6210;&amp;#x4E00;&amp;#x5708;&amp;#xFF0C;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x4EBA;&amp;#x4ECE;1&amp;#x5F00;&amp;#x59CB;&amp;#x62A5;&amp;#x6570;&amp;#xFF0C;&amp;#x62A5;M&amp;#x7684;&amp;#x5C06;&amp;#x88AB;&amp;#x6740;&amp;#x6389;&amp;#xFF0C;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;&amp;#x4EBA;&amp;#x63A5;&amp;#x7740;&amp;#x4ECE;1&amp;#x5F00;&amp;#x59CB;&amp;#x62A5;&amp;#x3002;&amp;#x5982;&amp;#x6B64;&amp;#x53CD;&amp;#x590D;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x5269;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;&amp;#xFF0C;&amp;#x6C42;&amp;#x6700;&amp;#x540E;&amp;#x7684;&amp;#x80DC;&amp;#x5229;&amp;#x8005;&amp;#x3002;&lt;br&gt;&amp;#x4F8B;&amp;#x5982;&amp;#x53EA;&amp;#x6709;&amp;#x4E09;&amp;#x4E2A;&amp;#x4EBA;&amp;#xFF0C;&amp;#x628A;&amp;#x4ED6;&amp;#x4EEC;&amp;#x53EB;&amp;#x505A;A&amp;#x3001;B&amp;#x3001;C&amp;#xFF0C;&amp;#x4ED6;&amp;#x4EEC;&amp;#x56F4;&amp;#x6210;&amp;#x4E00;&amp;#x5708;&amp;#xFF0C;&amp;#x4ECE;A&amp;#x5F00;&amp;#x59CB;&amp;#x62A5;&amp;#x6570;&amp;#xFF0C;&amp;#x5047;&amp;#x8BBE;&amp;#x62A5;2&amp;#x7684;&amp;#x4EBA;&amp;#x88AB;&amp;#x6740;&amp;#x6389;&amp;#x3002;&lt;/p&gt;
    
    </summary>
    
      <category term="算法" scheme="https://cqh-i.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="约瑟夫环" scheme="https://cqh-i.github.io/tags/%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF/"/>
    
  </entry>
  
  <entry>
    <title>(转载)Innodb中的事务隔离级别和锁的关系</title>
    <link href="https://cqh-i.github.io/2019/09/14/%E8%BD%AC%E8%BD%BD-Innodb%E4%B8%AD%E7%9A%84%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8C%E9%94%81%E7%9A%84%E5%85%B3%E7%B3%BB/"/>
    <id>https://cqh-i.github.io/2019/09/14/转载-Innodb中的事务隔离级别和锁的关系/</id>
    <published>2019-09-14T12:20:30.000Z</published>
    <updated>2019-09-14T16:47:30.459Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://tech.meituan.com/2014/08/20/innodb-lock.html" target="_blank" rel="noopener">https://tech.meituan.com/2014/08/20/innodb-lock.html</a></p><h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h2><blockquote><p>&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#x4E8B;&#x52A1;&#x7684;&#x51E0;&#x79CD;&#x6027;&#x8D28;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4E3A;&#x4E86;&#x7EF4;&#x62A4;&#x8FD9;&#x4E9B;&#x6027;&#x8D28;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x4E00;&#x81F4;&#x6027;&#x548C;&#x9694;&#x79BB;&#x6027;&#xFF0C;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x52A0;&#x9501;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x3002;&#x540C;&#x65F6;&#x6570;&#x636E;&#x5E93;&#x53C8;&#x662F;&#x4E2A;&#x9AD8;&#x5E76;&#x53D1;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x4F1A;&#x6709;&#x5927;&#x91CF;&#x7684;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#xFF0C;&#x5982;&#x679C;&#x52A0;&#x9501;&#x8FC7;&#x5EA6;&#xFF0C;&#x4F1A;&#x6781;&#x5927;&#x7684;&#x964D;&#x4F4E;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x80FD;&#x529B;&#x3002;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x52A0;&#x9501;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x5C31;&#x662F;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x4E8E;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x7684;&#x7CBE;&#x9AD3;&#x6240;&#x5728;&#x3002;&#x8FD9;&#x91CC;&#x901A;&#x8FC7;&#x5206;&#x6790;MySQL&#x4E2D;InnoDB&#x5F15;&#x64CE;&#x7684;&#x52A0;&#x9501;&#x673A;&#x5236;&#xFF0C;&#x6765;&#x629B;&#x7816;&#x5F15;&#x7389;&#xFF0C;&#x8BA9;&#x8BFB;&#x8005;&#x66F4;&#x597D;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x5728;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x4E2D;&#x6570;&#x636E;&#x5E93;&#x5230;&#x5E95;&#x505A;&#x4E86;&#x4EC0;&#x4E48;&#x3002;</p></blockquote><a id="more"></a><h2 id="&#x4E00;&#x6B21;&#x5C01;&#x9501;or&#x4E24;&#x6BB5;&#x9501;&#xFF1F;"><a href="#&#x4E00;&#x6B21;&#x5C01;&#x9501;or&#x4E24;&#x6BB5;&#x9501;&#xFF1F;" class="headerlink" title="&#x4E00;&#x6B21;&#x5C01;&#x9501;or&#x4E24;&#x6BB5;&#x9501;&#xFF1F;"></a>&#x4E00;&#x6B21;&#x5C01;&#x9501;or&#x4E24;&#x6BB5;&#x9501;&#xFF1F;</h2><p>&#x56E0;&#x4E3A;&#x6709;&#x5927;&#x91CF;&#x7684;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#xFF0C;&#x4E3A;&#x4E86;&#x9884;&#x9632;&#x6B7B;&#x9501;&#xFF0C;&#x4E00;&#x822C;&#x5E94;&#x7528;&#x4E2D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#x5C01;&#x9501;&#x6CD5;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x65B9;&#x6CD5;&#x7684;&#x5F00;&#x59CB;&#x9636;&#x6BB5;&#xFF0C;&#x5DF2;&#x7ECF;&#x9884;&#x5148;&#x77E5;&#x9053;&#x4F1A;&#x7528;&#x5230;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5168;&#x90E8;&#x9501;&#x4F4F;&#xFF0C;&#x5728;&#x65B9;&#x6CD5;&#x8FD0;&#x884C;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x5168;&#x90E8;&#x89E3;&#x9501;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x6709;&#x6548;&#x7684;&#x907F;&#x514D;&#x5FAA;&#x73AF;&#x6B7B;&#x9501;&#xFF0C;&#x4F46;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5374;&#x4E0D;&#x9002;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x9636;&#x6BB5;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x4F1A;&#x7528;&#x5230;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x3002;</p><p>&#x6570;&#x636E;&#x5E93;&#x9075;&#x5FAA;&#x7684;&#x662F;&#x4E24;&#x6BB5;&#x9501;&#x534F;&#x8BAE;&#xFF0C;&#x5C06;&#x4E8B;&#x52A1;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;&#x52A0;&#x9501;&#x9636;&#x6BB5;&#x548C;&#x89E3;&#x9501;&#x9636;&#x6BB5;&#xFF08;&#x6240;&#x4EE5;&#x53EB;&#x4E24;&#x6BB5;&#x9501;&#xFF09;</p><ul><li>&#x52A0;&#x9501;&#x9636;&#x6BB5;&#xFF1A;&#x5728;&#x8BE5;&#x9636;&#x6BB5;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x52A0;&#x9501;&#x64CD;&#x4F5C;&#x3002;&#x5728;&#x5BF9;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8BFB;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x8981;&#x7533;&#x8BF7;&#x5E76;&#x83B7;&#x5F97;S&#x9501;&#xFF08;&#x5171;&#x4EAB;&#x9501;&#xFF0C;&#x5176;&#x5B83;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x52A0;&#x5171;&#x4EAB;&#x9501;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x52A0;&#x6392;&#x5B83;&#x9501;&#xFF09;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x8981;&#x7533;&#x8BF7;&#x5E76;&#x83B7;&#x5F97;X&#x9501;&#xFF08;&#x6392;&#x5B83;&#x9501;&#xFF0C;&#x5176;&#x5B83;&#x4E8B;&#x52A1;&#x4E0D;&#x80FD;&#x518D;&#x83B7;&#x5F97;&#x4EFB;&#x4F55;&#x9501;&#xFF09;&#x3002;&#x52A0;&#x9501;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x5219;&#x4E8B;&#x52A1;&#x8FDB;&#x5165;&#x7B49;&#x5F85;&#x72B6;&#x6001;&#xFF0C;&#x76F4;&#x5230;&#x52A0;&#x9501;&#x6210;&#x529F;&#x624D;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;</li><li>&#x89E3;&#x9501;&#x9636;&#x6BB5;&#xFF1A;&#x5F53;&#x4E8B;&#x52A1;&#x91CA;&#x653E;&#x4E86;&#x4E00;&#x4E2A;&#x5C01;&#x9501;&#x4EE5;&#x540E;&#xFF0C;&#x4E8B;&#x52A1;&#x8FDB;&#x5165;&#x89E3;&#x9501;&#x9636;&#x6BB5;&#xFF0C;&#x5728;&#x8BE5;&#x9636;&#x6BB5;&#x53EA;&#x80FD;&#x8FDB;&#x884C;&#x89E3;&#x9501;&#x64CD;&#x4F5C;&#x4E0D;&#x80FD;&#x518D;&#x8FDB;&#x884C;&#x52A0;&#x9501;&#x64CD;&#x4F5C;&#x3002;</li></ul><div class="table-container"><table><thead><tr><th style="text-align:left">&#x4E8B;&#x52A1;</th><th style="text-align:left">&#x52A0;&#x9501;/&#x89E3;&#x9501;&#x5904;&#x7406;</th></tr></thead><tbody><tr><td style="text-align:left">begin&#xFF1B;</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">insert into test &#x2026;..</td><td style="text-align:left">&#x52A0;insert&#x5BF9;&#x5E94;&#x7684;&#x9501;</td></tr><tr><td style="text-align:left">update test set&#x2026;</td><td style="text-align:left">&#x52A0;update&#x5BF9;&#x5E94;&#x7684;&#x9501;</td></tr><tr><td style="text-align:left">delete from test &#x2026;.</td><td style="text-align:left">&#x52A0;delete&#x5BF9;&#x5E94;&#x7684;&#x9501;</td></tr><tr><td style="text-align:left">commit;</td><td style="text-align:left">&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x540C;&#x65F6;&#x91CA;&#x653E;insert&#x3001;update&#x3001;delete&#x5BF9;&#x5E94;&#x7684;&#x9501;</td></tr></tbody></table></div><p>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x867D;&#x7136;&#x65E0;&#x6CD5;&#x907F;&#x514D;&#x6B7B;&#x9501;&#xFF0C;&#x4F46;&#x662F;&#x4E24;&#x6BB5;&#x9501;&#x534F;&#x8BAE;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x7684;&#x5E76;&#x53D1;&#x8C03;&#x5EA6;&#x662F;&#x4E32;&#x884C;&#x5316;&#xFF08;&#x4E32;&#x884C;&#x5316;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5728;&#x6570;&#x636E;&#x6062;&#x590D;&#x548C;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;&#xFF09;&#x7684;&#x3002;</p><h2 id="&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x52A0;&#x9501;&#x65B9;&#x5F0F;"><a href="#&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x52A0;&#x9501;&#x65B9;&#x5F0F;" class="headerlink" title="&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x52A0;&#x9501;&#x65B9;&#x5F0F;"></a>&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x52A0;&#x9501;&#x65B9;&#x5F0F;</h2><h3 id="&#x4E8B;&#x52A1;&#x7684;&#x56DB;&#x79CD;&#x9694;&#x79BB;&#x7EA7;&#x522B;"><a href="#&#x4E8B;&#x52A1;&#x7684;&#x56DB;&#x79CD;&#x9694;&#x79BB;&#x7EA7;&#x522B;" class="headerlink" title="&#x4E8B;&#x52A1;&#x7684;&#x56DB;&#x79CD;&#x9694;&#x79BB;&#x7EA7;&#x522B;"></a>&#x4E8B;&#x52A1;&#x7684;&#x56DB;&#x79CD;&#x9694;&#x79BB;&#x7EA7;&#x522B;</h3><p>&#x5728;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x6709;&#x6548;&#x4FDD;&#x8BC1;&#x5E76;&#x53D1;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x7684;&#x6B63;&#x786E;&#x6027;&#xFF0C;&#x63D0;&#x51FA;&#x7684;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x3002;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x5E93;&#x9501;&#xFF0C;&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x6784;&#x5EFA;&#x8FD9;&#x4E9B;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x5B58;&#x5728;&#x7684;&#x3002;</p><div class="table-container"><table><thead><tr><th style="text-align:left">&#x9694;&#x79BB;&#x7EA7;&#x522B;</th><th style="text-align:left">&#x810F;&#x8BFB;&#xFF08;Dirty Read&#xFF09;</th><th style="text-align:left">&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#xFF08;NonRepeatable Read&#xFF09;</th><th style="text-align:left">&#x5E7B;&#x8BFB;&#xFF08;Phantom Read&#xFF09;</th></tr></thead><tbody><tr><td style="text-align:left">&#x672A;&#x63D0;&#x4EA4;&#x8BFB;&#xFF08;Read uncommitted&#xFF09;</td><td style="text-align:left">&#x53EF;&#x80FD;</td><td style="text-align:left">&#x53EF;&#x80FD;</td><td style="text-align:left">&#x53EF;&#x80FD;</td></tr><tr><td style="text-align:left">&#x5DF2;&#x63D0;&#x4EA4;&#x8BFB;&#xFF08;Read committed&#xFF09;</td><td style="text-align:left">&#x4E0D;&#x53EF;&#x80FD;</td><td style="text-align:left">&#x53EF;&#x80FD;</td><td style="text-align:left">&#x53EF;&#x80FD;</td></tr><tr><td style="text-align:left">&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#xFF08;Repeatable read&#xFF09;</td><td style="text-align:left">&#x4E0D;&#x53EF;&#x80FD;</td><td style="text-align:left">&#x4E0D;&#x53EF;&#x80FD;</td><td style="text-align:left">&#x53EF;&#x80FD;</td></tr><tr><td style="text-align:left">&#x53EF;&#x4E32;&#x884C;&#x5316;&#xFF08;Serializable &#xFF09;</td><td style="text-align:left">&#x4E0D;&#x53EF;&#x80FD;</td><td style="text-align:left">&#x4E0D;&#x53EF;&#x80FD;</td><td style="text-align:left">&#x4E0D;&#x53EF;&#x80FD;</td></tr></tbody></table></div><ul><li>&#x672A;&#x63D0;&#x4EA4;&#x8BFB;(Read Uncommitted)&#xFF1A;&#x5141;&#x8BB8;&#x810F;&#x8BFB;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x53EF;&#x80FD;&#x8BFB;&#x53D6;&#x5230;&#x5176;&#x4ED6;&#x4F1A;&#x8BDD;&#x4E2D;&#x672A;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x4FEE;&#x6539;&#x7684;&#x6570;&#x636E;</li><li>&#x63D0;&#x4EA4;&#x8BFB;(Read Committed)&#xFF1A;&#x53EA;&#x80FD;&#x8BFB;&#x53D6;&#x5230;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#x7684;&#x6570;&#x636E;&#x3002;Oracle&#x7B49;&#x591A;&#x6570;&#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x90FD;&#x662F;&#x8BE5;&#x7EA7;&#x522B; (&#x4E0D;&#x91CD;&#x590D;&#x8BFB;)</li><li>&#x53EF;&#x91CD;&#x590D;&#x8BFB;(Repeated Read)&#xFF1A;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x3002;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5185;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x662F;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x65F6;&#x523B;&#x4E00;&#x81F4;&#x7684;&#xFF0C;InnoDB&#x9ED8;&#x8BA4;&#x7EA7;&#x522B;&#x3002;&#x5728;SQL&#x6807;&#x51C6;&#x4E2D;&#xFF0C;&#x8BE5;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x6D88;&#x9664;&#x4E86;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x5B58;&#x5728;&#x5E7B;&#x8C61;&#x8BFB;</li><li>&#x4E32;&#x884C;&#x8BFB;(Serializable)&#xFF1A;&#x5B8C;&#x5168;&#x4E32;&#x884C;&#x5316;&#x7684;&#x8BFB;&#xFF0C;&#x6BCF;&#x6B21;&#x8BFB;&#x90FD;&#x9700;&#x8981;&#x83B7;&#x5F97;&#x8868;&#x7EA7;&#x5171;&#x4EAB;&#x9501;&#xFF0C;&#x8BFB;&#x5199;&#x76F8;&#x4E92;&#x90FD;&#x4F1A;&#x963B;&#x585E;</li></ul><p>Read Uncommitted&#x8FD9;&#x79CD;&#x7EA7;&#x522B;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4E00;&#x822C;&#x90FD;&#x4E0D;&#x4F1A;&#x7528;&#xFF0C;&#x800C;&#x4E14;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x90FD;&#x4E0D;&#x4F1A;&#x52A0;&#x9501;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8BA8;&#x8BBA;&#x4E86;&#x3002;</p><h3 id="MySQL&#x4E2D;&#x9501;&#x7684;&#x79CD;&#x7C7B;"><a href="#MySQL&#x4E2D;&#x9501;&#x7684;&#x79CD;&#x7C7B;" class="headerlink" title="MySQL&#x4E2D;&#x9501;&#x7684;&#x79CD;&#x7C7B;"></a>MySQL&#x4E2D;&#x9501;&#x7684;&#x79CD;&#x7C7B;</h3><p>MySQL&#x4E2D;&#x9501;&#x7684;&#x79CD;&#x7C7B;&#x5F88;&#x591A;&#xFF0C;&#x6709;&#x5E38;&#x89C1;&#x7684;&#x8868;&#x9501;&#x548C;&#x884C;&#x9501;&#xFF0C;&#x4E5F;&#x6709;&#x65B0;&#x52A0;&#x5165;&#x7684;Metadata Lock&#x7B49;&#x7B49;,&#x8868;&#x9501;&#x662F;&#x5BF9;&#x4E00;&#x6574;&#x5F20;&#x8868;&#x52A0;&#x9501;&#xFF0C;&#x867D;&#x7136;&#x53EF;&#x5206;&#x4E3A;&#x8BFB;&#x9501;&#x548C;&#x5199;&#x9501;&#xFF0C;&#x4F46;&#x6BD5;&#x7ADF;&#x662F;&#x9501;&#x4F4F;&#x6574;&#x5F20;&#x8868;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x5E76;&#x53D1;&#x80FD;&#x529B;&#x4E0B;&#x964D;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x505A;ddl&#x5904;&#x7406;&#x65F6;&#x4F7F;&#x7528;&#x3002;</p><p>&#x884C;&#x9501;&#x5219;&#x662F;&#x9501;&#x4F4F;&#x6570;&#x636E;&#x884C;&#xFF0C;&#x8FD9;&#x79CD;&#x52A0;&#x9501;&#x65B9;&#x6CD5;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x53EA;&#x9501;&#x4F4F;&#x6709;&#x9650;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5BF9;&#x4E8E;&#x5176;&#x5B83;&#x6570;&#x636E;&#x4E0D;&#x52A0;&#x9650;&#x5236;&#xFF0C;&#x6240;&#x4EE5;&#x5E76;&#x53D1;&#x80FD;&#x529B;&#x5F3A;&#xFF0C;MySQL&#x4E00;&#x822C;&#x90FD;&#x662F;&#x7528;&#x884C;&#x9501;&#x6765;&#x5904;&#x7406;&#x5E76;&#x53D1;&#x4E8B;&#x52A1;&#x3002;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8BA8;&#x8BBA;&#x7684;&#x4E5F;&#x5C31;&#x662F;&#x884C;&#x9501;&#x3002;</p><h3 id="Read-Committed&#xFF08;&#x8BFB;&#x53D6;&#x63D0;&#x4EA4;&#x5185;&#x5BB9;&#xFF09;"><a href="#Read-Committed&#xFF08;&#x8BFB;&#x53D6;&#x63D0;&#x4EA4;&#x5185;&#x5BB9;&#xFF09;" class="headerlink" title="Read Committed&#xFF08;&#x8BFB;&#x53D6;&#x63D0;&#x4EA4;&#x5185;&#x5BB9;&#xFF09;"></a>Read Committed&#xFF08;&#x8BFB;&#x53D6;&#x63D0;&#x4EA4;&#x5185;&#x5BB9;&#xFF09;</h3><p>&#x5728;RC&#x7EA7;&#x522B;&#x4E2D;&#xFF0C;&#x6570;&#x636E;&#x7684;&#x8BFB;&#x53D6;&#x90FD;&#x662F;&#x4E0D;&#x52A0;&#x9501;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6570;&#x636E;&#x7684;&#x5199;&#x5165;&#x3001;&#x4FEE;&#x6539;&#x548C;&#x5220;&#x9664;&#x662F;&#x9700;&#x8981;&#x52A0;&#x9501;&#x7684;&#x3002;&#x6548;&#x679C;&#x5982;&#x4E0B;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">MySQL&gt; show create table class_teacher \G\</span><br><span class="line">Table: class_teacher</span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">Table</span>: <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`class_teacher`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`class_name`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`teacher_id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>),</span><br><span class="line">  <span class="keyword">KEY</span> <span class="string">`idx_teacher_id`</span> (<span class="string">`teacher_id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">5</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8mb4 <span class="keyword">COLLATE</span>=utf8mb4_unicode_ci</span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br><span class="line">MySQL&gt; <span class="keyword">select</span> * <span class="keyword">from</span> class_teacher;</span><br><span class="line">+<span class="comment">----+--------------+------------+</span></span><br><span class="line">| id | class_name   | teacher_id |</span><br><span class="line">+<span class="comment">----+--------------+------------+</span></span><br><span class="line">|  1 | &#x521D;&#x4E09;&#x4E00;&#x73ED;     |          1 |</span><br><span class="line">|  3 | &#x521D;&#x4E8C;&#x4E00;&#x73ED;     |          2 |</span><br><span class="line">|  4 | &#x521D;&#x4E8C;&#x4E8C;&#x73ED;     |          2 |</span><br><span class="line">+<span class="comment">----+--------------+------------+</span></span><br></pre></td></tr></table></figure><p>&#x7531;&#x4E8E;MySQL&#x7684;InnoDB&#x9ED8;&#x8BA4;&#x662F;&#x4F7F;&#x7528;&#x7684;RR&#x7EA7;&#x522B;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5148;&#x8981;&#x5C06;&#x8BE5;session&#x5F00;&#x542F;&#x6210;RC&#x7EA7;&#x522B;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;binlog&#x7684;&#x6A21;&#x5F0F;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="keyword">session</span> <span class="keyword">transaction</span> <span class="keyword">isolation</span> <span class="keyword">level</span> <span class="keyword">read</span> committed;</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">SESSION</span> binlog_format = <span class="string">&apos;ROW&apos;</span>;&#xFF08;&#x6216;&#x8005;&#x662F;MIXED&#xFF09;</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:left">&#x4E8B;&#x52A1;A</th><th style="text-align:left">&#x4E8B;&#x52A1;B</th></tr></thead><tbody><tr><td style="text-align:left">begin;</td><td style="text-align:left">begin;</td></tr><tr><td style="text-align:left">update class_teacher set class_name=&#x2018;&#x521D;&#x4E09;&#x4E8C;&#x73ED;&#x2019; where teacher_id=1;</td><td style="text-align:left">update class_teacher set class_name=&#x2018;&#x521D;&#x4E09;&#x4E09;&#x73ED;&#x2019; where teacher_id=1;</td></tr><tr><td style="text-align:left">commit;</td><td style="text-align:left">&#x2003;</td></tr></tbody></table></div><p>&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x5E76;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4FEE;&#x6539;&#x51B2;&#x7A81;&#xFF0C;&#x4E8B;&#x52A1;A&#x4E2D;MySQL&#x7ED9;teacher_id=1&#x7684;&#x6570;&#x636E;&#x884C;&#x52A0;&#x9501;&#xFF0C;&#x5E76;&#x4E00;&#x76F4;&#x4E0D;commit&#xFF08;&#x91CA;&#x653E;&#x9501;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x4E8B;&#x52A1;B&#x4E5F;&#x5C31;&#x4E00;&#x76F4;&#x62FF;&#x4E0D;&#x5230;&#x8BE5;&#x884C;&#x9501;&#xFF0C;wait&#x76F4;&#x5230;&#x8D85;&#x65F6;&#x3002;</p><p>&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x8981;&#x6CE8;&#x610F;&#x5230;&#xFF0C;teacher_id&#x662F;&#x6709;&#x7D22;&#x5F15;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x6CA1;&#x6709;&#x7D22;&#x5F15;&#x7684;class_name&#x5462;&#xFF1F;<code>update class_teacher set teacher_id=3 where class_name = &#x2018;&#x521D;&#x4E09;&#x4E00;&#x73ED;&#x2019;;</code> &#x90A3;&#x4E48;MySQL&#x4F1A;&#x7ED9;&#x6574;&#x5F20;&#x8868;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x884C;&#x7684;&#x52A0;&#x884C;&#x9501;&#x3002;&#x8FD9;&#x91CC;&#x542C;&#x8D77;&#x6765;&#x6709;&#x70B9;&#x4E0D;&#x53EF;&#x601D;&#x8BAE;&#xFF0C;&#x4F46;&#x662F;&#x5F53;sql&#x8FD0;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;MySQL&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x884C;&#x662F; class_name = &#x2018;&#x521D;&#x4E09;&#x4E00;&#x73ED;&#x2019;&#x7684;&#xFF08;&#x6CA1;&#x6709;&#x7D22;&#x5F15;&#x561B;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x5FEB;&#x901F;&#x8FC7;&#x6EE4;&#xFF0C;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5C42;&#x9762;&#x5C31;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x52A0;&#x9501;&#x540E;&#x8FD4;&#x56DE;&#xFF0C;&#x518D;&#x7531;MySQL Server&#x5C42;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002;</p><p>&#x4F46;&#x5728;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x5F53;&#x4E2D;&#xFF0C;MySQL&#x505A;&#x4E86;&#x4E00;&#x4E9B;&#x6539;&#x8FDB;&#xFF0C;&#x5728;MySQL Server&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#xFF0C;&#x53D1;&#x73B0;&#x4E0D;&#x6EE1;&#x8DB3;&#x540E;&#xFF0C;&#x4F1A;&#x8C03;&#x7528;unlock_row&#x65B9;&#x6CD5;&#xFF0C;&#x628A;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x8BB0;&#x5F55;&#x91CA;&#x653E;&#x9501; (&#x8FDD;&#x80CC;&#x4E86;&#x4E8C;&#x6BB5;&#x9501;&#x534F;&#x8BAE;&#x7684;&#x7EA6;&#x675F;)&#x3002;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E86;&#x6700;&#x540E;&#x53EA;&#x4F1A;&#x6301;&#x6709;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x8BB0;&#x5F55;&#x4E0A;&#x7684;&#x9501;&#xFF0C;&#x4F46;&#x662F;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x52A0;&#x9501;&#x64CD;&#x4F5C;&#x8FD8;&#x662F;&#x4E0D;&#x80FD;&#x7701;&#x7565;&#x7684;&#x3002;&#x53EF;&#x89C1;&#x5373;&#x4F7F;&#x662F;MySQL&#xFF0C;&#x4E3A;&#x4E86;&#x6548;&#x7387;&#x4E5F;&#x662F;&#x4F1A;&#x8FDD;&#x53CD;&#x89C4;&#x8303;&#x7684;&#x3002;&#xFF08;&#x53C2;&#x89C1;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&#x4E2D;&#x6587;&#x7B2C;&#x4E09;&#x7248;p181&#xFF09;</p><p>&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E;MySQL&#x7684;&#x9ED8;&#x8BA4;&#x9694;&#x79BB;&#x7EA7;&#x522B;RR&#x3002;&#x6240;&#x4EE5;&#x5BF9;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5927;&#x7684;&#x8868;&#x505A;&#x6279;&#x91CF;&#x4FEE;&#x6539;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x76F8;&#x5E94;&#x7684;&#x7D22;&#x5F15;&#xFF0C;MySQL Server&#x8FC7;&#x6EE4;&#x6570;&#x636E;&#x7684;&#x7684;&#x65F6;&#x5019;&#x7279;&#x522B;&#x6162;&#xFF0C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x867D;&#x7136;&#x6CA1;&#x6709;&#x4FEE;&#x6539;&#x67D0;&#x4E9B;&#x884C;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4EEC;&#x8FD8;&#x662F;&#x88AB;&#x9501;&#x4F4F;&#x4E86;&#x7684;&#x73B0;&#x8C61;&#x3002;</p><h3 id="Repeatable-Read&#xFF08;&#x53EF;&#x91CD;&#x8BFB;&#xFF09;"><a href="#Repeatable-Read&#xFF08;&#x53EF;&#x91CD;&#x8BFB;&#xFF09;" class="headerlink" title="Repeatable Read&#xFF08;&#x53EF;&#x91CD;&#x8BFB;&#xFF09;"></a>Repeatable Read&#xFF08;&#x53EF;&#x91CD;&#x8BFB;&#xFF09;</h3><p>&#x8FD9;&#x662F;MySQL&#x4E2D;InnoDB&#x9ED8;&#x8BA4;&#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x3002;&#x6211;&#x4EEC;&#x59D1;&#x4E14;&#x5206;&#x201C;&#x8BFB;&#x201D;&#x548C;&#x201C;&#x5199;&#x201D;&#x4E24;&#x4E2A;&#x6A21;&#x5757;&#x6765;&#x8BB2;&#x89E3;&#x3002;</p><h3 id="&#x8BFB;"><a href="#&#x8BFB;" class="headerlink" title="&#x8BFB;"></a>&#x8BFB;</h3><p>&#x8BFB;&#x5C31;&#x662F;&#x53EF;&#x91CD;&#x8BFB;&#xFF0C;&#x53EF;&#x91CD;&#x8BFB;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x662F;&#x4E00;&#x4E8B;&#x52A1;&#x7684;&#x591A;&#x4E2A;&#x5B9E;&#x4F8B;&#x5728;&#x5E76;&#x53D1;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x4F1A;&#x770B;&#x5230;&#x540C;&#x6837;&#x7684;&#x6570;&#x636E;&#x884C;&#xFF0C;&#x6709;&#x70B9;&#x62BD;&#x8C61;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x6548;&#x679C;&#x3002;</p><p>RC&#xFF08;&#x4E0D;&#x53EF;&#x91CD;&#x8BFB;&#xFF09;&#x6A21;&#x5F0F;&#x4E0B;&#x7684;&#x5C55;&#x73B0;</p><table><tbody><tr><th>&#x4E8B;&#x52A1;A</th><th>&#x4E8B;&#x52A1;B</th></tr><tr><td>begin;</td><td><p>begin;</p></td></tr><tr><td><p>select id,class_name,teacher_id from class_teacher where teacher_id=1;</p><table><tbody><tr><th>id</th><th>class_name</th><th colspan="1">teacher_id</th></tr><tr><td>1</td><td><span>&#x521D;&#x4E09;&#x4E8C;&#x73ED;</span></td><td colspan="1">1</td></tr><tr><td>2</td><td><span>&#x521D;&#x4E09;&#x4E00;&#x73ED;</span></td><td colspan="1">1</td></tr></tbody></table></td><td>&#xA0;</td></tr><tr><td>&#xA0;</td><td><p>update class_teacher set class_name=&apos;&#x521D;&#x4E09;&#x4E09;&#x73ED;&apos; where id=1;</p></td></tr><tr><td>&#xA0;</td><td>&#xA0;commit;</td></tr><tr><td colspan="1"><p><span>select id,class_name,teacher_id from class_teacher where teacher_id=1;</span></p><table><tbody><tr><th>id</th><th>class_name</th><th>teacher_id</th></tr><tr><td>1</td><td><span style="color:red">&#x521D;&#x4E09;&#x4E09;&#x73ED;</span></td><td>1</td></tr><tr><td>2</td><td>&#x521D;&#x4E09;&#x4E00;&#x73ED;</td><td>1</td></tr></tbody></table><p>&#xA0;</p><p>&#x8BFB;&#x5230;&#x4E86;&#x4E8B;&#x52A1;B&#x4FEE;&#x6539;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x548C;&#x7B2C;&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x662F;&#x4E0D;&#x53EF;&#x91CD;&#x8BFB;&#x7684;&#x3002;</p></td><td colspan="1">&#xA0;</td></tr><tr><td colspan="1">commit;</td><td colspan="1">&#xA0;</td></tr></tbody></table><p>&#x4E8B;&#x52A1;B&#x4FEE;&#x6539;id=1&#x7684;&#x6570;&#x636E;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#xFF0C;&#x4E8B;&#x52A1;A&#x540C;&#x6837;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x540E;&#x4E00;&#x6B21;&#x548C;&#x524D;&#x4E00;&#x6B21;&#x7684;&#x7ED3;&#x679C;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4E0D;&#x53EF;&#x91CD;&#x8BFB;&#xFF08;&#x91CD;&#x65B0;&#x8BFB;&#x53D6;&#x4EA7;&#x751F;&#x7684;&#x7ED3;&#x679C;&#x4E0D;&#x4E00;&#x6837;&#xFF09;&#x3002;&#x8FD9;&#x5C31;&#x5F88;&#x53EF;&#x80FD;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x5728;RR&#x7EA7;&#x522B;&#x4E2D;MySQL&#x7684;&#x8868;&#x73B0;&#xFF1A;</p><table><tbody><tr><th>&#x4E8B;&#x52A1;A</th><th>&#x4E8B;&#x52A1;B</th><th colspan="1">&#x4E8B;&#x52A1;C</th></tr><tr><td>begin;</td><td><p>begin;</p></td><td colspan="1"><p>begin;</p></td></tr><tr><td><p>select id,class_name,teacher_id from class_teacher where <span style="color:#00f">teacher_id=1</span>;</p><table><tbody><tr><th>id</th><th>class_name</th><th>teacher_id</th></tr><tr><td>1</td><td><span>&#x521D;&#x4E09;&#x4E8C;&#x73ED;</span></td><td>1</td></tr><tr><td>2</td><td><span>&#x521D;&#x4E09;&#x4E00;&#x73ED;</span></td><td>1</td></tr></tbody></table></td><td></td><td colspan="1"></td></tr><tr><td>&#xA0;</td><td><p><span>update class_teacher set class_name=&apos;&#x521D;&#x4E09;&#x4E09;&#x73ED;&apos; where id=1;</span></p>commit;<p></p></td><td colspan="1">&#xA0;</td></tr><tr><td>&#xA0;</td><td>&#xA0;</td><td colspan="1"><span>insert into class_teacher values (null,&apos;&#x521D;&#x4E09;&#x4E09;&#x73ED;&apos;,1);</span><p></p>commit;</td></tr><tr><td colspan="1"><p>select id,class_name,teacher_id from class_teacher where <span style="color:#00f">teacher_id=1</span>;</p><table><tbody><tr><th>id</th><th>class_name</th><th>teacher_id</th></tr><tr><td>1</td><td>&#x521D;&#x4E09;&#x4E8C;&#x73ED;</td><td>1</td></tr><tr><td>2</td><td>&#x521D;&#x4E09;&#x4E00;&#x73ED;</td><td>1</td></tr></tbody></table><p>&#xA0;</p><p>&#x6CA1;&#x6709;&#x8BFB;&#x5230;&#x4E8B;&#x52A1;B&#x4FEE;&#x6539;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x548C;&#x7B2C;&#x4E00;&#x6B21;sql&#x8BFB;&#x53D6;&#x7684;&#x4E00;&#x6837;&#xFF0C;&#x662F;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x7684;&#x3002;</p><p>&#x6CA1;&#x6709;&#x8BFB;&#x5230;&#x4E8B;&#x52A1;C&#x65B0;&#x6DFB;&#x52A0;&#x7684;&#x6570;&#x636E;&#x3002;</p></td><td colspan="1">&#xA0;</td><td colspan="1">&#xA0;</td></tr><tr><td colspan="1">commit;</td><td colspan="1">&#xA0;</td><td colspan="1">&#xA0;</td></tr></tbody></table><p>&#x6211;&#x4EEC;&#x6CE8;&#x610F;&#x5230;&#xFF0C;&#x5F53;teacher_id=1&#x65F6;&#xFF0C;&#x4E8B;&#x52A1;A&#x5148;&#x505A;&#x4E86;&#x4E00;&#x6B21;&#x8BFB;&#x53D6;&#xFF0C;&#x4E8B;&#x52A1;B&#x4E2D;&#x95F4;&#x4FEE;&#x6539;&#x4E86;id=1&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;commit&#x4E4B;&#x540E;&#xFF0C;&#x4E8B;&#x52A1;A&#x7B2C;&#x4E8C;&#x6B21;&#x8BFB;&#x5230;&#x7684;&#x6570;&#x636E;&#x548C;&#x7B2C;&#x4E00;&#x6B21;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x3002;&#x6240;&#x4EE5;&#x8BF4;&#x5B83;&#x662F;&#x53EF;&#x91CD;&#x8BFB;&#x7684;&#x3002;&#x90A3;&#x4E48;MySQL&#x662F;&#x600E;&#x4E48;&#x505A;&#x5230;&#x7684;&#x5462;&#xFF1F;&#x8FD9;&#x91CC;&#x59D1;&#x4E14;&#x5356;&#x4E2A;&#x5173;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x4E0B;&#x770B;&#x3002;</p><h3 id="&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x5E7B;&#x8BFB;&#x7684;&#x533A;&#x522B;"><a href="#&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x5E7B;&#x8BFB;&#x7684;&#x533A;&#x522B;" class="headerlink" title="&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x5E7B;&#x8BFB;&#x7684;&#x533A;&#x522B;"></a>&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x5E7B;&#x8BFB;&#x7684;&#x533A;&#x522B;</h3><p>&#x5F88;&#x591A;&#x4EBA;&#x5BB9;&#x6613;&#x641E;&#x6DF7;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x5E7B;&#x8BFB;&#xFF0C;&#x786E;&#x5B9E;&#x8FD9;&#x4E24;&#x8005;&#x6709;&#x4E9B;&#x76F8;&#x4F3C;&#x3002;&#x4F46;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x91CD;&#x70B9;&#x5728;&#x4E8E;update&#xFF0C;&#x800C;&#x5E7B;&#x8BFB;&#x7684;&#x91CD;&#x70B9;&#x5728;&#x4E8E;insert&#x548C;delete&#x3002;(&#x6CE8;: &#x6B64;&#x5904;Cqh_i&#x6709;&#x4FEE;&#x6539;, &#x539F;&#x6587;&#x4F5C;&#x8005;&#x53EF;&#x80FD;&#x7B14;&#x8BEF;&#x4E86;)</p><p>&#x5982;&#x679C;&#x4F7F;&#x7528;&#x9501;&#x673A;&#x5236;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E24;&#x79CD;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#xFF0C;&#x5728;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x4E2D;&#xFF0C;&#x8BE5;sql&#x7B2C;&#x4E00;&#x6B21;&#x8BFB;&#x53D6;&#x5230;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5C31;&#x5C06;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x52A0;&#x9501;&#xFF0C;&#x5176;&#x5B83;&#x4E8B;&#x52A1;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x4E86;&#x3002;&#x4F46;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5374;&#x65E0;&#x6CD5;&#x9501;&#x4F4F;insert&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x4E8B;&#x52A1;A&#x5148;&#x524D;&#x8BFB;&#x53D6;&#x4E86;&#x6570;&#x636E;&#xFF0C;&#x6216;&#x8005;&#x4FEE;&#x6539;&#x4E86;&#x5168;&#x90E8;&#x6570;&#x636E;&#xFF0C;&#x4E8B;&#x52A1;B&#x8FD8;&#x662F;&#x53EF;&#x4EE5;insert&#x6570;&#x636E;&#x63D0;&#x4EA4;&#xFF0C;&#x8FD9;&#x65F6;&#x4E8B;&#x52A1;A&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x83AB;&#x540D;&#x5176;&#x5999;&#x591A;&#x4E86;&#x4E00;&#x6761;&#x4E4B;&#x524D;&#x6CA1;&#x6709;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x5E7B;&#x8BFB;&#xFF0C;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;&#x884C;&#x9501;&#x6765;&#x907F;&#x514D;&#x3002;&#x9700;&#x8981;Serializable&#x9694;&#x79BB;&#x7EA7;&#x522B; &#xFF0C;&#x8BFB;&#x7528;&#x8BFB;&#x9501;&#xFF0C;&#x5199;&#x7528;&#x5199;&#x9501;&#xFF0C;&#x8BFB;&#x9501;&#x548C;&#x5199;&#x9501;&#x4E92;&#x65A5;&#xFF0C;&#x8FD9;&#x4E48;&#x505A;&#x53EF;&#x4EE5;&#x6709;&#x6548;&#x7684;&#x907F;&#x514D;&#x5E7B;&#x8BFB;&#x3001;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x3001;&#x810F;&#x8BFB;&#x7B49;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x4F1A;&#x6781;&#x5927;&#x7684;&#x964D;&#x4F4E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5E76;&#x53D1;&#x80FD;&#x529B;&#x3002;</p><p>&#x6240;&#x4EE5;&#x8BF4;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x5E7B;&#x8BFB;&#x6700;&#x5927;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5C31;&#x5728;&#x4E8E;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x9501;&#x673A;&#x5236;&#x6765;&#x89E3;&#x51B3;&#x4ED6;&#x4EEC;&#x4EA7;&#x751F;&#x7684;&#x95EE;&#x9898;&#x3002;</p><p>&#x4E0A;&#x6587;&#x8BF4;&#x7684;&#xFF0C;&#x662F;&#x4F7F;&#x7528;&#x60B2;&#x89C2;&#x9501;&#x673A;&#x5236;&#x6765;&#x5904;&#x7406;&#x8FD9;&#x4E24;&#x79CD;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;MySQL&#x3001;ORACLE&#x3001;PostgreSQL&#x7B49;&#x6210;&#x719F;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x51FA;&#x4E8E;&#x6027;&#x80FD;&#x8003;&#x8651;&#xFF0C;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x4EE5;&#x4E50;&#x89C2;&#x9501;&#x4E3A;&#x7406;&#x8BBA;&#x57FA;&#x7840;&#x7684;MVCC&#xFF08;&#x591A;&#x7248;&#x672C;&#x5E76;&#x53D1;&#x63A7;&#x5236;&#xFF09;&#x6765;&#x907F;&#x514D;&#x8FD9;&#x4E24;&#x79CD;&#x95EE;&#x9898;&#x3002;</p><h3 id="&#x60B2;&#x89C2;&#x9501;&#x548C;&#x4E50;&#x89C2;&#x9501;"><a href="#&#x60B2;&#x89C2;&#x9501;&#x548C;&#x4E50;&#x89C2;&#x9501;" class="headerlink" title="&#x60B2;&#x89C2;&#x9501;&#x548C;&#x4E50;&#x89C2;&#x9501;"></a>&#x60B2;&#x89C2;&#x9501;&#x548C;&#x4E50;&#x89C2;&#x9501;</h3><ul><li>&#x60B2;&#x89C2;&#x9501;</li></ul><p>&#x6B63;&#x5982;&#x5176;&#x540D;&#xFF0C;&#x5B83;&#x6307;&#x7684;&#x662F;&#x5BF9;&#x6570;&#x636E;&#x88AB;&#x5916;&#x754C;&#xFF08;&#x5305;&#x62EC;&#x672C;&#x7CFB;&#x7EDF;&#x5F53;&#x524D;&#x7684;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#xFF0C;&#x4EE5;&#x53CA;&#x6765;&#x81EA;&#x5916;&#x90E8;&#x7CFB;&#x7EDF;&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#xFF09;&#x4FEE;&#x6539;&#x6301;&#x4FDD;&#x5B88;&#x6001;&#x5EA6;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x5904;&#x4E8E;&#x9501;&#x5B9A;&#x72B6;&#x6001;&#x3002;&#x60B2;&#x89C2;&#x9501;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x5F80;&#x5F80;&#x4F9D;&#x9760;&#x6570;&#x636E;&#x5E93;&#x63D0;&#x4F9B;&#x7684;&#x9501;&#x673A;&#x5236;&#xFF08;&#x4E5F;&#x53EA;&#x6709;&#x6570;&#x636E;&#x5E93;&#x5C42;&#x63D0;&#x4F9B;&#x7684;&#x9501;&#x673A;&#x5236;&#x624D;&#x80FD;&#x771F;&#x6B63;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x7684;&#x6392;&#x4ED6;&#x6027;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x672C;&#x7CFB;&#x7EDF;&#x4E2D;&#x5B9E;&#x73B0;&#x4E86;&#x52A0;&#x9501;&#x673A;&#x5236;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x5916;&#x90E8;&#x7CFB;&#x7EDF;&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#x6570;&#x636E;&#xFF09;&#x3002;</p><p>&#x5728;&#x60B2;&#x89C2;&#x9501;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x7684;&#x9694;&#x79BB;&#x6027;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4E00;&#x81F4;&#x6027;&#x9501;&#x5B9A;&#x8BFB;&#x3002;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x65F6;&#x7ED9;&#x52A0;&#x9501;&#xFF0C;&#x5176;&#x5B83;&#x4E8B;&#x52A1;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x3002;&#x4FEE;&#x6539;&#x5220;&#x9664;&#x6570;&#x636E;&#x65F6;&#x4E5F;&#x8981;&#x52A0;&#x9501;&#xFF0C;&#x5176;&#x5B83;&#x4E8B;&#x52A1;&#x65E0;&#x6CD5;&#x8BFB;&#x53D6;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x3002;</p><ul><li>&#x4E50;&#x89C2;&#x9501;</li></ul><p>&#x76F8;&#x5BF9;&#x60B2;&#x89C2;&#x9501;&#x800C;&#x8A00;&#xFF0C;&#x4E50;&#x89C2;&#x9501;&#x673A;&#x5236;&#x91C7;&#x53D6;&#x4E86;&#x66F4;&#x52A0;&#x5BBD;&#x677E;&#x7684;&#x52A0;&#x9501;&#x673A;&#x5236;&#x3002;&#x60B2;&#x89C2;&#x9501;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x4F9D;&#x9760;&#x6570;&#x636E;&#x5E93;&#x7684;&#x9501;&#x673A;&#x5236;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x64CD;&#x4F5C;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x7684;&#x72EC;&#x5360;&#x6027;&#x3002;&#x4F46;&#x968F;&#x4E4B;&#x800C;&#x6765;&#x7684;&#x5C31;&#x662F;&#x6570;&#x636E;&#x5E93;&#x6027;&#x80FD;&#x7684;&#x5927;&#x91CF;&#x5F00;&#x9500;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5BF9;&#x957F;&#x4E8B;&#x52A1;&#x800C;&#x8A00;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5F00;&#x9500;&#x5F80;&#x5F80;&#x65E0;&#x6CD5;&#x627F;&#x53D7;&#x3002;</p><p>&#x800C;&#x4E50;&#x89C2;&#x9501;&#x673A;&#x5236;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x4E50;&#x89C2;&#x9501;&#xFF0C;&#x5927;&#x591A;&#x662F;&#x57FA;&#x4E8E;&#x6570;&#x636E;&#x7248;&#x672C;&#xFF08; Version &#xFF09;&#x8BB0;&#x5F55;&#x673A;&#x5236;&#x5B9E;&#x73B0;&#x3002;&#x4F55;&#x8C13;&#x6570;&#x636E;&#x7248;&#x672C;&#xFF1F;&#x5373;&#x4E3A;&#x6570;&#x636E;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x6807;&#x8BC6;&#xFF0C;&#x5728;&#x57FA;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x7248;&#x672C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E2D;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x901A;&#x8FC7;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x8868;&#x589E;&#x52A0;&#x4E00;&#x4E2A; &#x201C;version&#x201D; &#x5B57;&#x6BB5;&#x6765;&#x5B9E;&#x73B0;&#x3002;&#x8BFB;&#x53D6;&#x51FA;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5C06;&#x6B64;&#x7248;&#x672C;&#x53F7;&#x4E00;&#x540C;&#x8BFB;&#x51FA;&#xFF0C;&#x4E4B;&#x540E;&#x66F4;&#x65B0;&#x65F6;&#xFF0C;&#x5BF9;&#x6B64;&#x7248;&#x672C;&#x53F7;&#x52A0;&#x4E00;&#x3002;&#x6B64;&#x65F6;&#xFF0C;&#x5C06;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#x7684;&#x7248;&#x672C;&#x6570;&#x636E;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x8868;&#x5BF9;&#x5E94;&#x8BB0;&#x5F55;&#x7684;&#x5F53;&#x524D;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x6BD4;&#x5BF9;&#xFF0C;&#x5982;&#x679C;&#x63D0;&#x4EA4;&#x7684;&#x6570;&#x636E;&#x7248;&#x672C;&#x53F7;&#x5927;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x8868;&#x5F53;&#x524D;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x5219;&#x4E88;&#x4EE5;&#x66F4;&#x65B0;&#xFF0C;&#x5426;&#x5219;&#x8BA4;&#x4E3A;&#x662F;&#x8FC7;&#x671F;&#x6570;&#x636E;&#x3002;</p><p>&#x8981;&#x8BF4;&#x660E;&#x7684;&#x662F;&#xFF0C;MVCC&#x7684;&#x5B9E;&#x73B0;&#x6CA1;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x89C4;&#x8303;&#xFF0C;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x90FD;&#x4F1A;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD9;&#x91CC;&#x8BA8;&#x8BBA;&#x7684;&#x662F;InnoDB&#x7684;MVCC&#x3002;</p><h3 id="MVCC&#x5728;MySQL&#x7684;InnoDB&#x4E2D;&#x7684;&#x5B9E;&#x73B0;"><a href="#MVCC&#x5728;MySQL&#x7684;InnoDB&#x4E2D;&#x7684;&#x5B9E;&#x73B0;" class="headerlink" title="MVCC&#x5728;MySQL&#x7684;InnoDB&#x4E2D;&#x7684;&#x5B9E;&#x73B0;"></a>MVCC&#x5728;MySQL&#x7684;InnoDB&#x4E2D;&#x7684;&#x5B9E;&#x73B0;</h3><p>&#x5728;InnoDB&#x4E2D;&#xFF0C;&#x4F1A;&#x5728;&#x6BCF;&#x884C;&#x6570;&#x636E;&#x540E;&#x6DFB;&#x52A0;&#x4E24;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x9690;&#x85CF;&#x7684;&#x503C;&#x6765;&#x5B9E;&#x73B0;MVCC&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x8FD9;&#x884C;&#x6570;&#x636E;&#x4F55;&#x65F6;&#x88AB;&#x521B;&#x5EFA;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x8FD9;&#x884C;&#x6570;&#x636E;&#x4F55;&#x65F6;&#x8FC7;&#x671F;&#xFF08;&#x6216;&#x8005;&#x88AB;&#x5220;&#x9664;&#xFF09;&#x3002; &#x5728;&#x5B9E;&#x9645;&#x64CD;&#x4F5C;&#x4E2D;&#xFF0C;&#x5B58;&#x50A8;&#x7684;&#x5E76;&#x4E0D;&#x662F;&#x65F6;&#x95F4;&#xFF0C;&#x800C;&#x662F;&#x4E8B;&#x52A1;&#x7684;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x6BCF;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x65B0;&#x4E8B;&#x52A1;&#xFF0C;&#x4E8B;&#x52A1;&#x7684;&#x7248;&#x672C;&#x53F7;&#x5C31;&#x4F1A;&#x9012;&#x589E;&#x3002; &#x5728;&#x53EF;&#x91CD;&#x8BFB;Repeatable reads&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x4E0B;&#xFF1A;</p><ul><li>SELECT&#x65F6;&#xFF0C;&#x8BFB;&#x53D6;&#x521B;&#x5EFA;&#x7248;&#x672C;&#x53F7; <code>&lt;=</code> &#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x5220;&#x9664;&#x7248;&#x672C;&#x53F7;&#x4E3A;&#x7A7A;&#x6216; <code>&gt;</code> &#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x53F7;&#x3002;</li><li>INSERT&#x65F6;&#xFF0C;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x53F7;&#x4E3A;&#x884C;&#x7684;&#x521B;&#x5EFA;&#x7248;&#x672C;&#x53F7;</li><li>DELETE&#x65F6;&#xFF0C;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x53F7;&#x4E3A;&#x884C;&#x7684;&#x5220;&#x9664;&#x7248;&#x672C;&#x53F7;</li><li>UPDATE&#x65F6;&#xFF0C;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x65B0;&#x7EAA;&#x5F55;&#xFF0C;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x53F7;&#x4E3A;&#x884C;&#x521B;&#x5EFA;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x540C;&#x65F6;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x53F7;&#x5230;&#x539F;&#x6765;&#x5220;&#x9664;&#x7684;&#x884C;</li></ul><p>&#x901A;&#x8FC7;MVCC&#xFF0C;&#x867D;&#x7136;&#x6BCF;&#x884C;&#x8BB0;&#x5F55;&#x90FD;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C;&#x66F4;&#x591A;&#x7684;&#x884C;&#x68C0;&#x67E5;&#x5DE5;&#x4F5C;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x7EF4;&#x62A4;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x9501;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x8BFB;&#x64CD;&#x4F5C;&#x90FD;&#x4E0D;&#x7528;&#x52A0;&#x9501;&#xFF0C;&#x8BFB;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6027;&#x80FD;&#x5F88;&#x597D;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x80FD;&#x4FDD;&#x8BC1;&#x53EA;&#x4F1A;&#x8BFB;&#x53D6;&#x5230;&#x7B26;&#x5408;&#x6807;&#x51C6;&#x7684;&#x884C;&#xFF0C;&#x4E5F;&#x53EA;&#x9501;&#x4F4F;&#x5FC5;&#x8981;&#x884C;&#x3002;</p><p>&#x6211;&#x4EEC;&#x4E0D;&#x7BA1;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x65B9;&#x9762;&#x7684;&#x6559;&#x8BFE;&#x4E66;&#x4E2D;&#x5B66;&#x5230;&#xFF0C;&#x8FD8;&#x662F;&#x4ECE;&#x7F51;&#x7EDC;&#x4E0A;&#x770B;&#x5230;&#xFF0C;&#x5927;&#x90FD;&#x662F;&#x4E0A;&#x6587;&#x4E2D;&#x4E8B;&#x52A1;&#x7684;&#x56DB;&#x79CD;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x8FD9;&#x4E00;&#x6A21;&#x5757;&#x5217;&#x51FA;&#x7684;&#x610F;&#x601D;&#xFF0C;RR&#x7EA7;&#x522B;&#x662F;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x7684;&#xFF0C;&#x4F46;&#x65E0;&#x6CD5;&#x89E3;&#x51B3;&#x5E7B;&#x8BFB;&#xFF0C;&#x800C;&#x53EA;&#x6709;&#x5728;Serializable&#x7EA7;&#x522B;&#x624D;&#x80FD;&#x89E3;&#x51B3;&#x5E7B;&#x8BFB;&#x3002;&#x4E8E;&#x662F;&#x6211;&#x5C31;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;C&#x6765;&#x5C55;&#x793A;&#x6548;&#x679C;&#x3002;&#x5728;&#x4E8B;&#x52A1;C&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x6761;teacher_id=1&#x7684;&#x6570;&#x636E;commit&#xFF0C;RR&#x7EA7;&#x522B;&#x4E2D;&#x5E94;&#x8BE5;&#x4F1A;&#x6709;&#x5E7B;&#x8BFB;&#x73B0;&#x8C61;&#xFF0C;&#x4E8B;&#x52A1;A&#x5728;&#x67E5;&#x8BE2;teacher_id=1&#x7684;&#x6570;&#x636E;&#x65F6;&#x4F1A;&#x8BFB;&#x5230;&#x4E8B;&#x52A1;C&#x65B0;&#x52A0;&#x7684;&#x6570;&#x636E;&#x3002;&#x4F46;&#x662F;&#x6D4B;&#x8BD5;&#x540E;&#x53D1;&#x73B0;&#xFF0C;&#x5728;MySQL&#x4E2D;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#xFF0C;&#x5728;&#x4E8B;&#x52A1;C&#x63D0;&#x4EA4;&#x540E;&#xFF0C;&#x4E8B;&#x52A1;A&#x8FD8;&#x662F;&#x4E0D;&#x4F1A;&#x8BFB;&#x5230;&#x8FD9;&#x6761;&#x6570;&#x636E;&#x3002;&#x53EF;&#x89C1;&#x5728;MySQL&#x7684;RR&#x7EA7;&#x522B;&#x4E2D;&#xFF0C;&#x662F;&#x89E3;&#x51B3;&#x4E86;&#x5E7B;&#x8BFB;&#x7684;&#x8BFB;&#x95EE;&#x9898;&#x7684;&#x3002;&#x53C2;&#x89C1;&#x4E0B;&#x56FE;</p><p><img src="/2019/09/14/&#x8F6C;&#x8F7D;-Innodb&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x548C;&#x9501;&#x7684;&#x5173;&#x7CFB;/pic1.png" alt></p><p>&#x8BFB;&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x4E86;&#xFF0C;&#x6839;&#x636E;MVCC&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x5E76;&#x53D1;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#x65F6;&#x4F1A;&#x51FA;&#x73B0;&#x51B2;&#x7A81;&#xFF0C;&#x90A3;&#x4E48;&#x51B2;&#x7A81;&#x65F6;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x518D;&#x6765;&#x770B;&#x770B;InnoDB&#x4E2D;RR&#x7EA7;&#x522B;&#x5BF9;&#x4E8E;&#x5199;&#x6570;&#x636E;&#x7684;&#x5904;&#x7406;&#x3002;</p><h3 id="&#x201C;&#x8BFB;&#x201D;&#x4E0E;&#x201C;&#x8BFB;&#x201D;&#x7684;&#x533A;&#x522B;"><a href="#&#x201C;&#x8BFB;&#x201D;&#x4E0E;&#x201C;&#x8BFB;&#x201D;&#x7684;&#x533A;&#x522B;" class="headerlink" title="&#x201C;&#x8BFB;&#x201D;&#x4E0E;&#x201C;&#x8BFB;&#x201D;&#x7684;&#x533A;&#x522B;"></a>&#x201C;&#x8BFB;&#x201D;&#x4E0E;&#x201C;&#x8BFB;&#x201D;&#x7684;&#x533A;&#x522B;</h3><p>&#x53EF;&#x80FD;&#x6709;&#x8BFB;&#x8005;&#x4F1A;&#x7591;&#x60D1;&#xFF0C;&#x4E8B;&#x52A1;&#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x5BF9;&#x4E8E;&#x8BFB;&#x6570;&#x636E;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x4F46;&#x5230;&#x4E86;&#x8FD9;&#x91CC;&#xFF0C;&#x5C31;&#x88AB;&#x62C6;&#x6210;&#x4E86;&#x8BFB;&#x548C;&#x5199;&#x4E24;&#x4E2A;&#x6A21;&#x5757;&#x6765;&#x8BB2;&#x89E3;&#x3002;&#x8FD9;&#x4E3B;&#x8981;&#x662F;&#x56E0;&#x4E3A;MySQL&#x4E2D;&#x7684;&#x8BFB;&#xFF0C;&#x548C;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x4E2D;&#x7684;&#x8BFB;&#xFF0C;&#x662F;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x3002;</p><p>&#x6211;&#x4EEC;&#x4E14;&#x770B;&#xFF0C;&#x5728;RR&#x7EA7;&#x522B;&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;MVCC&#x673A;&#x5236;&#xFF0C;&#x867D;&#x7136;&#x8BA9;&#x6570;&#x636E;&#x53D8;&#x5F97;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x8BFB;&#x5230;&#x7684;&#x6570;&#x636E;&#x53EF;&#x80FD;&#x662F;&#x5386;&#x53F2;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x4E0D;&#x53CA;&#x65F6;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x662F;&#x6570;&#x636E;&#x5E93;&#x5F53;&#x524D;&#x7684;&#x6570;&#x636E;&#xFF01;&#x8FD9;&#x5728;&#x4E00;&#x4E9B;&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x7684;&#x65F6;&#x6548;&#x7279;&#x522B;&#x654F;&#x611F;&#x7684;&#x4E1A;&#x52A1;&#x4E2D;&#xFF0C;&#x5C31;&#x5F88;&#x53EF;&#x80FD;&#x51FA;&#x95EE;&#x9898;&#x3002;</p><p>&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x8BFB;&#x53D6;&#x5386;&#x53F2;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x53EB;&#x5B83;&#x5FEB;&#x7167;&#x8BFB; (snapshot read)&#xFF0C;&#x800C;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x5F53;&#x524D;&#x7248;&#x672C;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x53EB;&#x5F53;&#x524D;&#x8BFB; (current read)&#x3002;&#x5F88;&#x663E;&#x7136;&#xFF0C;&#x5728;MVCC&#x4E2D;&#xFF1A;</p><ul><li>&#x5FEB;&#x7167;&#x8BFB;&#xFF1A;&#x5C31;&#x662F;select<ul><li>select * from table &#x2026;.;</li></ul></li><li>&#x5F53;&#x524D;&#x8BFB;&#xFF1A;&#x7279;&#x6B8A;&#x7684;&#x8BFB;&#x64CD;&#x4F5C;&#xFF0C;&#x63D2;&#x5165;/&#x66F4;&#x65B0;/&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x5C5E;&#x4E8E;&#x5F53;&#x524D;&#x8BFB;&#xFF0C;&#x5904;&#x7406;&#x7684;&#x90FD;&#x662F;&#x5F53;&#x524D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x9501;&#x3002;<ul><li>select * from table where ? lock in share mode;</li><li>select * from table where ? for update;</li><li>insert;</li><li>update ;</li><li>delete;</li></ul></li></ul><p>&#x4E8B;&#x52A1;&#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x5B9E;&#x9645;&#x4E0A;&#x90FD;&#x662F;&#x5B9A;&#x4E49;&#x4E86;&#x5F53;&#x524D;&#x8BFB;&#x7684;&#x7EA7;&#x522B;&#xFF0C;MySQL&#x4E3A;&#x4E86;&#x51CF;&#x5C11;&#x9501;&#x5904;&#x7406;&#xFF08;&#x5305;&#x62EC;&#x7B49;&#x5F85;&#x5176;&#x5B83;&#x9501;&#xFF09;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x63D0;&#x5347;&#x5E76;&#x53D1;&#x80FD;&#x529B;&#xFF0C;&#x5F15;&#x5165;&#x4E86;&#x5FEB;&#x7167;&#x8BFB;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x4F7F;&#x5F97;select&#x4E0D;&#x7528;&#x52A0;&#x9501;&#x3002;&#x800C;update&#x3001;insert&#x8FD9;&#x4E9B;&#x201C;&#x5F53;&#x524D;&#x8BFB;&#x201D;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x53E6;&#x5916;&#x7684;&#x6A21;&#x5757;&#x6765;&#x89E3;&#x51B3;&#x4E86;&#x3002;</p><h3 id="&#x5199;&#xFF08;&#x201D;&#x5F53;&#x524D;&#x8BFB;&#x201D;&#xFF09;"><a href="#&#x5199;&#xFF08;&#x201D;&#x5F53;&#x524D;&#x8BFB;&#x201D;&#xFF09;" class="headerlink" title="&#x5199;&#xFF08;&#x201D;&#x5F53;&#x524D;&#x8BFB;&#x201D;&#xFF09;"></a>&#x5199;&#xFF08;&#x201D;&#x5F53;&#x524D;&#x8BFB;&#x201D;&#xFF09;</h3><p>&#x4E8B;&#x52A1;&#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x4E2D;&#x867D;&#x7136;&#x53EA;&#x5B9A;&#x4E49;&#x4E86;&#x8BFB;&#x6570;&#x636E;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x4E5F;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x5199;&#x6570;&#x636E;&#x7684;&#x8981;&#x6C42;&#x3002;&#x4E0A;&#x6587;&#x7684;&#x201C;&#x8BFB;&#x201D;&#xFF0C;&#x5B9E;&#x9645;&#x662F;&#x8BB2;&#x7684;&#x5FEB;&#x7167;&#x8BFB;&#xFF1B;&#x800C;&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x201C;&#x5199;&#x201D;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x8BFB;&#x4E86;&#x3002;</p><p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x5F53;&#x524D;&#x8BFB;&#x4E2D;&#x7684;&#x5E7B;&#x8BFB;&#x95EE;&#x9898;&#xFF0C;MySQL&#x4E8B;&#x52A1;&#x4F7F;&#x7528;&#x4E86;Next-Key&#x9501;&#x3002;</p><h3 id="Next-Key&#x9501;"><a href="#Next-Key&#x9501;" class="headerlink" title="Next-Key&#x9501;"></a>Next-Key&#x9501;</h3><p>Next-Key&#x9501;&#x662F;&#x884C;&#x9501;&#x548C;GAP&#xFF08;&#x95F4;&#x9699;&#x9501;&#xFF09;&#x7684;&#x5408;&#x5E76;&#xFF0C;&#x884C;&#x9501;&#x4E0A;&#x6587;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x8BF4;&#x4E0B;GAP&#x95F4;&#x9699;&#x9501;&#x3002;</p><p>&#x884C;&#x9501;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x4E0D;&#x540C;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x7684;&#x6570;&#x636E;&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x65F6;&#x9020;&#x6210;&#x6570;&#x636E;&#x51B2;&#x7A81;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x4F46;&#x5982;&#x4F55;&#x907F;&#x514D;&#x522B;&#x7684;&#x4E8B;&#x52A1;&#x63D2;&#x5165;&#x6570;&#x636E;&#x5C31;&#x6210;&#x4E86;&#x95EE;&#x9898;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x770B;RR&#x7EA7;&#x522B;&#x548C;RC&#x7EA7;&#x522B;&#x7684;&#x5BF9;&#x6BD4;</p><p>RC&#x7EA7;&#x522B;&#xFF1A;</p><table><tbody><tr><th>&#x4E8B;&#x52A1;A</th><th>&#x4E8B;&#x52A1;B</th></tr><tr><td>begin;</td><td><p>begin;</p></td></tr><tr><td><p><span>select id,class_name,teacher_id from class_teacher where teacher_id=30;</span></p><table><tbody><tr><th>id</th><th>class_name</th><th>teacher_id</th></tr><tr><td>2</td><td>&#x521D;&#x4E09;&#x4E8C;&#x73ED;</td><td>30</td></tr></tbody></table><p><span><br></span></p></td><td>&#xA0;</td></tr><tr><td><span>update class_teacher set class_name=&apos;&#x521D;&#x4E09;&#x56DB;&#x73ED;&apos; where teacher_id=30;</span></td><td><p>&#xA0;</p></td></tr><tr><td colspan="1"><p>&#xA0;</p></td><td colspan="1"><p>insert into class_teacher values (null,&apos;&#x521D;&#x4E09;&#x4E8C;&#x73ED;&apos;,30);</p><p>commit;</p></td></tr><tr><td colspan="1"><p><span>select id,class_name,teacher_id from class_teacher where teacher_id=30;</span></p><table><tbody><tr><th>id</th><th>class_name</th><th>teacher_id</th></tr><tr><td>2</td><td>&#x521D;&#x4E09;&#x56DB;&#x73ED;</td><td>30</td></tr><tr><td>10</td><td>&#x521D;&#x4E09;&#x4E8C;&#x73ED;</td><td>30</td></tr></tbody></table><p><span><br></span></p></td><td colspan="1">&#xA0;</td></tr></tbody></table><p>RR&#x7EA7;&#x522B;&#xFF1A;</p><table><tbody><tr><th>&#x4E8B;&#x52A1;A</th><th>&#x4E8B;&#x52A1;B</th></tr><tr><td>begin;</td><td><p>begin;</p></td></tr><tr><td><p>select id,class_name,teacher_id from class_teacher where teacher_id=30;</p><table><tbody><tr><th>id</th><th>class_name</th><th>teacher_id</th></tr><tr><td>2</td><td>&#x521D;&#x4E09;&#x4E8C;&#x73ED;</td><td>30</td></tr></tbody></table></td><td>&#xA0;</td></tr><tr><td>update class_teacher set class_name=&apos;&#x521D;&#x4E09;&#x56DB;&#x73ED;&apos; where teacher_id=30;</td><td><p>&#xA0;</p></td></tr><tr><td colspan="1"><p>&#xA0;</p></td><td colspan="1"><p>insert into class_teacher values (null,&apos;&#x521D;&#x4E09;&#x4E8C;&#x73ED;&apos;,30);</p><p>waiting....</p></td></tr><tr><td colspan="1"><p><span>select id,class_name,teacher_id from class_teacher where teacher_id=30;</span></p><table><tbody><tr><th>id</th><th>class_name</th><th>teacher_id</th></tr><tr><td>2</td><td>&#x521D;&#x4E09;&#x56DB;&#x73ED;</td><td>30</td></tr></tbody></table></td><td colspan="1">&#xA0;</td></tr><tr><td colspan="1">commit;</td><td colspan="1"><span>&#x4E8B;&#x52A1;Acommit&#x540E;&#xFF0C;&#x4E8B;&#x52A1;B&#x7684;insert&#x6267;&#x884C;&#x3002;</span></td></tr></tbody></table><p>&#x901A;&#x8FC7;&#x5BF9;&#x6BD4;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x5728;RC&#x7EA7;&#x522B;&#x4E2D;&#xFF0C;&#x4E8B;&#x52A1;A&#x4FEE;&#x6539;&#x4E86;&#x6240;&#x6709;teacher_id=30&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x5F53;&#x4E8B;&#x52A1;B insert&#x8FDB;&#x65B0;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x4E8B;&#x52A1;A&#x53D1;&#x73B0;&#x83AB;&#x540D;&#x5176;&#x5999;&#x591A;&#x4E86;&#x4E00;&#x884C;teacher_id=30&#x7684;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E14;&#x6CA1;&#x6709;&#x88AB;&#x4E4B;&#x524D;&#x7684;update&#x8BED;&#x53E5;&#x6240;&#x4FEE;&#x6539;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x201C;&#x5F53;&#x524D;&#x8BFB;&#x201D;&#x7684;&#x5E7B;&#x8BFB;&#x3002;</p><p>RR&#x7EA7;&#x522B;&#x4E2D;&#xFF0C;&#x4E8B;&#x52A1;A&#x5728;update&#x540E;&#x52A0;&#x9501;&#xFF0C;&#x4E8B;&#x52A1;B&#x65E0;&#x6CD5;&#x63D2;&#x5165;&#x65B0;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6837;&#x4E8B;&#x52A1;A&#x5728;update&#x524D;&#x540E;&#x8BFB;&#x7684;&#x6570;&#x636E;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x907F;&#x514D;&#x4E86;&#x5E7B;&#x8BFB;&#x3002;&#x8FD9;&#x4E2A;&#x9501;&#xFF0C;&#x5C31;&#x662F;Gap&#x9501;&#x3002;</p><p>MySQL&#x662F;&#x8FD9;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#xFF1A;</p><p>&#x5728;class_teacher&#x8FD9;&#x5F20;&#x8868;&#x4E2D;&#xFF0C;teacher_id&#x662F;&#x4E2A;&#x7D22;&#x5F15;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x5C31;&#x4F1A;&#x7EF4;&#x62A4;&#x4E00;&#x5957;B+&#x6811;&#x7684;&#x6570;&#x636E;&#x5173;&#x7CFB;&#xFF0C;&#x4E3A;&#x4E86;&#x7B80;&#x5316;&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x94FE;&#x8868;&#x7ED3;&#x6784;&#x6765;&#x8868;&#x8FBE;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E2A;&#x6811;&#x5F62;&#x7ED3;&#x6784;&#xFF0C;&#x4F46;&#x539F;&#x7406;&#x76F8;&#x540C;&#xFF09;<br><img src="/2019/09/14/&#x8F6C;&#x8F7D;-Innodb&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x548C;&#x9501;&#x7684;&#x5173;&#x7CFB;/pic2.png" alt></p><p>&#x5982;&#x56FE;&#x6240;&#x793A;&#xFF0C;InnoDB&#x4F7F;&#x7528;&#x7684;&#x662F;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF0C;teacher_id&#x8EAB;&#x4E3A;&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;&#xFF0C;&#x5C31;&#x8981;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x5B57;&#x6BB5;&#x548C;&#x4E3B;&#x952E;id&#x7684;&#x6811;&#x72B6;&#x7ED3;&#x6784;&#xFF08;&#x8FD9;&#x91CC;&#x7528;&#x94FE;&#x8868;&#x5F62;&#x5F0F;&#x8868;&#x73B0;&#xFF09;&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x987A;&#x5E8F;&#x6392;&#x5217;&#x3002;</p><p>Innodb&#x5C06;&#x8FD9;&#x6BB5;&#x6570;&#x636E;&#x5206;&#x6210;&#x51E0;&#x4E2A;&#x4E2A;&#x533A;&#x95F4;</p><ul><li>(negative infinity, 5],</li><li>(5,30],</li><li>(30,positive infinity)&#xFF1B;</li></ul><p><code>update class_teacher set class_name=&#x2018;&#x521D;&#x4E09;&#x56DB;&#x73ED;&#x2019; where teacher_id=30;</code>&#x4E0D;&#x4EC5;&#x7528;&#x884C;&#x9501;&#xFF0C;&#x9501;&#x4F4F;&#x4E86;&#x76F8;&#x5E94;&#x7684;&#x6570;&#x636E;&#x884C;&#xFF1B;&#x540C;&#x65F6;&#x4E5F;&#x5728;&#x4E24;&#x8FB9;&#x7684;&#x533A;&#x95F4;&#xFF0C;&#xFF08;5,30]&#x548C;&#xFF08;30&#xFF0C;positive infinity&#xFF09;&#xFF0C;&#x90FD;&#x52A0;&#x5165;&#x4E86;gap&#x9501;&#x3002;&#x8FD9;&#x6837;&#x4E8B;&#x52A1;B&#x5C31;&#x65E0;&#x6CD5;&#x5728;&#x8FD9;&#x4E2A;&#x4E24;&#x4E2A;&#x533A;&#x95F4;insert&#x8FDB;&#x65B0;&#x6570;&#x636E;&#x3002;</p><p>&#x53D7;&#x9650;&#x4E8E;&#x8FD9;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF0C;Innodb&#x5F88;&#x591A;&#x65F6;&#x5019;&#x4F1A;&#x9501;&#x4F4F;&#x4E0D;&#x9700;&#x8981;&#x9501;&#x7684;&#x533A;&#x95F4;&#x3002;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p><table><tbody><tr><th>&#x4E8B;&#x52A1;A</th><th>&#x4E8B;&#x52A1;B</th><th colspan="1">&#x4E8B;&#x52A1;C</th></tr><tr><td>begin;</td><td>begin;</td><td colspan="1">begin;</td></tr><tr><td><p>select id,class_name,teacher_id from class_teacher;</p><table><tbody><tr><th>id</th><th>class_name</th><th>teacher_id</th></tr><tr><td>1</td><td>&#x521D;&#x4E09;&#x4E00;&#x73ED;</td><td><p>5</p></td></tr><tr><td>2</td><td>&#x521D;&#x4E09;&#x4E8C;&#x73ED;</td><td>30</td></tr></tbody></table></td><td>&#xA0;</td><td colspan="1">&#xA0;</td></tr><tr><td>update class_teacher set class_name=&apos;&#x521D;&#x4E00;&#x4E00;&#x73ED;&apos; where teacher_id=20;</td><td>&#xA0;</td><td colspan="1">&#xA0;</td></tr><tr><td>&#xA0;</td><td><p>insert into class_teacher values (null,&apos;&#x521D;&#x4E09;&#x4E94;&#x73ED;&apos;,10);</p><p>waiting .....</p></td><td colspan="1"><span>insert into class_teacher values (null,&apos;&#x521D;&#x4E09;&#x4E94;&#x73ED;&apos;,40);</span></td></tr><tr><td colspan="1">commit;</td><td colspan="1">&#x4E8B;&#x52A1;A commit&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x6761;&#x8BED;&#x53E5;&#x624D;&#x63D2;&#x5165;&#x6210;&#x529F;</td><td colspan="1">commit;</td></tr><tr><td colspan="1">&#xA0;</td><td colspan="1">commit;</td><td colspan="1">&#xA0;</td></tr></tbody></table><p>update&#x7684;teacher_id=20&#x662F;&#x5728;(5&#xFF0C;30]&#x533A;&#x95F4;&#xFF0C;&#x5373;&#x4F7F;&#x6CA1;&#x6709;&#x4FEE;&#x6539;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#xFF0C;Innodb&#x4E5F;&#x4F1A;&#x5728;&#x8FD9;&#x4E2A;&#x533A;&#x95F4;&#x52A0;gap&#x9501;&#xFF0C;&#x800C;&#x5176;&#x5B83;&#x533A;&#x95F4;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#xFF0C;&#x4E8B;&#x52A1;C&#x6B63;&#x5E38;&#x63D2;&#x5165;&#x3002;</p><p>&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x6CA1;&#x6709;&#x7D22;&#x5F15;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x6BD4;&#x5982;<code>update class_teacher set teacher_id=7 where class_name=&apos;&#x521D;&#x4E09;&#x516B;&#x73ED;&apos;</code>&#xFF08;&#x5373;&#x4F7F;&#x6CA1;&#x6709;&#x5339;&#x914D;&#x5230;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#xFF09;&#x2019;,&#x90A3;&#x4E48;&#x4F1A;&#x7ED9;&#x5168;&#x8868;&#x52A0;&#x5165;gap&#x9501;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x5B83;&#x4E0D;&#x80FD;&#x50CF;&#x4E0A;&#x6587;&#x4E2D;&#x884C;&#x9501;&#x4E00;&#x6837;&#x7ECF;&#x8FC7;MySQL Server&#x8FC7;&#x6EE4;&#x81EA;&#x52A8;&#x89E3;&#x9664;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x9501;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x7D22;&#x5F15;&#xFF0C;&#x5219;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x4E5F;&#x5C31;&#x6CA1;&#x6709;&#x6392;&#x5E8F;&#xFF0C;&#x4E5F;&#x5C31;&#x6CA1;&#x6709;&#x533A;&#x95F4;&#x3002;&#x9664;&#x975E;&#x8BE5;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#xFF0C;&#x5426;&#x5219;&#x5176;&#x5B83;&#x4E8B;&#x52A1;&#x65E0;&#x6CD5;&#x63D2;&#x5165;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x3002;</p><p><strong>&#x884C;&#x9501;&#x9632;&#x6B62;&#x522B;&#x7684;&#x4E8B;&#x52A1;&#x4FEE;&#x6539;&#x6216;&#x5220;&#x9664;&#xFF0C;GAP&#x9501;&#x9632;&#x6B62;&#x522B;&#x7684;&#x4E8B;&#x52A1;&#x65B0;&#x589E;&#xFF0C;&#x884C;&#x9501;&#x548C;GAP&#x9501;&#x7ED3;&#x5408;&#x5F62;&#x6210;&#x7684;&#x7684;Next-Key&#x9501;&#x5171;&#x540C;&#x89E3;&#x51B3;&#x4E86;RR&#x7EA7;&#x522B;&#x5728;&#x5199;&#x6570;&#x636E;&#x65F6;&#x7684;&#x5E7B;&#x8BFB;&#x95EE;&#x9898;&#x3002;</strong></p><h3 id="Serializable"><a href="#Serializable" class="headerlink" title="Serializable"></a>Serializable</h3><p>&#x8FD9;&#x4E2A;&#x7EA7;&#x522B;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x8BFB;&#x52A0;&#x5171;&#x4EAB;&#x9501;&#xFF0C;&#x5199;&#x52A0;&#x6392;&#x4ED6;&#x9501;&#xFF0C;&#x8BFB;&#x5199;&#x4E92;&#x65A5;&#x3002;&#x4F7F;&#x7528;&#x7684;&#x60B2;&#x89C2;&#x9501;&#x7684;&#x7406;&#x8BBA;&#xFF0C;&#x5B9E;&#x73B0;&#x7B80;&#x5355;&#xFF0C;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x5B89;&#x5168;&#xFF0C;&#x4F46;&#x662F;&#x5E76;&#x53D1;&#x80FD;&#x529B;&#x975E;&#x5E38;&#x5DEE;&#x3002;&#x5982;&#x679C;&#x4F60;&#x7684;&#x4E1A;&#x52A1;&#x5E76;&#x53D1;&#x7684;&#x7279;&#x522B;&#x5C11;&#x6216;&#x8005;&#x6CA1;&#x6709;&#x5E76;&#x53D1;&#xFF0C;&#x540C;&#x65F6;&#x53C8;&#x8981;&#x6C42;&#x6570;&#x636E;&#x53CA;&#x65F6;&#x53EF;&#x9760;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x3002;</p><p>&#x8FD9;&#x91CC;&#x8981;&#x5410;&#x69FD;&#x4E00;&#x53E5;&#xFF0C;&#x4E0D;&#x8981;&#x770B;&#x5230;select&#x5C31;&#x8BF4;&#x4E0D;&#x4F1A;&#x52A0;&#x9501;&#x4E86;&#xFF0C;&#x5728;Serializable&#x8FD9;&#x4E2A;&#x7EA7;&#x522B;&#xFF0C;&#x8FD8;&#x662F;&#x4F1A;&#x52A0;&#x9501;&#x7684;&#xFF01;</p><h2 id="&#x53C2;&#x8003;&#x8D44;&#x6599;"><a href="#&#x53C2;&#x8003;&#x8D44;&#x6599;" class="headerlink" title="&#x53C2;&#x8003;&#x8D44;&#x6599;"></a>&#x53C2;&#x8003;&#x8D44;&#x6599;</h2><ul><li><a href="http://dev.mysql.com/doc/" target="_blank" rel="noopener">MySQL&#x53C2;&#x8003;&#x624B;&#x518C;</a></li><li>&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&#x7B2C;&#x4E09;&#x7248;</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://tech.meituan.com/2014/08/20/innodb-lock.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://tech.meituan.com/2014/08/20/innodb-lock.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#x4E8B;&amp;#x52A1;&amp;#x7684;&amp;#x51E0;&amp;#x79CD;&amp;#x6027;&amp;#x8D28;&amp;#xFF0C;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4E3A;&amp;#x4E86;&amp;#x7EF4;&amp;#x62A4;&amp;#x8FD9;&amp;#x4E9B;&amp;#x6027;&amp;#x8D28;&amp;#xFF0C;&amp;#x5C24;&amp;#x5176;&amp;#x662F;&amp;#x4E00;&amp;#x81F4;&amp;#x6027;&amp;#x548C;&amp;#x9694;&amp;#x79BB;&amp;#x6027;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x4F7F;&amp;#x7528;&amp;#x52A0;&amp;#x9501;&amp;#x8FD9;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x53C8;&amp;#x662F;&amp;#x4E2A;&amp;#x9AD8;&amp;#x5E76;&amp;#x53D1;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#xFF0C;&amp;#x540C;&amp;#x4E00;&amp;#x65F6;&amp;#x95F4;&amp;#x4F1A;&amp;#x6709;&amp;#x5927;&amp;#x91CF;&amp;#x7684;&amp;#x5E76;&amp;#x53D1;&amp;#x8BBF;&amp;#x95EE;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x52A0;&amp;#x9501;&amp;#x8FC7;&amp;#x5EA6;&amp;#xFF0C;&amp;#x4F1A;&amp;#x6781;&amp;#x5927;&amp;#x7684;&amp;#x964D;&amp;#x4F4E;&amp;#x5E76;&amp;#x53D1;&amp;#x5904;&amp;#x7406;&amp;#x80FD;&amp;#x529B;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5BF9;&amp;#x4E8E;&amp;#x52A0;&amp;#x9501;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BF4;&amp;#x5C31;&amp;#x662F;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E8B;&amp;#x52A1;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x7CBE;&amp;#x9AD3;&amp;#x6240;&amp;#x5728;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x901A;&amp;#x8FC7;&amp;#x5206;&amp;#x6790;MySQL&amp;#x4E2D;InnoDB&amp;#x5F15;&amp;#x64CE;&amp;#x7684;&amp;#x52A0;&amp;#x9501;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x6765;&amp;#x629B;&amp;#x7816;&amp;#x5F15;&amp;#x7389;&amp;#xFF0C;&amp;#x8BA9;&amp;#x8BFB;&amp;#x8005;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#xFF0C;&amp;#x5728;&amp;#x4E8B;&amp;#x52A1;&amp;#x5904;&amp;#x7406;&amp;#x4E2D;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x5230;&amp;#x5E95;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="mysql" scheme="https://cqh-i.github.io/categories/mysql/"/>
    
    
      <category term="Innodb" scheme="https://cqh-i.github.io/tags/Innodb/"/>
    
      <category term="mysql锁" scheme="https://cqh-i.github.io/tags/mysql%E9%94%81/"/>
    
  </entry>
  
  <entry>
    <title>(转载)npm 模块安装机制简介</title>
    <link href="https://cqh-i.github.io/2019/09/14/%E8%BD%AC%E8%BD%BD-npm-%E6%A8%A1%E5%9D%97%E5%AE%89%E8%A3%85%E6%9C%BA%E5%88%B6%E7%AE%80%E4%BB%8B/"/>
    <id>https://cqh-i.github.io/2019/09/14/转载-npm-模块安装机制简介/</id>
    <published>2019-09-14T07:08:30.000Z</published>
    <updated>2019-09-14T07:33:57.580Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="http://www.ruanyifeng.com/blog/2016/01/npm-install.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/01/npm-install.html</a></p><p><a href="https://www.npmjs.com/package/npm" target="_blank" rel="noopener">npm</a> &#x662F; Node &#x7684;&#x6A21;&#x5757;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x529F;&#x80FD;&#x6781;&#x5176;&#x5F3A;&#x5927;&#x3002;&#x5B83;&#x662F; Node &#x83B7;&#x5F97;&#x6210;&#x529F;&#x7684;&#x91CD;&#x8981;&#x539F;&#x56E0;&#x4E4B;&#x4E00;&#x3002;</p><a id="more"></a><p><img src="/2019/09/14/&#x8F6C;&#x8F7D;-npm-&#x6A21;&#x5757;&#x5B89;&#x88C5;&#x673A;&#x5236;&#x7B80;&#x4ECB;/pic1.jpg" alt></p><p>&#x6B63;&#x56E0;&#x4E3A;&#x6709;&#x4E86;npm&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x4E00;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x5C31;&#x80FD;&#x5B89;&#x88C5;&#x522B;&#x4EBA;&#x5199;&#x597D;&#x7684;&#x6A21;&#x5757; &#x3002;</p><p><code>$ npm install</code></p><p>&#x672C;&#x6587;&#x4ECB;&#x7ECD; npm &#x6A21;&#x5757;&#x5B89;&#x88C5;&#x673A;&#x5236;&#x7684;&#x7EC6;&#x8282;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x5B89;&#x88C5;&#x901F;&#x5EA6;&#x6162;&#x7684;&#x95EE;&#x9898;&#x3002;</p><h2 id="&#x4E00;&#x3001;&#x4ECE;-npm-install-&#x8BF4;&#x8D77;"><a href="#&#x4E00;&#x3001;&#x4ECE;-npm-install-&#x8BF4;&#x8D77;" class="headerlink" title="&#x4E00;&#x3001;&#x4ECE; npm install &#x8BF4;&#x8D77;"></a>&#x4E00;&#x3001;&#x4ECE; npm install &#x8BF4;&#x8D77;</h2><p><a href="https://docs.npmjs.com/cli/install" target="_blank" rel="noopener"><code>npm install</code></a> &#x547D;&#x4EE4;&#x7528;&#x6765;&#x5B89;&#x88C5;&#x6A21;&#x5757;&#x5230;<code>node_modules</code>&#x76EE;&#x5F55;&#x3002;</p><p><code>$ npm install &lt;packageName&gt;</code></p><p>&#x5B89;&#x88C5;&#x4E4B;&#x524D;&#xFF0C;<code>npm install</code>&#x4F1A;&#x5148;&#x68C0;&#x67E5;&#xFF0C;<code>node_modules</code>&#x76EE;&#x5F55;&#x4E4B;&#x4E2D;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x6307;&#x5B9A;&#x6A21;&#x5757;&#x3002;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF0C;&#x5C31;&#x4E0D;&#x518D;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x4E86;&#xFF0C;&#x5373;&#x4F7F;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7248;&#x672C;&#xFF0C;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002;</p><p>&#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#xFF0C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x4E0D;&#x7BA1;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x8FC7;&#xFF0C;npm &#x90FD;&#x8981;&#x5F3A;&#x5236;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>-f</code>&#x6216;<code>--force</code>&#x53C2;&#x6570;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install &lt;packageName&gt; --force</span><br></pre></td></tr></table></figure><h2 id="&#x4E8C;&#x3001;npm-update"><a href="#&#x4E8C;&#x3001;npm-update" class="headerlink" title="&#x4E8C;&#x3001;npm update"></a>&#x4E8C;&#x3001;npm update</h2><p>&#x5982;&#x679C;&#x60F3;&#x66F4;&#x65B0;&#x5DF2;&#x5B89;&#x88C5;&#x6A21;&#x5757;&#xFF0C;&#x5C31;&#x8981;&#x7528;&#x5230;<a href="https://docs.npmjs.com/cli/update" target="_blank" rel="noopener"><code>npm update</code></a>&#x547D;&#x4EE4;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm update &lt;packageName&gt;</span><br></pre></td></tr></table></figure><p>&#x5B83;&#x4F1A;&#x5148;&#x5230;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x67E5;&#x8BE2;&#x6700;&#x65B0;&#x7248;&#x672C;&#xFF0C;&#x7136;&#x540E;&#x67E5;&#x8BE2;&#x672C;&#x5730;&#x7248;&#x672C;&#x3002;&#x5982;&#x679C;&#x672C;&#x5730;&#x7248;&#x672C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x6216;&#x8005;&#x8FDC;&#x7A0B;&#x7248;&#x672C;&#x8F83;&#x65B0;&#xFF0C;&#x5C31;&#x4F1A;&#x5B89;&#x88C5;&#x3002;</p><h2 id="&#x4E09;&#x3001;registry"><a href="#&#x4E09;&#x3001;registry" class="headerlink" title="&#x4E09;&#x3001;registry"></a>&#x4E09;&#x3001;registry</h2><p><code>npm update</code>&#x547D;&#x4EE4;&#x600E;&#x4E48;&#x77E5;&#x9053;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x6700;&#x65B0;&#x7248;&#x672C;&#x5462;&#xFF1F;</p><p>&#x7B54;&#x6848;&#x662F; npm &#x6A21;&#x5757;&#x4ED3;&#x5E93;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#xFF0C;&#x53EB;&#x505A; registry &#x3002;&#x4EE5; npmjs.org &#x4E3A;&#x4F8B;&#xFF0C;&#x5B83;&#x7684;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x7F51;&#x5740;&#x662F; <a href="https://registry.npmjs.org/" target="_blank" rel="noopener"><code>https://registry.npmjs.org/</code></a> &#x3002;</p><p>&#x8FD9;&#x4E2A;&#x7F51;&#x5740;&#x540E;&#x9762;&#x8DDF;&#x4E0A;&#x6A21;&#x5757;&#x540D;&#xFF0C;&#x5C31;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A; JSON &#x5BF9;&#x8C61;&#xFF0C;&#x91CC;&#x9762;&#x662F;&#x8BE5;&#x6A21;&#x5757;&#x6240;&#x6709;&#x7248;&#x672C;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x8BBF;&#x95EE; <a href="https://registry.npmjs.org/react" target="_blank" rel="noopener"><code>https://registry.npmjs.org/react</code></a>&#xFF0C;&#x5C31;&#x4F1A;&#x770B;&#x5230; react &#x6A21;&#x5757;&#x6240;&#x6709;&#x7248;&#x672C;&#x7684;&#x4FE1;&#x606F;&#x3002;</p><p>&#x5B83;&#x8DDF;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#x7684;&#x6548;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ npm view react</span><br><span class="line"></span><br><span class="line"><span class="comment"># npm view &#x7684;&#x522B;&#x540D;</span></span><br><span class="line">$ npm info react</span><br><span class="line">$ npm show react</span><br><span class="line">$ npm v react</span><br></pre></td></tr></table></figure><p>registry &#x7F51;&#x5740;&#x7684;&#x6A21;&#x5757;&#x540D;&#x540E;&#x9762;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x8DDF;&#x4E0A;&#x7248;&#x672C;&#x53F7;&#x6216;&#x8005;&#x6807;&#x7B7E;&#xFF0C;&#x7528;&#x6765;&#x67E5;&#x8BE2;&#x67D0;&#x4E2A;&#x5177;&#x4F53;&#x7248;&#x672C;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x6BD4;&#x5982;&#xFF0C; &#x8BBF;&#x95EE; <a href="https://registry.npmjs.org/react/v0.14.6" target="_blank" rel="noopener">https://registry.npmjs.org/react/v0.14.6</a> &#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230; React &#x7684; 0.14.6 &#x7248;&#x3002;</p><p>&#x8FD4;&#x56DE;&#x7684; JSON &#x5BF9;&#x8C61;&#x91CC;&#x9762;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;<code>dist.tarball</code>&#x5C5E;&#x6027;&#xFF0C;&#x662F;&#x8BE5;&#x7248;&#x672C;&#x538B;&#x7F29;&#x5305;&#x7684;&#x7F51;&#x5740;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dist: {</span><br><span class="line">  shasum: <span class="string">&apos;2a57c2cf8747b483759ad8de0fa47fb0c5cf5c6a&apos;</span>,</span><br><span class="line">  tarball: <span class="string">&apos;http://registry.npmjs.org/react/-/react-0.14.6.tgz&apos;</span> </span><br><span class="line">},</span><br></pre></td></tr></table></figure><p>&#x5230;&#x8FD9;&#x4E2A;&#x7F51;&#x5740;&#x4E0B;&#x8F7D;&#x538B;&#x7F29;&#x5305;&#xFF0C;&#x5728;&#x672C;&#x5730;&#x89E3;&#x538B;&#xFF0C;&#x5C31;&#x5F97;&#x5230;&#x4E86;&#x6A21;&#x5757;&#x7684;&#x6E90;&#x7801;&#x3002;<code>npm install</code>&#x548C;<code>npm update</code>&#x547D;&#x4EE4;&#xFF0C;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5B89;&#x88C5;&#x6A21;&#x5757;&#x7684;&#x3002;</p><h2 id="&#x56DB;&#x3001;&#x7F13;&#x5B58;&#x76EE;&#x5F55;"><a href="#&#x56DB;&#x3001;&#x7F13;&#x5B58;&#x76EE;&#x5F55;" class="headerlink" title="&#x56DB;&#x3001;&#x7F13;&#x5B58;&#x76EE;&#x5F55;"></a>&#x56DB;&#x3001;&#x7F13;&#x5B58;&#x76EE;&#x5F55;</h2><p><code>npm install</code>&#x6216;<code>npm update</code>&#x547D;&#x4EE4;&#xFF0C;&#x4ECE; registry &#x4E0B;&#x8F7D;&#x538B;&#x7F29;&#x5305;&#x4E4B;&#x540E;&#xFF0C;&#x90FD;&#x5B58;&#x653E;&#x5728;&#x672C;&#x5730;&#x7684;&#x7F13;&#x5B58;&#x76EE;&#x5F55;&#x3002;</p><p>&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x5728; Linux &#x6216; Mac &#x9ED8;&#x8BA4;&#x662F;&#x7528;&#x6237;&#x4E3B;&#x76EE;&#x5F55;&#x4E0B;&#x7684;<code>.npm</code>&#x76EE;&#x5F55;&#xFF0C;&#x5728; Windows &#x9ED8;&#x8BA4;&#x662F;<code>%AppData%/npm-cache</code>&#x3002;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x7684;&#x5177;&#x4F53;&#x4F4D;&#x7F6E;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm config get cache</span><br><span class="line"><span class="variable">$HOME</span>/.npm</span><br></pre></td></tr></table></figure><p>&#x4F60;&#x6700;&#x597D;&#x6D4F;&#x89C8;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ls ~/.npm </span><br><span class="line"><span class="comment"># &#x6216;&#x8005;</span></span><br><span class="line">$ npm cache ls</span><br></pre></td></tr></table></figure><p>&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7740;&#x5927;&#x91CF;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x50A8;&#x5B58;&#x7ED3;&#x6784;&#x662F;<code>{cache}/{name}/{version}</code>&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ npm cache ls react</span><br><span class="line">~/.npm/react/react/0.14.6/</span><br><span class="line">~/.npm/react/react/0.14.6/package.tgz</span><br><span class="line">~/.npm/react/react/0.14.6/package/</span><br><span class="line">~/.npm/react/react/0.14.6/package/package.json</span><br></pre></td></tr></table></figure><p>&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x6BCF;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684;&#x5B50;&#x76EE;&#x5F55;&#xFF0C;&#x91CC;&#x9762;&#x662F;&#x4EE3;&#x7801;&#x7684;&#x538B;&#x7F29;&#x5305;<code>package.tgz</code>&#x6587;&#x4EF6;&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x63CF;&#x8FF0;&#x6587;&#x4EF6;<code>package/package.json</code>&#x3002;</p><p>&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x7684;&#x662F;&#xFF0C;&#x6240;&#x6709;&#x7248;&#x672C;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4EE5;&#x53CA;&#x8BE5;&#x6A21;&#x5757;&#x6700;&#x8FD1;&#x4FEE;&#x6539;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x6700;&#x65B0;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x65F6;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684; ETag &#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="string">&quot;time&quot;</span>:{</span><br><span class="line">    <span class="string">&quot;modified&quot;</span>:<span class="string">&quot;2016-01-06T23:52:45.571Z&quot;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  },</span><br><span class="line">  <span class="string">&quot;_etag&quot;</span>:<span class="string">&quot;\&quot;7S37I0775YLURCFIO8N85FO0F\&quot;&quot;</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x4E0D;&#x662F;&#x5F88;&#x5173;&#x952E;&#x7684;&#x64CD;&#x4F5C;&#xFF08;&#x6BD4;&#x5982;<code>npm search</code>&#x6216;<code>npm view</code>&#xFF09;&#xFF0C;npm&#x4F1A;&#x5148;&#x67E5;&#x770B;<code>.cache.json</code>&#x91CC;&#x9762;&#x7684;&#x6A21;&#x5757;&#x6700;&#x8FD1;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#xFF0C;&#x8DDF;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x7684;&#x5DEE;&#x8DDD;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x5728;&#x53EF;&#x63A5;&#x53D7;&#x7684;&#x8303;&#x56F4;&#x4E4B;&#x5185;&#x3002;&#x5982;&#x679C;&#x662F;&#x7684;&#xFF0C;&#x5C31;&#x4E0D;&#x518D;&#x5411;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;<code>.cache.json</code>&#x7684;&#x6570;&#x636E;&#x3002;</p><p><code>.npm</code>&#x76EE;&#x5F55;&#x4FDD;&#x5B58;&#x7740;&#x5927;&#x91CF;&#x6587;&#x4EF6;&#xFF0C;&#x6E05;&#x7A7A;&#x5B83;&#x7684;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#x3002;</p><h2 id="&#x4E94;&#x3001;&#x6A21;&#x5757;&#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;"><a href="#&#x4E94;&#x3001;&#x6A21;&#x5757;&#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x4E94;&#x3001;&#x6A21;&#x5757;&#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;"></a>&#x4E94;&#x3001;&#x6A21;&#x5757;&#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;</h2><p>&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF0C;Node&#x6A21;&#x5757;&#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x3002;</p><ol><li>&#x53D1;&#x51FA;<code>npm install</code>&#x547D;&#x4EE4;</li><li>npm &#x5411; registry &#x67E5;&#x8BE2;&#x6A21;&#x5757;&#x538B;&#x7F29;&#x5305;&#x7684;&#x7F51;&#x5740;</li><li>&#x4E0B;&#x8F7D;&#x538B;&#x7F29;&#x5305;&#xFF0C;&#x5B58;&#x653E;&#x5728;<code>~/.npm</code>&#x76EE;&#x5F55;</li><li>&#x89E3;&#x538B;&#x538B;&#x7F29;&#x5305;&#x5230;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x7684;<code>node_modules</code>&#x76EE;&#x5F55;</li></ol><p>&#x6CE8;&#x610F;&#xFF0C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x5B89;&#x88C5;&#x4EE5;&#x540E;&#xFF0C;&#x672C;&#x5730;&#x5176;&#x5B9E;&#x4FDD;&#x5B58;&#x4E86;&#x4E24;&#x4EFD;&#x3002;&#x4E00;&#x4EFD;&#x662F;<code>~/.npm</code>&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x538B;&#x7F29;&#x5305;&#xFF0C;&#x53E6;&#x4E00;&#x4EFD;&#x662F;<code>node_modules</code>&#x76EE;&#x5F55;&#x4E0B;&#x89E3;&#x538B;&#x540E;&#x7684;&#x4EE3;&#x7801;&#x3002;</p><p>&#x4F46;&#x662F;&#xFF0C;&#x8FD0;&#x884C;<code>npm install</code>&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EA;&#x4F1A;&#x68C0;&#x67E5;<code>node_modules</code>&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x68C0;&#x67E5;<code>~/.npm</code>&#x76EE;&#x5F55;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x5728;<code>&#xFF5E;/.npm</code>&#x4E0B;&#x6709;&#x538B;&#x7F29;&#x5305;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x5728;<code>node_modules</code>&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;npm &#x4F9D;&#x7136;&#x4F1A;&#x4ECE;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D;&#x4E00;&#x6B21;&#x65B0;&#x7684;&#x538B;&#x7F29;&#x5305;&#x3002;</p><p>&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x56FA;&#x7136;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x603B;&#x662F;&#x53D6;&#x5F97;&#x6700;&#x65B0;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x6709;&#x65F6;&#x5E76;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x3002;&#x6700;&#x5927;&#x7684;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5B83;&#x4F1A;&#x6781;&#x5927;&#x5730;&#x5F71;&#x54CD;&#x5B89;&#x88C5;&#x901F;&#x5EA6;&#x3002;&#x5373;&#x4F7F;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x538B;&#x7F29;&#x5305;&#x5C31;&#x5728;&#x7F13;&#x5B58;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4E5F;&#x8981;&#x53BB;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D;&#xFF0C;&#x8FD9;&#x600E;&#x4E48;&#x53EF;&#x80FD;&#x4E0D;&#x6162;&#x5462;&#xFF1F;</p><p>&#x53E6;&#x5916;&#xFF0C;&#x6709;&#x4E9B;&#x573A;&#x5408;&#x6CA1;&#x6709;&#x7F51;&#x7EDC;&#xFF08;&#x6BD4;&#x5982;&#x98DE;&#x673A;&#x4E0A;&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x60F3;&#x5B89;&#x88C5;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x660E;&#x660E;&#x5C31;&#x5728;&#x7F13;&#x5B58;&#x76EE;&#x5F55;&#x4E4B;&#x4E2D;&#xFF0C;&#x8FD9;&#x65F6;&#x4E5F;&#x65E0;&#x6CD5;&#x5B89;&#x88C5;&#x3002;</p><h2 id="&#x516D;&#x3001;-cache-min-&#x53C2;&#x6570;"><a href="#&#x516D;&#x3001;-cache-min-&#x53C2;&#x6570;" class="headerlink" title="&#x516D;&#x3001;--cache-min &#x53C2;&#x6570;"></a>&#x516D;&#x3001;<code>--cache-min</code> &#x53C2;&#x6570;</h2><p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;npm &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;<code>--cache-min</code>&#x53C2;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x4ECE;&#x7F13;&#x5B58;&#x76EE;&#x5F55;&#x5B89;&#x88C5;&#x6A21;&#x5757;&#x3002;</p><p><code>--cache-min</code>&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#xFF08;&#x5355;&#x4F4D;&#x4E3A;&#x5206;&#x949F;&#xFF09;&#xFF0C;&#x53EA;&#x6709;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x624D;&#x4F1A;&#x4ECE; registry &#x4E0B;&#x8F7D;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --cache-min 9999999 &lt;package-name&gt;</span><br></pre></td></tr></table></figure><p>&#x4E0A;&#x9762;&#x547D;&#x4EE4;&#x6307;&#x5B9A;&#xFF0C;&#x53EA;&#x6709;&#x8D85;&#x8FC7;999999&#x5206;&#x949F;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x624D;&#x4ECE; registry &#x4E0B;&#x8F7D;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x6307;&#x5B9A;&#xFF0C;&#x6240;&#x6709;&#x6A21;&#x5757;&#x90FD;&#x4ECE;&#x7F13;&#x5B58;&#x5B89;&#x88C5;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5927;&#x5927;&#x52A0;&#x5FEB;&#x4E86;&#x4E0B;&#x8F7D;&#x901F;&#x5EA6;&#x3002;</p><p>&#x5B83;&#x8FD8;&#x6709;&#x53E6;&#x4E00;&#x79CD;&#x5199;&#x6CD5;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --cache-min Infinity &lt;package-name&gt;</span><br></pre></td></tr></table></figure><p>&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x7B49;&#x4E8E;&#x79BB;&#x7EBF;&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x65F6;<a href="https://github.com/npm/npm/issues/2568#issuecomment-172430897" target="_blank" rel="noopener">&#x4ECD;&#x7136;&#x9700;&#x8981;</a>&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x3002;&#x56E0;&#x4E3A;&#x73B0;&#x5728;&#x7684;<code>--cache-min</code>&#x5B9E;&#x73B0;&#x6709;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x3002;</p><p>&#xFF08;1&#xFF09;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x6A21;&#x5757;&#x4E0D;&#x5728;&#x7F13;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x90A3;&#x4E48; npm &#x4F1A;&#x8FDE;&#x63A5; registry&#xFF0C;&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7248;&#x672C;&#x3002;&#x8FD9;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x6A21;&#x5757;&#x5728;&#x7F13;&#x5B58;&#x76EE;&#x5F55;&#x4E4B;&#x4E2D;&#xFF0C;npm &#x4E5F;&#x4F1A;<a href="https://github.com/npm/npm/issues/2568#issuecomment-171472949" target="_blank" rel="noopener">&#x8FDE;&#x63A5; registry</a>&#xFF0C;&#x53D1;&#x51FA;&#x6307;&#x5B9A;&#x6A21;&#x5757;&#x7684; etag &#xFF0C;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801;304&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#x538B;&#x7F29;&#x5305;&#x3002;</p><p>&#xFF08;2&#xFF09;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x5DF2;&#x7ECF;&#x5728;&#x7F13;&#x5B58;&#x4E4B;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x7248;&#x672C;&#x4F4E;&#x4E8E;&#x8981;&#x6C42;&#xFF0C;npm&#x4F1A;<a href="https://github.com/npm/npm/issues/8581" target="_blank" rel="noopener">&#x76F4;&#x63A5;&#x62A5;&#x9519;</a>&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x53BB; registry &#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7248;&#x672C;&#x3002;</p><p>npm &#x56E2;&#x961F;<a href="https://github.com/npm/npm/issues/2568#issuecomment-53077253" target="_blank" rel="noopener">&#x77E5;&#x9053;</a>&#x5B58;&#x5728;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x6B63;&#x5728;<a href="https://github.com/npm/npm/milestones/cache rewrite" target="_blank" rel="noopener">&#x91CD;&#x5199; cache</a>&#x3002;&#x5E76;&#x4E14;&#xFF0C;&#x5C06;&#x6765;&#x4F1A;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;<code>--offline</code>&#x53C2;&#x6570;&#xFF0C;&#x4F7F;&#x5F97; npm &#x53EF;&#x4EE5;&#x5728;&#x79BB;&#x7EBF;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;&#x3002;</p><p>&#x4E0D;&#x8FC7;&#xFF0C;&#x8FD9;&#x4E9B;&#x6539;&#x8FDB;&#x6CA1;&#x6709;&#x65E5;&#x7A0B;&#x8868;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5F53;&#x524D;&#x4F7F;&#x7528;<code>--cache-min</code>&#x6539;&#x8FDB;&#x5B89;&#x88C5;&#x901F;&#x5EA6;&#xFF0C;&#x662F;&#x6709;&#x95EE;&#x9898;&#x7684;&#x3002;</p><h2 id="&#x4E03;&#x3001;&#x79BB;&#x7EBF;&#x5B89;&#x88C5;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;"><a href="#&#x4E03;&#x3001;&#x79BB;&#x7EBF;&#x5B89;&#x88C5;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;" class="headerlink" title="&#x4E03;&#x3001;&#x79BB;&#x7EBF;&#x5B89;&#x88C5;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;"></a>&#x4E03;&#x3001;&#x79BB;&#x7EBF;&#x5B89;&#x88C5;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;</h2><p>&#x793E;&#x533A;&#x5DF2;&#x7ECF;&#x4E3A;npm&#x7684;&#x79BB;&#x7EBF;&#x4F7F;&#x7528;&#xFF0C;&#x63D0;&#x51FA;&#x4E86;&#x51E0;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x52A0;&#x5FEB;&#x6A21;&#x5757;&#x5B89;&#x88C5;&#x7684;&#x901F;&#x5EA6;&#x3002;</p><p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5927;&#x81F4;&#x5206;&#x6210;&#x4E09;&#x7C7B;&#x3002;</p><p><strong>&#x7B2C;&#x4E00;&#x7C7B;&#xFF0C;Registry &#x4EE3;&#x7406;&#x3002;</strong></p><ul><li><a href="https://www.npmjs.com/package/npm-proxy-cache" target="_blank" rel="noopener">npm-proxy-cache</a></li><li><a href="https://github.com/nolanlawson/local-npm" target="_blank" rel="noopener">local-npm</a>&#xFF08;<a href="https://addyosmani.com/blog/using-npm-offline/" target="_blank" rel="noopener">&#x7528;&#x6CD5;</a>&#xFF09;</li><li><a href="https://github.com/mixu/npm_lazy" target="_blank" rel="noopener">npm-lazy</a></li></ul><p>&#x4E0A;&#x9762;&#x4E09;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x7528;&#x6CD5;&#x5F88;&#x7C7B;&#x4F3C;&#xFF0C;&#x90FD;&#x662F;&#x5728;&#x672C;&#x673A;&#x8D77;&#x4E00;&#x4E2A; Registry &#x670D;&#x52A1;&#xFF0C;&#x6240;&#x6709;<code>npm install</code>&#x547D;&#x4EE4;&#x90FD;&#x8981;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x4EE3;&#x7406;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm-proxy-cache</span></span><br><span class="line">$ npm --proxy http://localhost:8080 \</span><br><span class="line">  --https-proxy http://localhost:8080 \</span><br><span class="line">  --strict-ssl <span class="literal">false</span> \</span><br><span class="line">  install</span><br><span class="line"></span><br><span class="line"><span class="comment"># local-npm</span></span><br><span class="line">$ npm <span class="built_in">set</span> registry http://127.0.0.1:5080</span><br><span class="line"></span><br><span class="line"><span class="comment"># npm-lazy</span></span><br><span class="line">$ npm --registry http://localhost:8080/ install socket.io</span><br></pre></td></tr></table></figure><p>&#x6709;&#x4E86;&#x672C;&#x673A;&#x7684;Registry&#x670D;&#x52A1;&#xFF0C;&#x5C31;&#x80FD;&#x5B8C;&#x5168;&#x5B9E;&#x73B0;&#x7F13;&#x5B58;&#x5B89;&#x88C5;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x79BB;&#x7EBF;&#x4F7F;&#x7528;&#x3002;</p><p><strong>&#x7B2C;&#x4E8C;&#x7C7B;&#xFF0C;npm install&#x66FF;&#x4EE3;&#x3002;</strong></p><p>&#x5982;&#x679C;&#x80FD;&#x591F;&#x6539;&#x53D8;<code>npm install</code>&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x5C31;&#x80FD;&#x5B9E;&#x73B0;&#x7F13;&#x5B58;&#x5B89;&#x88C5;&#x3002;<a href="https://www.npmjs.com/package/npm-cache" target="_blank" rel="noopener"><code>npm-cache</code></a> &#x5DE5;&#x5177;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;&#x601D;&#x8DEF;&#x3002;&#x51E1;&#x662F;&#x4F7F;&#x7528;<code>npm install</code>&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>npm-cache</code>&#x66FF;&#x4EE3;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm-cache install</span><br></pre></td></tr></table></figure><p><strong>&#x7B2C;&#x4E09;&#x7C7B;&#xFF0C;node_modules&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x76EE;&#x5F55;&#x3002;</strong></p><p>&#x8FD9;&#x4E2A;&#x65B9;&#x6848;&#x7684;&#x601D;&#x8DEF;&#x662F;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;<code>.npm</code>&#x7F13;&#x5B58;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x9879;&#x76EE;&#x7684;<code>node_modules</code>&#x76EE;&#x5F55;&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x3002;</p><ul><li><a href="https://github.com/node-freight/freight" target="_blank" rel="noopener">Freight</a></li><li><a href="https://github.com/arei/npmbox" target="_blank" rel="noopener">npmbox</a></li></ul><p>&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x90FD;&#x80FD;&#x5C06;&#x9879;&#x76EE;&#x7684;<code>node_modules</code>&#x76EE;&#x5F55;&#x6253;&#x6210;&#x4E00;&#x4E2A;&#x538B;&#x7F29;&#x5305;&#xFF0C;&#x4EE5;&#x540E;&#x5B89;&#x88C5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4ECE;&#x8FD9;&#x4E2A;&#x538B;&#x7F29;&#x5305;&#x4E4B;&#x4E2D;&#x53D6;&#x51FA;&#x6587;&#x4EF6;&#x3002;</p><p>&#xFF08;&#x5B8C;&#xFF09;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;http://www.ruanyifeng.com/blog/2016/01/npm-install.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.ruanyifeng.com/blog/2016/01/npm-install.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/npm&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;npm&lt;/a&gt; &amp;#x662F; Node &amp;#x7684;&amp;#x6A21;&amp;#x5757;&amp;#x7BA1;&amp;#x7406;&amp;#x5668;&amp;#xFF0C;&amp;#x529F;&amp;#x80FD;&amp;#x6781;&amp;#x5176;&amp;#x5F3A;&amp;#x5927;&amp;#x3002;&amp;#x5B83;&amp;#x662F; Node &amp;#x83B7;&amp;#x5F97;&amp;#x6210;&amp;#x529F;&amp;#x7684;&amp;#x91CD;&amp;#x8981;&amp;#x539F;&amp;#x56E0;&amp;#x4E4B;&amp;#x4E00;&amp;#x3002;&lt;/p&gt;
    
    </summary>
    
      <category term="npm" scheme="https://cqh-i.github.io/categories/npm/"/>
    
    
      <category term="npm" scheme="https://cqh-i.github.io/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>(转载)npm太慢, 淘宝npm镜像使用方法</title>
    <link href="https://cqh-i.github.io/2019/09/14/%E8%BD%AC%E8%BD%BD-npm%E5%A4%AA%E6%85%A2%EF%BC%8C-%E6%B7%98%E5%AE%9Dnpm%E9%95%9C%E5%83%8F%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
    <id>https://cqh-i.github.io/2019/09/14/转载-npm太慢，-淘宝npm镜像使用方法/</id>
    <published>2019-09-14T03:02:35.000Z</published>
    <updated>2019-09-14T03:15:30.784Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://blog.csdn.net/quuqu/article/details/64121812" target="_blank" rel="noopener">https://blog.csdn.net/quuqu/article/details/64121812</a></p><p>&#x6DD8;&#x5B9D; npm &#x5730;&#x5740;&#xFF1A; <a href="https://npm.taobao.org" target="_blank" rel="noopener">https://npm.taobao.org</a></p><h2 id="&#x5982;&#x4F55;&#x4F7F;&#x7528;"><a href="#&#x5982;&#x4F55;&#x4F7F;&#x7528;" class="headerlink" title="&#x5982;&#x4F55;&#x4F7F;&#x7528;"></a>&#x5982;&#x4F55;&#x4F7F;&#x7528;</h2><p>&#x6709;&#x5F88;&#x591A;&#x65B9;&#x6CD5;&#x6765;&#x914D;&#x7F6E;npm&#x7684;registry&#x5730;&#x5740;&#xFF0C;&#x4E0B;&#x9762;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x60C5;&#x5883;&#x5217;&#x51FA;&#x51E0;&#x79CD;&#x6BD4;&#x8F83;&#x5E38;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4EE5;&#x6DD8;&#x5B9D;npm&#x955C;&#x50CF;&#x4E3E;&#x4F8B;&#xFF1A;</p><a id="more"></a><h3 id="1-&#x4E34;&#x65F6;&#x4F7F;&#x7528;"><a href="#1-&#x4E34;&#x65F6;&#x4F7F;&#x7528;" class="headerlink" title="1.&#x4E34;&#x65F6;&#x4F7F;&#x7528;"></a>1.&#x4E34;&#x65F6;&#x4F7F;&#x7528;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br></pre></td></tr></table></figure><h3 id="2-&#x6301;&#x4E45;&#x4F7F;&#x7528;"><a href="#2-&#x6301;&#x4E45;&#x4F7F;&#x7528;" class="headerlink" title="2.&#x6301;&#x4E45;&#x4F7F;&#x7528;"></a>2.&#x6301;&#x4E45;&#x4F7F;&#x7528;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>&#x914D;&#x7F6E;&#x540E;&#x53EF;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x65B9;&#x5F0F;&#x6765;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x6210;&#x529F;<br><code>npm config get registry</code></p><p>&#x6216;<br><code>npm info express</code></p><h3 id="3-&#x901A;&#x8FC7;cnpm&#x4F7F;&#x7528;"><a href="#3-&#x901A;&#x8FC7;cnpm&#x4F7F;&#x7528;" class="headerlink" title="3.&#x901A;&#x8FC7;cnpm&#x4F7F;&#x7528;"></a>3.&#x901A;&#x8FC7;cnpm&#x4F7F;&#x7528;</h3><p>&#x5148;&#x5B89;&#x88C5;cnpm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>&#x63A5;&#x7740;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;cnpm&#x547D;&#x4EE4;&#x4E86;, &#x5982;:<br><code>cnpm install express</code></p><h3 id="4-&#x5982;&#x4E0D;&#x60F3;&#x4F7F;&#x7528;&#x6DD8;&#x5B9D;&#x955C;&#x50CF;-&#x53EF;&#x4EE5;&#x6062;&#x590D;&#x539F;&#x6765;&#x7684;&#x6A21;&#x5757;&#x4ED3;&#x5E93;"><a href="#4-&#x5982;&#x4E0D;&#x60F3;&#x4F7F;&#x7528;&#x6DD8;&#x5B9D;&#x955C;&#x50CF;-&#x53EF;&#x4EE5;&#x6062;&#x590D;&#x539F;&#x6765;&#x7684;&#x6A21;&#x5757;&#x4ED3;&#x5E93;" class="headerlink" title="4.&#x5982;&#x4E0D;&#x60F3;&#x4F7F;&#x7528;&#x6DD8;&#x5B9D;&#x955C;&#x50CF;, &#x53EF;&#x4EE5;&#x6062;&#x590D;&#x539F;&#x6765;&#x7684;&#x6A21;&#x5757;&#x4ED3;&#x5E93;"></a>4.&#x5982;&#x4E0D;&#x60F3;&#x4F7F;&#x7528;&#x6DD8;&#x5B9D;&#x955C;&#x50CF;, &#x53EF;&#x4EE5;&#x6062;&#x590D;&#x539F;&#x6765;&#x7684;&#x6A21;&#x5757;&#x4ED3;&#x5E93;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npmjs.org</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://blog.csdn.net/quuqu/article/details/64121812&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/quuqu/article/details/64121812&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6DD8;&amp;#x5B9D; npm &amp;#x5730;&amp;#x5740;&amp;#xFF1A; &lt;a href=&quot;https://npm.taobao.org&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://npm.taobao.org&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;&lt;/h2&gt;&lt;p&gt;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x914D;&amp;#x7F6E;npm&amp;#x7684;registry&amp;#x5730;&amp;#x5740;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6839;&amp;#x636E;&amp;#x4E0D;&amp;#x540C;&amp;#x60C5;&amp;#x5883;&amp;#x5217;&amp;#x51FA;&amp;#x51E0;&amp;#x79CD;&amp;#x6BD4;&amp;#x8F83;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4EE5;&amp;#x6DD8;&amp;#x5B9D;npm&amp;#x955C;&amp;#x50CF;&amp;#x4E3E;&amp;#x4F8B;&amp;#xFF1A;&lt;/p&gt;
    
    </summary>
    
      <category term="npm" scheme="https://cqh-i.github.io/categories/npm/"/>
    
    
      <category term="npm" scheme="https://cqh-i.github.io/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>npm 安装、删除依赖命令</title>
    <link href="https://cqh-i.github.io/2019/09/14/npm-%E5%AE%89%E8%A3%85%E3%80%81%E5%88%A0%E9%99%A4%E4%BE%9D%E8%B5%96%E5%91%BD%E4%BB%A4/"/>
    <id>https://cqh-i.github.io/2019/09/14/npm-安装、删除依赖命令/</id>
    <published>2019-09-14T01:05:46.000Z</published>
    <updated>2019-09-14T04:11:03.322Z</updated>
    
    <content type="html"><![CDATA[<h2 id="npm&#x5B89;&#x88C5;&#x4F9D;&#x8D56;"><a href="#npm&#x5B89;&#x88C5;&#x4F9D;&#x8D56;" class="headerlink" title="npm&#x5B89;&#x88C5;&#x4F9D;&#x8D56;"></a>npm&#x5B89;&#x88C5;&#x4F9D;&#x8D56;</h2><ul><li>&#x3010;npm install xxx&#x3011;&#x5229;&#x7528; npm &#x5B89;&#x88C5;xxx&#x4F9D;&#x8D56;&#x5230;&#x5F53;&#x524D;&#x547D;&#x4EE4;&#x884C;&#x6240;&#x5728;&#x76EE;&#x5F55;</li><li>&#x3010;npm install xxx -g&#x3011;&#x5229;&#x7528;npm&#x5B89;&#x88C5;&#x5168;&#x5C40;&#x4F9D;&#x8D56;xxx</li></ul><a id="more"></a><hr><ul><li>&#x3010;npm install xxx &#x2014;save&#x3011; &#x5B89;&#x88C5;&#x5E76;&#x5199;&#x5165;package.json&#x7684;&#x201D;dependencies&#x201D;&#x4E2D;</li><li>&#x3010;npm install xxx &#x2014;save-dev&#x3011;&#x5B89;&#x88C5;&#x5E76;&#x5199;&#x5165;package.json&#x7684;&#x201D;devDependencies&#x201D;&#x4E2D;</li></ul><blockquote><p>npm&#x5B98;&#x65B9;&#x89E3;&#x91CA;&#xFF1A;devDependencies&#x662F;&#x5F00;&#x53D1;&#xFF08;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF09;&#x65F6;&#x7684;&#x4F9D;&#x8D56;&#xFF0C;dependencies&#x662F;&#x8FD0;&#x884C;&#xFF08;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#xFF09;&#x65F6;&#x7684;&#x4F9D;&#x8D56;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;devDependencies&#x4E0B;&#x7684;&#x4F9D;&#x8D56;&#x53EA;&#x662F;&#x5728;&#x5F00;&#x53D1;&#x65F6;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x4E9B;&#x4F9D;&#x8D56;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;html-webpack-plugin&#xFF08;&#x751F;&#x6210;html&#x6587;&#x4EF6;&#xFF09;&#x3001;extract-text-webpack-plugin&#xFF08;&#x63D0;&#x53D6;&#x6837;&#x5F0F;&#x5230;&#x5355;&#x72EC;&#x7684;css&#x6587;&#x4EF6;&#xFF09;&#x7B49;&#x3002;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684;&#xFF0C;dependencies&#x4E0B;&#x7684;&#x4F9D;&#x8D56;&#x4E0D;&#x4EC5;&#x5728;&#x5F00;&#x53D1;&#x65F6;&#x9700;&#x8981;&#xFF0C;&#x5728;&#x53D1;&#x5E03;&#x540E;&#x4ECD;&#x7136;&#x4F1A;&#x4F7F;&#x7528;&#x7684;&#x5230;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;vue&#xFF0C;vue-router&#xFF0C;vuex&#xFF0C;jQuery&#x7B49;&#xFF0C;&#x5982;&#x679C;&#x901A;&#x8FC7;&#x2014;save-dev&#x65B9;&#x5F0F;&#x5B89;&#x88C5;&#x8FD9;&#x4E9B;&#x4F9D;&#x8D56;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x6253;&#x5305;&#x540E;&#x8FD0;&#x884C;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x3002;</p></blockquote><h2 id="npm&#x5220;&#x9664;&#x4F9D;&#x8D56;"><a href="#npm&#x5220;&#x9664;&#x4F9D;&#x8D56;" class="headerlink" title="npm&#x5220;&#x9664;&#x4F9D;&#x8D56;"></a>npm&#x5220;&#x9664;&#x4F9D;&#x8D56;</h2><ul><li>&#x3010;npm uninstall xxx&#x3011;&#x5220;&#x9664;xxx&#x4F9D;&#x8D56;</li><li>&#x3010;npm uninstall xxx -g&#x3011;&#x5220;&#x9664;&#x5168;&#x5C40;&#x4F9D;&#x8D56;xxx</li></ul><h2 id="&#x4E00;&#x6B21;&#x6027;&#x5378;&#x8F7D;package-json&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;"><a href="#&#x4E00;&#x6B21;&#x6027;&#x5378;&#x8F7D;package-json&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;" class="headerlink" title="&#x4E00;&#x6B21;&#x6027;&#x5378;&#x8F7D;package.json&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;"></a>&#x4E00;&#x6B21;&#x6027;&#x5378;&#x8F7D;package.json&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall `ls -1 node_modules | tr &apos;/\n&apos; &apos; &apos;`</span><br></pre></td></tr></table></figure><p>&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;, node_modules&#x91CC;&#x9762;&#x53EA;&#x5269;&#x4E0B;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x5939;.bin(&#x7A7A;&#x6587;&#x4EF6;&#x5939;)&#x548C;.cache</p><p><img src="/2019/09/14/npm-&#x5B89;&#x88C5;&#x3001;&#x5220;&#x9664;&#x4F9D;&#x8D56;&#x547D;&#x4EE4;/pic1.png" alt></p><p><img src="/2019/09/14/npm-&#x5B89;&#x88C5;&#x3001;&#x5220;&#x9664;&#x4F9D;&#x8D56;&#x547D;&#x4EE4;/pic2.png" alt></p><p><strong>&#x6CE8;&#x610F;</strong>:&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#x524D;&#x5EFA;&#x8BAE;&#x5C06; <strong>package.json  &#x5907;&#x4EFD;,&#x5907;&#x4EFD;,&#x5907;&#x4EFD;!</strong>&#x56E0;&#x4E3A;&#x5378;&#x8F7D;&#x6389;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x4E4B;&#x540E;,   devDependencies&#x548C;dependencies&#x4F1A;&#x53D8;&#x4E3A;&#x7A7A;, &#x5982;&#x4E0B;:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;devDependencies&quot;</span>: {},</span><br><span class="line"><span class="string">&quot;dependencies&quot;</span>: {},</span><br></pre></td></tr></table></figure><p>&#x66F4;&#x591A;&#x8BE5;&#x547D;&#x4EE4;&#x8BE6;&#x60C5;&#x53EF;&#x53C2;&#x8003;: <a href="https://github.com/npm/npm/issues/10187" target="_blank" rel="noopener">https://github.com/npm/npm/issues/10187</a></p><h2 id="&#x4E00;&#x6B21;&#x6027;&#x5B89;&#x88C5;package-json&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;"><a href="#&#x4E00;&#x6B21;&#x6027;&#x5B89;&#x88C5;package-json&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;" class="headerlink" title="&#x4E00;&#x6B21;&#x6027;&#x5B89;&#x88C5;package.json&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;"></a>&#x4E00;&#x6B21;&#x6027;&#x5B89;&#x88C5;package.json&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>&#x8BE5;&#x547D;&#x4EE4;&#x4F1A;&#x5B89;&#x88C5;devDependencies&#x548C;dependencies&#x4E0B;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;npm&amp;#x5B89;&amp;#x88C5;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;a href=&quot;#npm&amp;#x5B89;&amp;#x88C5;&amp;#x4F9D;&amp;#x8D56;&quot; class=&quot;headerlink&quot; title=&quot;npm&amp;#x5B89;&amp;#x88C5;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;/a&gt;npm&amp;#x5B89;&amp;#x88C5;&amp;#x4F9D;&amp;#x8D56;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&amp;#x3010;npm install xxx&amp;#x3011;&amp;#x5229;&amp;#x7528; npm &amp;#x5B89;&amp;#x88C5;xxx&amp;#x4F9D;&amp;#x8D56;&amp;#x5230;&amp;#x5F53;&amp;#x524D;&amp;#x547D;&amp;#x4EE4;&amp;#x884C;&amp;#x6240;&amp;#x5728;&amp;#x76EE;&amp;#x5F55;&lt;/li&gt;
&lt;li&gt;&amp;#x3010;npm install xxx -g&amp;#x3011;&amp;#x5229;&amp;#x7528;npm&amp;#x5B89;&amp;#x88C5;&amp;#x5168;&amp;#x5C40;&amp;#x4F9D;&amp;#x8D56;xxx&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="npm" scheme="https://cqh-i.github.io/categories/npm/"/>
    
    
      <category term="npm" scheme="https://cqh-i.github.io/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>(转载)Hexo 文章保存为草稿</title>
    <link href="https://cqh-i.github.io/2019/09/14/%E8%BD%AC%E8%BD%BD-Hexo-%E6%96%87%E7%AB%A0%E4%BF%9D%E5%AD%98%E4%B8%BA%E8%8D%89%E7%A8%BF/"/>
    <id>https://cqh-i.github.io/2019/09/14/转载-Hexo-文章保存为草稿/</id>
    <published>2019-09-14T00:31:54.000Z</published>
    <updated>2019-09-14T00:47:00.223Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://novnan.github.io/Hexo/hexo-draft/" target="_blank" rel="noopener">https://novnan.github.io/Hexo/hexo-draft/</a></p><h2 id="Version"><a href="#Version" class="headerlink" title="Version"></a>Version</h2><blockquote><p> Hexo 3.3.8</p></blockquote><a id="more"></a><h2 id="&#x4F20;&#x7EDF;&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x65B9;&#x5F0F;"><a href="#&#x4F20;&#x7EDF;&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x65B9;&#x5F0F;" class="headerlink" title="&#x4F20;&#x7EDF;&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x65B9;&#x5F0F;"></a>&#x4F20;&#x7EDF;&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x65B9;&#x5F0F;</h2><p>&#x4E00;&#x822C;&#x6211;&#x4EEC;&#x90FD;&#x4F1A;&#x4F7F;&#x7528; <code>hexo new &lt;title&gt;</code> &#x6765;&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#xFF0C;&#x8FD9;&#x79CD;&#x5EFA;&#x7ACB;&#x65B9;&#x6CD5;&#x4F1A;&#x5C06;&#x65B0;&#x6587;&#x7AE0;&#x5EFA;&#x7ACB;&#x5728; <code>source/_posts</code> &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x5F53;&#x4F7F;&#x7528; <code>hexo generate</code> &#x7F16;&#x8BD1; markdown &#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x4F1A;&#x5C06;&#x5176; HTML &#x7ED3;&#x679C;&#x7F16;&#x8BD1;&#x5728; <code>public</code> &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E; <code>hexo deploy</code> &#x5C06;&#x4F1A;&#x628A; <code>public</code> &#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x90E8;&#x7F72;&#x5230; GitHub&#xFF0C;&#x8FD9;&#x662F;&#x6211;&#x4EEC;&#x719F;&#x6089;&#x7684; Hexo &#x6D41;&#x7A0B;&#x3002;</p><p>&#x8FD9;&#x79CD;&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x65B9;&#x5F0F;&#x7684;&#x7F3A;&#x70B9;&#x662F;&#xFF1A;&#x82E5;&#x6211;&#x4EEC;&#x540C;&#x65F6;&#x7F16;&#x8F91;&#x591A;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x53EA;&#x8981;&#x5176;&#x4E2D;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x5C1A;&#x672A;&#x7F16;&#x8F91;&#x5B8C;&#x6210;&#xFF0C;&#x4E5F;&#x4F1A;&#x968F;&#x7740; <code>hexo deploy</code> &#x4E00;&#x8D77;&#x90E8;&#x7F72;&#x5230; GitHub&#xFF0C;&#x4E5F;&#x5C31;&#x662F; GitHub &#x53EF;&#x80FD;&#x4F1A;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x5C1A;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x6587;&#x7AE0;&#x3002;</p><h2 id="&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x8349;&#x7A3F;"><a href="#&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x8349;&#x7A3F;" class="headerlink" title="&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x8349;&#x7A3F;"></a>&#x5EFA;&#x7ACB;&#x6587;&#x7AE0;&#x8349;&#x7A3F;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new draft &lt;title&gt;</span><br></pre></td></tr></table></figure><p>Hexo &#x53E6;&#x5916;&#x63D0;&#x4F9B; <code>draft</code> &#x673A;&#x5236;&#xFF0C;&#x5B83;&#x7684;&#x539F;&#x7406;&#x662F;&#x65B0;&#x6587;&#x7AE0;&#x5C06;&#x5EFA;&#x7ACB;&#x5728; <code>source/_drafts</code> &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64; <code>hexo generate</code> &#x5E76;&#x4E0D;&#x4F1A;&#x5C06;&#x5176;&#x7F16;&#x8BD1;&#x5230; <code>public</code> &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6240;&#x4EE5; <code>hexo deploy</code> &#x4E5F;&#x4E0D;&#x4F1A;&#x5C06;&#x5176;&#x90E8;&#x7F72;&#x5230; GitHub&#x3002;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo S --draft</span><br></pre></td></tr></table></figure><p>&#x867D;&#x7136; <code>hexo generate</code> &#x4E0D;&#x4F1A;&#x7F16;&#x8BD1; <code>source/_drafts</code> &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x4F46; Hexo &#x7684; <code>Hexo server</code> &#x53E6;&#x5916;&#x63D0;&#x4F9B; <code>--draft</code> &#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x8BA9;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x642D;&#x914D; <code>hexo-browsersync</code> plugins&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x4E00;&#x8FB9;&#x7F16;&#x8F91; <code>markdown</code> &#x6587;&#x7AE0;&#xFF0C;&#x4E00;&#x8FB9;&#x4F7F;&#x7528;&#x6D4F;&#x89C8;&#x5668;&#x9884;&#x89C8;&#x7684;&#x76EE;&#x7684;&#x3002;</p><h2 id="&#x5C06;&#x8349;&#x7A3F;&#x53D1;&#x5E03;&#x4E3A;&#x6B63;&#x5F0F;&#x6587;&#x7AE0;"><a href="#&#x5C06;&#x8349;&#x7A3F;&#x53D1;&#x5E03;&#x4E3A;&#x6B63;&#x5F0F;&#x6587;&#x7AE0;" class="headerlink" title="&#x5C06;&#x8349;&#x7A3F;&#x53D1;&#x5E03;&#x4E3A;&#x6B63;&#x5F0F;&#x6587;&#x7AE0;"></a>&#x5C06;&#x8349;&#x7A3F;&#x53D1;&#x5E03;&#x4E3A;&#x6B63;&#x5F0F;&#x6587;&#x7AE0;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo P &lt;filename&gt;</span><br></pre></td></tr></table></figure><p>&#x5176;&#x4E2D; <code>&lt;filename&gt;</code> &#x4E3A;&#x4E0D;&#x5305;&#x542B; <code>md</code> &#x540E;&#x7F00;&#x7684;&#x6587;&#x7AE0;&#x540D;&#x79F0;&#x3002;&#x5B83;&#x7684;&#x539F;&#x7406;&#x53EA;&#x662F;&#x5C06;&#x6587;&#x7AE0;&#x4ECE; <code>source/_drafts</code> &#x79FB;&#x52A8;&#x5230; <code>source/_posts</code> &#x800C;&#x5DF2;&#x3002;</p><p>&#x4E4B;&#x540E;&#x7684; <code>hexo generate</code> &#x4E0E; <code>hexo deploy</code> &#x7684;&#x7528;&#x6CD5;&#x5C31;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x4E86;&#x3002;</p><p>&#x82E5;&#x65E5;&#x540E;&#x60F3;&#x5C06;&#x6B63;&#x5F0F;&#x6587;&#x7AE0;&#x8F6C;&#x4E3A;&#x4E3A;&#x8349;&#x7A3F;&#xFF0C;&#x53EA;&#x9700;&#x624B;&#x52A8;&#x5C06;&#x6587;&#x7AE0;&#x4ECE; <code>source/_posts</code> &#x76EE;&#x5F55;&#x79FB;&#x52A8;&#x5230; <code>source/_drafts</code> &#x76EE;&#x5F55;&#x5373;&#x53EF;&#x3002;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://novnan.github.io/Hexo/hexo-draft/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://novnan.github.io/Hexo/hexo-draft/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Version&quot;&gt;&lt;a href=&quot;#Version&quot; class=&quot;headerlink&quot; title=&quot;Version&quot;&gt;&lt;/a&gt;Version&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt; Hexo 3.3.8&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Hexo" scheme="https://cqh-i.github.io/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="https://cqh-i.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>(转载)Java四种线程创建方式的实现与对比</title>
    <link href="https://cqh-i.github.io/2019/09/13/%E8%BD%AC%E8%BD%BD-Java%E5%9B%9B%E7%A7%8D%E7%BA%BF%E7%A8%8B%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E5%AF%B9%E6%AF%94/"/>
    <id>https://cqh-i.github.io/2019/09/13/转载-Java四种线程创建方式的实现与对比/</id>
    <published>2019-09-13T00:44:35.000Z</published>
    <updated>2019-09-13T01:36:00.200Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://my.oschina.net/u/566591/blog/1576410" target="_blank" rel="noopener">https://my.oschina.net/u/566591/blog/1576410</a></p><h2 id="&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;"><a href="#&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;" class="headerlink" title="&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;"></a>&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;</h2><blockquote><p>&#x5728;&#x5E76;&#x53D1;&#x7F16;&#x7A0B;&#x4E2D;&#xFF0C;&#x6700;&#x57FA;&#x672C;&#x7684;&#x5C31;&#x662F;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x4E00;&#x822C;&#x7684;&#x521B;&#x5EFA;&#x59FF;&#x52BF;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF0C;&#x53C8;&#x90FD;&#x6709;&#x4E9B;&#x4EC0;&#x4E48;&#x533A;&#x522B;</p></blockquote><p>&#x4E00;&#x822C;&#x6765;&#x8BB2;&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;&#x6709;&#x56DB;&#x79CD;&#x65B9;&#x5F0F;:</p><ol><li>&#x7EE7;&#x627F;Thread</li><li>&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;</li><li>&#x5B9E;&#x73B0;Callable&#x63A5;&#x53E3;&#xFF0C;&#x7ED3;&#x5408; FutureTask&#x4F7F;&#x7528;</li><li>&#x5229;&#x7528;&#x8BE5;&#x7EBF;&#x7A0B;&#x6C60;ExecutorService&#x3001;Callable&#x3001;Future&#x6765;&#x5B9E;&#x73B0;</li></ol><a id="more"></a><p>&#x6240;&#x4EE5;&#x672C;&#x7BC7;&#x535A;&#x6587;&#x4ECE;&#x5E03;&#x5C40;&#x6765;&#x8BB2;&#xFF0C;&#x5206;&#x4E3A;&#x4E24;&#x90E8;&#x5206;</p><ol><li>&#x5B9E;&#x4F8B;&#x6F14;&#x793A;&#x56DB;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;</li><li>&#x5BF9;&#x6BD4;&#x5206;&#x6790;&#x56DB;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x7684;&#x5F02;&#x540C;&#xFF0C;&#x4EE5;&#x53CA;&#x9002;&#x5408;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;</li></ol><h2 id="I-&#x5B9E;&#x4F8B;&#x6F14;&#x793A;"><a href="#I-&#x5B9E;&#x4F8B;&#x6F14;&#x793A;" class="headerlink" title="I. &#x5B9E;&#x4F8B;&#x6F14;&#x793A;"></a>I. &#x5B9E;&#x4F8B;&#x6F14;&#x793A;</h2><p><strong>&#x76EE;&#x6807;: &#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;&#x5B9E;&#x73B0;&#x4ECE;1-1000&#x7684;&#x7D2F;&#x52A0;</strong></p><h3 id="1-&#x7EE7;&#x627F;Thread&#x5B9E;&#x73B0;&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;"><a href="#1-&#x7EE7;&#x627F;Thread&#x5B9E;&#x73B0;&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;" class="headerlink" title="1.&#x7EE7;&#x627F;Thread&#x5B9E;&#x73B0;&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;"></a>1.&#x7EE7;&#x627F;Thread&#x5B9E;&#x73B0;&#x7EBF;&#x7A0B;&#x521B;&#x5EFA;</h3><p>&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x5982;&#x4E0B;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> start, end;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AddThread</span><span class="params">(String name, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;Thread-&quot;</span> + getName() + <span class="string">&quot; &#x5F00;&#x59CB;&#x6267;&#x884C;!&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;= end; i ++) {</span><br><span class="line">            sum += i;</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">&quot;Thread-&quot;</span> + getName() + <span class="string">&quot; &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=&quot;</span> + sum);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>{</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, mid = <span class="number">500</span>, end = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">        AddThread thread1 = <span class="keyword">new</span> AddThread(<span class="string">&quot;&#x7EBF;&#x7A0B;1&quot;</span>, start, mid);</span><br><span class="line">        AddThread thread2 = <span class="keyword">new</span> AddThread(<span class="string">&quot;&#x7EBF;&#x7A0B;2&quot;</span>, mid + <span class="number">1</span>, end);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#x786E;&#x4FDD;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x6BD5;</span></span><br><span class="line">        thread1.join();</span><br><span class="line">        thread2.join();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sum = thread1.sum + thread2.sum;</span><br><span class="line">        System.out.println(<span class="string">&quot;ans: &quot;</span> + sum);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Thread-&#x7EBF;&#x7A0B;1 &#x5F00;&#x59CB;&#x6267;&#x884C;!</span><br><span class="line">Thread-&#x7EBF;&#x7A0B;2 &#x5F00;&#x59CB;&#x6267;&#x884C;!</span><br><span class="line">Thread-&#x7EBF;&#x7A0B;1 &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=125250</span><br><span class="line">Thread-&#x7EBF;&#x7A0B;2 &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=375250</span><br><span class="line">ans: 500500</span><br></pre></td></tr></table></figure><p>&#x4E00;&#x822C;&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;:</p><ul><li>&#x7EE7;&#x627F; <code>Thread</code> &#x7C7B;</li><li>&#x8986;&#x76D6; <code>run()</code> &#x65B9;&#x6CD5;</li><li>&#x76F4;&#x63A5;&#x8C03;&#x7528; <code>Thread#start()</code> &#x6267;&#x884C;</li></ul><p>&#x903B;&#x8F91;&#x6BD4;&#x8F83;&#x6E05;&#x6670;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x8986;&#x76D6;&#x7684;&#x662F;run&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;start&#x65B9;&#x6CD5;</p><h3 id="2-&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;"><a href="#2-&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;" class="headerlink" title="2.&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;"></a>2.&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddRun</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> start, end;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AddRun</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &#x5F00;&#x59CB;&#x6267;&#x884C;!&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt;= end; i++) {</span><br><span class="line">            sum += i;</span><br><span class="line">        }</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=&quot;</span> + sum);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>{</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, mid = <span class="number">500</span>, end = <span class="number">1000</span>;</span><br><span class="line">        AddRun run1 = <span class="keyword">new</span> AddRun(start, mid);</span><br><span class="line">        AddRun run2 = <span class="keyword">new</span> AddRun(mid + <span class="number">1</span>, end);</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(run1, <span class="string">&quot;&#x7EBF;&#x7A0B;1&quot;</span>);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(run2, <span class="string">&quot;&#x7EBF;&#x7A0B;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line"></span><br><span class="line">        thread1.join();</span><br><span class="line">        thread2.join();</span><br><span class="line">        <span class="keyword">int</span> sum = run1.sum + run2.sum;</span><br><span class="line">        System.out.println(<span class="string">&quot;ans: &quot;</span> + sum);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x7EBF;&#x7A0B;2 &#x5F00;&#x59CB;&#x6267;&#x884C;!</span><br><span class="line">&#x7EBF;&#x7A0B;1 &#x5F00;&#x59CB;&#x6267;&#x884C;!</span><br><span class="line">&#x7EBF;&#x7A0B;2 &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=375250</span><br><span class="line">&#x7EBF;&#x7A0B;1 &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=125250</span><br><span class="line">ans: 500500</span><br></pre></td></tr></table></figure><p>&#x4E00;&#x822C;&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;:</p><ul><li>&#x5B9E;&#x73B0;<code>Runnable</code>&#x63A5;&#x53E3;</li><li>&#x83B7;&#x53D6;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x521B;&#x5EFA;Thread&#x5B9E;&#x4F8B;</li><li>&#x6267;&#x884C; <code>Thread#start()</code> &#x542F;&#x52A8;&#x7EBF;&#x7A0B;</li></ul><p><strong>&#x8BF4;&#x660E;</strong></p><p>&#x76F8;&#x6BD4;&#x4E8E;&#x7EE7;&#x627F;Thread&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x6700;&#x7EC8;&#x4F9D;&#x7136;&#x662F;&#x501F;&#x52A9; <code>Thread#start()</code>&#x6765;&#x542F;&#x52A8;&#x7EBF;&#x7A0B;</p><p><strong>&#x7136;&#x540E;&#x5C31;&#x6709;&#x4E2A;&#x7591;&#x95EE;&#xFF1A;</strong></p><p>&#x4E24;&#x8005;&#x662F;&#x5426;&#x6709;&#x672C;&#x8D28;&#x4E0A;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x5982;&#x4F55;&#x6289;&#x62E9;&#xFF1F;</p><h3 id="3-&#x5B9E;&#x73B0;Callable&#x63A5;&#x53E3;&#xFF0C;&#x7ED3;&#x5408;FutureTask&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;"><a href="#3-&#x5B9E;&#x73B0;Callable&#x63A5;&#x53E3;&#xFF0C;&#x7ED3;&#x5408;FutureTask&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;" class="headerlink" title="3.&#x5B9E;&#x73B0;Callable&#x63A5;&#x53E3;&#xFF0C;&#x7ED3;&#x5408;FutureTask&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;"></a>3.&#x5B9E;&#x73B0;Callable&#x63A5;&#x53E3;&#xFF0C;&#x7ED3;&#x5408;FutureTask&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;</h3><blockquote><p>Callable&#x63A5;&#x53E3;&#x76F8;&#x6BD4;&#x4E8E;Runnable&#x63A5;&#x53E3;&#x800C;&#x8A00;&#xFF0C;&#x4F1A;&#x6709;&#x4E2A;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x8FD4;&#x56DE;&#x503C;&#x5462;?</p></blockquote><p>demo&#x5982;&#x4E0B;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddCall</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt; </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> start, end;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AddCall</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &#x5F00;&#x59CB;&#x6267;&#x884C;!&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;= end; i++) {</span><br><span class="line">            sum += i;</span><br><span class="line">        }</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=&quot;</span> + sum);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>{</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, mid = <span class="number">500</span>, end = <span class="number">1000</span>;</span><br><span class="line">        FutureTask&lt;Integer&gt; future1 = <span class="keyword">new</span> FutureTask&lt;&gt;(<span class="keyword">new</span> AddCall(start, mid));</span><br><span class="line">        FutureTask&lt;Integer&gt; future2 = <span class="keyword">new</span> FutureTask&lt;&gt;(<span class="keyword">new</span> AddCall(mid + <span class="number">1</span>, end));</span><br><span class="line"></span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(future1, <span class="string">&quot;&#x7EBF;&#x7A0B;1&quot;</span>);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(future2, <span class="string">&quot;&#x7EBF;&#x7A0B;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sum1 = future1.get();</span><br><span class="line">        <span class="keyword">int</span> sum2 = future2.get();</span><br><span class="line">        System.out.println(<span class="string">&quot;ans: &quot;</span> + (sum1 + sum2));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x7EBF;&#x7A0B;2 &#x5F00;&#x59CB;&#x6267;&#x884C;!</span><br><span class="line">&#x7EBF;&#x7A0B;1 &#x5F00;&#x59CB;&#x6267;&#x884C;!</span><br><span class="line">&#x7EBF;&#x7A0B;2 &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=375250</span><br><span class="line">&#x7EBF;&#x7A0B;1 &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=125250</span><br><span class="line">ans: 500500</span><br></pre></td></tr></table></figure><p>&#x4E00;&#x822C;&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;&#xFF1A;</p><ul><li>&#x5B9E;&#x73B0;<code>Callable</code>&#x63A5;&#x53E3;</li><li>&#x4EE5;<code>Callable</code>&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x521B;&#x5EFA;<code>FutureTask</code>&#x5B9E;&#x4F8B;</li><li>&#x5C06;<code>FutureTask</code>&#x4F5C;&#x4E3A;Thread&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x521B;&#x5EFA;Thread&#x5B9E;&#x4F8B;</li><li>&#x901A;&#x8FC7; <code>Thread#start</code> &#x542F;&#x52A8;&#x7EBF;&#x7A0B;</li><li>&#x901A;&#x8FC7; <code>FutreTask#get()</code> &#x963B;&#x585E;&#x83B7;&#x53D6;&#x7EBF;&#x7A0B;&#x7684;&#x8FD4;&#x56DE;&#x503C;</li></ul><p><strong>&#x8BF4;&#x660E;</strong></p><p>Callable&#x63A5;&#x53E3;&#x76F8;&#x6BD4;Runnable&#x800C;&#x8A00;&#xFF0C;&#x4F1A;&#x6709;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x7531;FutrueTask&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#xFF0C;&#x4EE5;&#x671F;&#x5F85;&#x83B7;&#x53D6;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#xFF1B;</p><p>&#x6700;&#x7EC8;&#x7EBF;&#x7A0B;&#x7684;&#x542F;&#x52A8;&#x90FD;&#x662F;&#x4F9D;&#x8D56;<code>Thread#start</code></p><h3 id="4-&#x7EBF;&#x7A0B;&#x6C60;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;"><a href="#4-&#x7EBF;&#x7A0B;&#x6C60;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;" class="headerlink" title="4.&#x7EBF;&#x7A0B;&#x6C60;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;"></a>4.&#x7EBF;&#x7A0B;&#x6C60;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;</h3><p>demo&#x5982;&#x4E0B;&#xFF0C;&#x521B;&#x5EFA;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x63D0;&#x4EA4;Callable&#x4EFB;&#x52A1;&#xFF0C;&#x5229;&#x7528;Future&#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x7684;&#x503C;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddPool</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt; </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> start, end;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AddPool</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &#x5F00;&#x59CB;&#x6267;&#x884C;!&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;= end; i++) {</span><br><span class="line">            sum += i;</span><br><span class="line">        }</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=&quot;</span> + sum);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] arg)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>{</span><br><span class="line">        <span class="keyword">int</span> start=<span class="number">0</span>, mid=<span class="number">500</span>, end=<span class="number">1000</span>;</span><br><span class="line">        ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">        Future&lt;Integer&gt; future1 = executorService.submit(<span class="keyword">new</span> AddPool(start, mid));</span><br><span class="line">        Future&lt;Integer&gt; future2 = executorService.submit(<span class="keyword">new</span> AddPool(mid+<span class="number">1</span>, end));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sum = future1.get() + future2.get();</span><br><span class="line">        System.out.println(<span class="string">&quot;sum: &quot;</span> + sum);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x8F93;&#x51FA;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pool-1-thread-1 &#x5F00;&#x59CB;&#x6267;&#x884C;!</span><br><span class="line">pool-1-thread-2 &#x5F00;&#x59CB;&#x6267;&#x884C;!</span><br><span class="line">pool-1-thread-1 &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=125250</span><br><span class="line">pool-1-thread-2 &#x6267;&#x884C;&#x5B8C;&#x6BD5;! sum=375250</span><br><span class="line">sum: 500500</span><br></pre></td></tr></table></figure><p>&#x4E00;&#x822C;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#xFF1A;</p><ul><li>&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x6C60;&#xFF08;&#x53EF;&#x4EE5;&#x5229;&#x7528;JDK&#x7684;Executors&#xFF0C;&#x4E5F;&#x53EF;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#xFF09;</li><li>&#x521B;&#x5EFA;Callable &#x6216; Runnable&#x4EFB;&#x52A1;&#xFF0C;&#x63D0;&#x4EA4;&#x5230;&#x7EBF;&#x7A0B;&#x6C60;</li><li>&#x901A;&#x8FC7;&#x8FD4;&#x56DE;&#x7684; <code>Future#get</code> &#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;</li></ul><h2 id="II-&#x5BF9;&#x6BD4;&#x5206;&#x6790;"><a href="#II-&#x5BF9;&#x6BD4;&#x5206;&#x6790;" class="headerlink" title="II. &#x5BF9;&#x6BD4;&#x5206;&#x6790;"></a>II. &#x5BF9;&#x6BD4;&#x5206;&#x6790;</h2><h3 id="1-&#x5206;&#x7C7B;"><a href="#1-&#x5206;&#x7C7B;" class="headerlink" title="1.&#x5206;&#x7C7B;"></a>1.&#x5206;&#x7C7B;</h3><p>&#x4E0A;&#x9762;&#x867D;&#x7136;&#x8BF4;&#x662F;&#x6709;&#x56DB;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x800C;&#x8A00;&#xFF0C;&#x4E3B;&#x8981;&#x5212;&#x5206;&#x4E3A;&#x4E24;&#x7C7B;</p><ul><li>&#x7EE7;&#x627F;Thread&#x7C7B;&#xFF0C;&#x8986;&#x76D6;run&#x65B9;&#x6CD5;&#x586B;&#x5199;&#x4E1A;&#x52A1;&#x903B;&#x8F91;</li><li>&#x5B9E;&#x73B0;Callable&#x6216;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;Thread&#x6216;&#x7EBF;&#x7A0B;&#x6C60;&#x6765;&#x542F;&#x52A8;&#x7EBF;&#x7A0B;</li></ul><p>&#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x5229;&#x7528;Fork/Join&#x6846;&#x67B6;&#x6765;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x540E;&#x7EED;&#x4E13;&#x95E8;&#x8BF4;&#x660E;&#xFF0C;&#x6B64;&#x5904;&#x5148;&#x7565;&#x8FC7;</p><h3 id="2-&#x533A;&#x5206;&#x8BF4;&#x660E;"><a href="#2-&#x533A;&#x5206;&#x8BF4;&#x660E;" class="headerlink" title="2. &#x533A;&#x5206;&#x8BF4;&#x660E;"></a>2. &#x533A;&#x5206;&#x8BF4;&#x660E;</h3><h4 id="&#x7EE7;&#x627F;&#x548C;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x533A;&#x522B;"><a href="#&#x7EE7;&#x627F;&#x548C;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x533A;&#x522B;" class="headerlink" title="&#x7EE7;&#x627F;&#x548C;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x533A;&#x522B;"></a>&#x7EE7;&#x627F;&#x548C;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x533A;&#x522B;</h4><blockquote><p>&#x5148;&#x628A;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x65B9;&#x5F0F;&#x62CE;&#x51FA;&#x6765;&#x5355;&#x72EC;&#x8BF4;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x5BF9;&#x6BD4;Thread, Callable, Runnable&#x4E09;&#x4E2D;&#x65B9;&#x5F0F;&#x7684;&#x533A;&#x522B;</p></blockquote><p>&#x4E2A;&#x4EBA;&#x7406;&#x89E3;&#xFF0C;&#x7EBF;&#x7A0B;&#x7684;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x533A;&#x522B;&#x4E5F;&#x5C31;&#x53EA;&#x6709;&#x7EE7;&#x627F;&#x548C;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x672C;&#x8D28;&#x533A;&#x522B;&#xFF1A;</p><p>&#x4E00;&#x4E2A;&#x662F;&#x7EE7;&#x627F;Thread&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x5B9E;&#x4F8B;&#x7684; <code>start()</code>&#x65B9;&#x6CD5;&#x6765;&#x542F;&#x52A8;&#x7EBF;&#x7A0B;&#xFF1B;&#x53E6;&#x4E00;&#x4E2A;&#x662F;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#xFF0C;&#x9700;&#x8981;&#x501F;&#x52A9; <code>Thread#start()</code>&#x6765;&#x542F;&#x52A8;&#x7EBF;&#x7A0B;</p><p>&#x7EE7;&#x627F;&#x56E0;&#x4E3A;java&#x8BED;&#x8A00;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x5F53;&#x4F60;&#x7684;&#x4EFB;&#x52A1;&#x9700;&#x8981;&#x7EE7;&#x627F;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x65F6;&#xFF0C;&#x4F1A;&#x6709;&#x7F3A;&#x9677;&#xFF1B;&#x800C;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x5374;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x9650;&#x5236;</p><hr><p>&#x81F3;&#x4E8E;&#x7F51;&#x4E0A;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x8BF4;&#x7684;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#x66F4;&#x5229;&#x4E8E;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#x4EC0;&#x4E48;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#x4F5C;&#x4E3A;&#x5BF9;&#x6BD4;&#x7684;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShareTest</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRun</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>{</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">volatile</span> AtomicInteger ato = <span class="keyword">new</span> AtomicInteger(<span class="number">5</span>);</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) {</span><br><span class="line">                <span class="keyword">int</span> tmp = ato.decrementAndGet();</span><br><span class="line">                System.out.println(Thread.currentThread() + <span class="string">&quot; : &quot;</span> + tmp);</span><br><span class="line">                <span class="keyword">if</span> (tmp &lt;= <span class="number">0</span>) {</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>{</span><br><span class="line">        MyRun run = <span class="keyword">new</span> MyRun();</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(run, <span class="string">&quot;&#x7EBF;&#x7A0B;1&quot;</span>);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(run, <span class="string">&quot;&#x7EBF;&#x7A0B;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line"></span><br><span class="line">        thread1.join();</span><br><span class="line">        thread2.join();</span><br><span class="line">        System.out.println(<span class="string">&quot;over&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x8F93;&#x51FA;&#xFF1A;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Thread[&#x7EBF;&#x7A0B;1,5,main] : 4</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;2,5,main] : 3</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;1,5,main] : 2</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;2,5,main] : 1</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;1,5,main] : 0</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;2,5,main] : -1</span><br><span class="line">over</span><br></pre></td></tr></table></figure><p><code>MyRun</code>&#x5B9E;&#x73B0;<code>Runnable</code>&#x63A5;&#x53E3;&#xFF0C;&#x7136;&#x540E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x5C06;&#x8FD9;&#x4E2A;&#x5B9E;&#x4F8B;&#x4F5C;&#x4E3A;&#x591A;&#x4E2A;Thread&#x7684;&#x53C2;&#x6570;&#x6784;&#x9020;Thread&#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x542F;&#x52A8;&#x7EBF;&#x7A0B;&#xFF0C;&#x53D1;&#x73B0;&#x8FD9;&#x51E0;&#x4E2A;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x4E86; <code>MyRun#ato</code> &#x53D8;&#x91CF;</p><p>&#x7136;&#x800C;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x6539;&#x6210;&#x7EE7;&#x627F;Thread&#xFF0C;&#x5176;&#x4ED6;&#x90FD;&#x4E0D;&#x53D8;&#xFF0C;&#x4E5F;&#x6CA1;&#x5565;&#x4E24;&#x6837;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShareTest</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRun</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>{</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">volatile</span> AtomicInteger ato = <span class="keyword">new</span> AtomicInteger(<span class="number">5</span>);</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) {</span><br><span class="line">                <span class="keyword">int</span> tmp = ato.decrementAndGet();</span><br><span class="line">                System.out.println(Thread.currentThread() + <span class="string">&quot; : &quot;</span> + tmp);</span><br><span class="line">                <span class="keyword">if</span> (tmp &lt;= <span class="number">0</span>) {</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>{</span><br><span class="line">        MyRun run = <span class="keyword">new</span> MyRun();</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(run, <span class="string">&quot;&#x7EBF;&#x7A0B;1&quot;</span>);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(run, <span class="string">&quot;&#x7EBF;&#x7A0B;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line"></span><br><span class="line">        thread1.join();</span><br><span class="line">        thread2.join();</span><br><span class="line">        System.out.println(<span class="string">&quot;over&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x8F93;&#x51FA;&#x5982;&#x4E0B;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Thread[&#x7EBF;&#x7A0B;1,5,main] : 4</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;2,5,main] : 3</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;1,5,main] : 2</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;1,5,main] : 0</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;2,5,main] : 1</span><br><span class="line">Thread[&#x7EBF;&#x7A0B;2,5,main] : -1</span><br><span class="line">over</span><br></pre></td></tr></table></figure><p>&#x4E0A;&#x9762;&#x9664;&#x4E86;&#x8BF4;&#x660E;&#x4F7F;&#x7528;Runnable&#x66F4;&#x5229;&#x4E8E;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#x795E;&#x9A6C;&#x7684;&#xFF0C;&#x5176;&#x5B9E;&#x5E76;&#x6CA1;&#x6709;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#x7684;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x8F93;&#x51FA;-1&#xFF1F;</p><p>&#x5982;&#x679C;&#x6211;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x662F;&#x552E;&#x7968;&#x7684;&#x8BDD;&#xFF0C;&#x59A5;&#x59A5;&#x7684;&#x5C31;&#x8D85;&#x5356;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7559;&#x5F85;&#x540E;&#x7EED;&#x8BE6;&#x89E3;</p><hr><h4 id="Runnable-Callable&#x4E24;&#x79CD;&#x533A;&#x522B;"><a href="#Runnable-Callable&#x4E24;&#x79CD;&#x533A;&#x522B;" class="headerlink" title="Runnable, Callable&#x4E24;&#x79CD;&#x533A;&#x522B;"></a>Runnable, Callable&#x4E24;&#x79CD;&#x533A;&#x522B;</h4><p>&#x8FD9;&#x4E24;&#x4E2A;&#x5C31;&#x6BD4;&#x8F83;&#x660E;&#x663E;&#x4E86;&#xFF0C;&#x6700;&#x6839;&#x672C;&#x7684;&#x5C31;&#x662F;</p><ul><li>Runnable &#x65E0;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;</li><li>Callable &#x6709;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;</li></ul><p>&#x4ECE;&#x6839;&#x6E90;&#x51FA;&#x53D1;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x5BFC;&#x81F4;&#x4F7F;&#x7528;&#x59FF;&#x52BF;&#x4E0A;&#x7684;&#x533A;&#x522B;</p><p>&#x4E3E;&#x4E2A;&#x5F62;&#x8C61;&#x7684;&#x4F8B;&#x5B50;&#x8BF4;&#x660E;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x533A;&#x522B;&#xFF1A;</p><p>&#x5C0F;&#x660E;&#x5BB6;&#x4ECA;&#x513F;&#x6CA1;&#x7C73;&#x4E86;&#xFF0C;&#x5C0F;&#x660E;&#x8981;&#x5403;&#x996D;&#x600E;&#x4E48;&#x529E;&#xFF1F;</p><p>&#x5C0F;&#x660E;&#x4ED6;&#x5988;&#x5BF9;&#x5C0F;&#x660E;&#x8BF4;&#xFF0C;&#x53BB;&#x4F60;&#x5927;&#x7237;&#x5BB6;&#x5403;&#x996D;&#x5427;&#xFF0C;&#x81F3;&#x4E8E;&#x5C0F;&#x660E;&#x5230;&#x5E95;&#x5403;&#x6CA1;&#x5403;&#x7740;&#xFF0C;&#x5C0F;&#x5988;&#x4ED6;&#x5988;&#x5C31;&#x4E0D;&#x7BA1;&#x4E86;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;Runnable&#x65B9;&#x5F0F;&#xFF1B;</p><p>&#x5C0F;&#x660E;&#x4ED6;&#x5988;&#x4E00;&#x60F3;&#xFF0C;&#x8FD9;&#x4E00;&#x5BB6;&#x5B50;&#x90FD;&#x8981;&#x5403;&#x996D;&#xFF0C;&#x6211;&#x5148;&#x7092;&#x4E2A;&#x83DC;&#xFF0C;&#x8BA9;&#x5C0F;&#x660E;&#x53BB;&#x5927;&#x7237;&#x5BB6;&#x501F;&#x70B9;&#x7C73;&#x6765;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x7B49;&#x7740;&#x5C0F;&#x660E;&#x62FF;&#x7C73;&#x56DE;&#x6765;&#x5F00;&#x9505;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;Callable&#x65B9;&#x5F0F;</p><p><strong>1.Runnable</strong></p><p>Runnable&#x4E0D;&#x5173;&#x5FC3;&#x8FD4;&#x56DE;&#xFF0C;&#x6240;&#x4EE5;&#x4EFB;&#x52A1;&#x81EA;&#x5DF1;&#x9ED8;&#x9ED8;&#x7684;&#x6267;&#x884C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x4E5F;&#x4E0D;&#x7528;&#x544A;&#x8BC9;&#x6211;&#x5B8C;&#x6210;&#x6CA1;&#x6709;&#xFF0C;&#x6211;&#x4E0D;care&#xFF0C;&#x60A8;&#x81EA;&#x5DF1;&#x968F;&#x4FBF;&#x73A9;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x5C31;&#x662F;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() { <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{...} }).start()</span><br></pre></td></tr></table></figure><p>&#x6362;&#x6210;JDK8&#x7684; lambda&#x8868;&#x8FBE;&#x5F0F;&#x5C31;&#x66F4;&#x7B80;&#x5355;&#x4E86; <code>new Thread(() -&gt; {}).start();</code></p><p><strong>2.Callable</strong></p><p>&#x76F8;&#x6BD4;&#x800C;&#x8A00;&#xFF0C;callbale&#x5C31;&#x60B2;&#x50AC;&#x4E00;&#x70B9;&#xFF0C;&#x6CA1;&#x6CD5;&#x8FD9;&#x4E48;&#x968F;&#x610F;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x8981;&#x7B49;&#x5F85;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x72B6;&#x6001;&#x6211;&#x53C8;&#x63A7;&#x5236;&#x4E0D;&#x4E86;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#xFF1F;&#x501F;&#x52A9;<code>FutrueTask</code>&#x6765;&#x73A9;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FutureTask&lt;Object&gt; future = <span class="keyword">new</span> FutureTask&lt;&gt;(() -&gt; <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">new</span> Thread(future).start();</span><br><span class="line">Object obj = future.get(); <span class="comment">// &#x8FD9;&#x91CC;&#x4F1A;&#x963B;&#x585E;&#xFF0C;&#x76F4;&#x5230;&#x7EBF;&#x7A0B;&#x8FD4;&#x56DE;&#x503C;</span></span><br></pre></td></tr></table></figure><hr><h4 id="Thread&#x542F;&#x52A8;&#x548C;&#x7EBF;&#x7A0B;&#x6C60;&#x542F;&#x52A8;&#x65B9;&#x5F0F;"><a href="#Thread&#x542F;&#x52A8;&#x548C;&#x7EBF;&#x7A0B;&#x6C60;&#x542F;&#x52A8;&#x65B9;&#x5F0F;" class="headerlink" title="Thread&#x542F;&#x52A8;&#x548C;&#x7EBF;&#x7A0B;&#x6C60;&#x542F;&#x52A8;&#x65B9;&#x5F0F;"></a>Thread&#x542F;&#x52A8;&#x548C;&#x7EBF;&#x7A0B;&#x6C60;&#x542F;&#x52A8;&#x65B9;&#x5F0F;</h4><p>&#x8FD9;&#x4E2A;&#x5C31;&#x9AD8;&#x7AEF;&#x4E86;&#xFF0C;&#x7EBF;&#x7A0B;&#x6C60;&#x4E00;&#x542C;&#x5C31;&#x611F;&#x89C9;&#x5389;&#x5BB3;&#x4E86;&#xFF0C;&#x524D;&#x9762;&#x7684;&#x56DB;&#x4E2D;&#x65B9;&#x5F0F;&#x6709;&#x4E09;&#x79CD;&#x90FD;&#x662F;<code>Thread#start()</code>&#x6765;&#x542F;&#x52A8;&#x7EBF;&#x7A0B;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x6700;&#x5E38;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD9;&#x91CC;&#x5355;&#x72EC;&#x8BF4;&#x4E00;&#x4E0B;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x4F7F;&#x7528;&#x59FF;&#x52BF;</p><ul><li>&#x9996;&#x5148;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;</li><li>&#x5229;&#x7528; <code>ExecutorService#submit()</code>&#x63D0;&#x4EA4;&#x7EBF;&#x7A0B;</li><li><code>Future&lt;Object&gt;</code> &#x63A5;&#x6536;&#x8FD4;&#x56DE;</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">Future&lt;Integer&gt; future1 = executorService.submit(()-&gt; <span class="number">10</span>);</span><br><span class="line"><span class="keyword">int</span> ans = future1.get();</span><br></pre></td></tr></table></figure><p>&#x8BF4;&#x660E;&#xFF0C;&#x8FD9;&#x91CC;&#x63D0;&#x4EA4;&#x7EBF;&#x7A0B;&#x4E4B;&#x540E;&#xFF0C;&#x5E76;&#x4E0D;&#x8868;&#x793A;&#x7EBF;&#x7A0B;&#x7ACB;&#x9A6C;&#x5C31;&#x8981;&#x6267;&#x884C;&#xFF0C;&#x4E5F;&#x4E0D;&#x8868;&#x793A;&#x4E00;&#x5B9A;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#xFF08;&#x8FD9;&#x4E2A;&#x7559;&#x5F85;&#x540E;&#x7EED;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x5B66;&#x4E60;&#x4E2D;&#x63A2;&#x8BA8;&#xFF09;</p><h2 id="III-&#x5C0F;&#x7ED3;"><a href="#III-&#x5C0F;&#x7ED3;" class="headerlink" title="III. &#x5C0F;&#x7ED3;"></a>III. &#x5C0F;&#x7ED3;</h2><h3 id="&#x56DB;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;"><a href="#&#x56DB;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;" class="headerlink" title="&#x56DB;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;"></a>&#x56DB;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;</h3><p>1.&#x7EE7;&#x627F;Thread&#x7C7B;&#xFF0C;&#x8986;&#x76D6;run&#x65B9;&#x6CD5;&#xFF0C;&#x8C03;&#x7528; <code>Thread#start</code>&#x542F;&#x52A8;<br>2.&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x521B;&#x5EFA;&#x5B9E;&#x4F8B;&#xFF0C;&#x4F5C;&#x4E3A;<code>Thread</code>&#x6784;&#x9020;&#x53C2;&#x6570;&#x4F20;&#x5165;&#xFF0C;&#x8C03;&#x7528; <code>Thread#start</code>&#x542F;&#x52A8;<br>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread(() -&gt; {}).start()</span><br></pre></td></tr></table></figure></p><p>3.&#x5B9E;&#x73B0;Callable&#x63A5;&#x53E3;&#xFF0C;&#x521B;&#x5EFA;&#x5B9E;&#x4F8B;&#xFF0C;&#x4F5C;&#x4E3A;<code>FutureTask&lt;&gt;</code>&#x6784;&#x9020;&#x53C2;&#x6570;&#x521B;&#x5EFA;<code>FutureTask</code>&#x5BF9;&#x8C61;&#xFF0C;&#x5C06;FutureTask&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;<code>Thread</code>&#x6784;&#x9020;&#x53C2;&#x6570;&#x4F20;&#x5165;&#xFF0C;&#x8C03;&#x7528; <code>Thread#start</code>&#x542F;&#x52A8;<br>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FutureTask&lt;Object&gt; future = <span class="keyword">new</span> FutureTask&lt;&gt;(() -&gt; <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">new</span> Thread(future).start();</span><br><span class="line">Object obj = future.get(); <span class="comment">// &#x8FD9;&#x91CC;&#x4F1A;&#x963B;&#x585E;&#xFF0C;&#x76F4;&#x5230;&#x7EBF;&#x7A0B;&#x8FD4;&#x56DE;&#x503C;</span></span><br></pre></td></tr></table></figure></p><p>4.&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;,&#x5229;&#x7528; <code>ExecutorService#submit()</code>&#x63D0;&#x4EA4;&#x7EBF;&#x7A0B;,<code>Future&lt;Object&gt;</code> &#x63A5;&#x6536;&#x8FD4;&#x56DE;</p>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">Future&lt;Integer&gt; future1 = executorService.submit(()-&gt; <span class="number">10</span>);</span><br><span class="line"><span class="keyword">int</span> ans = future1.get();</span><br></pre></td></tr></table></figure><h3 id="&#x533A;&#x522B;&#x4E0E;&#x5E94;&#x7528;&#x573A;&#x666F;"><a href="#&#x533A;&#x522B;&#x4E0E;&#x5E94;&#x7528;&#x573A;&#x666F;" class="headerlink" title="&#x533A;&#x522B;&#x4E0E;&#x5E94;&#x7528;&#x573A;&#x666F;"></a>&#x533A;&#x522B;&#x4E0E;&#x5E94;&#x7528;&#x573A;&#x666F;</h3><ul><li>&#x7EE7;&#x627F;&#x548C;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x5F0F;&#x552F;&#x4E00;&#x533A;&#x522B;&#x5C31;&#x662F;&#x7EE7;&#x627F;&#x548C;&#x5B9E;&#x73B0;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5171;&#x4EAB;&#x53D8;&#x91CF;&#x7684;&#x95EE;&#x9898;</li><li>&#x9700;&#x8981;&#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;&#x7ED3;&#x5408; FutureTask&#x548C;Callable&#x6765;&#x5B9E;&#x73B0;</li><li>Thread&#x548C;Runnable&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x539F;&#x5219;&#x4E0A;&#x60F3;&#x600E;&#x4E48;&#x7528;&#x90FD;&#x53EF;&#x4EE5;&#xFF0C;&#x4E2A;&#x4EBA;&#x4E5F;&#x6CA1;&#x5565;&#x597D;&#x63A8;&#x8350;&#x7684;&#xFF0C;&#x968F;&#x610F;&#x4F7F;&#x7528;</li><li>&#x7EBF;&#x7A0B;&#x6C60;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7EBF;&#x7A0B;&#x590D;&#x7528;&#x65F6;&#xFF0C;&#x5BF9;ThreadLocal&#x4E2D;&#x53D8;&#x91CF;&#x7684;&#x4E32;&#x7528;&#x95EE;&#x9898;&#xFF08;&#x672C;&#x7BC7;&#x6CA1;&#x6709;&#x6D89;&#x53CA;&#xFF0C;&#x7B49;&#x5F85;&#x540E;&#x7EED;&#x8865;&#x4E0A;&#xFF09;</li></ul><h3 id="&#x6CE8;&#x610F;"><a href="#&#x6CE8;&#x610F;" class="headerlink" title="&#x6CE8;&#x610F;"></a>&#x6CE8;&#x610F;</h3><ul><li>&#x5229;&#x7528;&#x7EBF;&#x7A0B;&#x6C60;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x4F9D;&#x7136;&#x662F;&#x501F;&#x52A9;&#x7684;Runnable&#x6216;&#x8005;Callable&#xFF0C;&#x80FD;&#x5426;&#x7B97;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x65B9;&#x5F0F;&#x7EAF;&#x770B;&#x4E2A;&#x4EBA;&#x7406;&#x89E3;</li><li>&#x91C7;&#x7528;Timer&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x6CA1;&#x6709;&#x591A;&#x8BF4;&#xFF0C;&#x540E;&#x7EED;&#x5C06;&#x6709;&#x4E00;&#x7BC7;&#x4E13;&#x95E8;&#x8BF4;&#x660E;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x7684;&#x535A;&#x6587;&#x4ECB;&#x7ECD;&#x5176;&#x7528;&#x6CD5;</li></ul><h2 id="IV-&#x5176;&#x4ED6;"><a href="#IV-&#x5176;&#x4ED6;" class="headerlink" title="IV. &#x5176;&#x4ED6;"></a>IV. &#x5176;&#x4ED6;</h2><h3 id="&#x58F0;&#x660E;"><a href="#&#x58F0;&#x660E;" class="headerlink" title="&#x58F0;&#x660E;"></a>&#x58F0;&#x660E;</h3><p>&#x5C3D;&#x4FE1;&#x4E66;&#x5219;&#x4E0D;&#x5982;&#xFF0C;&#x5DF2;&#x4E0A;&#x5185;&#x5BB9;&#xFF0C;&#x7EAF;&#x5C5E;&#x4E00;&#x5BB6;&#x4E4B;&#x8A00;&#xFF0C;&#x56E0;&#x672C;&#x4EBA;&#x80FD;&#x529B;&#x4E00;&#x822C;&#xFF0C;&#x89C1;&#x8BC6;&#x6709;&#x9650;&#xFF0C;&#x5982;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x8BF7;&#x4E0D;&#x541D;&#x6307;&#x6B63;&#xFF0C;&#x611F;&#x6FC0;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://my.oschina.net/u/566591/blog/1576410&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://my.oschina.net/u/566591/blog/1576410&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x7EBF;&amp;#x7A0B;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x51E0;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x7EBF;&amp;#x7A0B;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x51E0;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7EBF;&amp;#x7A0B;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x51E0;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&quot;&gt;&lt;/a&gt;&amp;#x7EBF;&amp;#x7A0B;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x51E0;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;&amp;#x5E76;&amp;#x53D1;&amp;#x7F16;&amp;#x7A0B;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6700;&amp;#x57FA;&amp;#x672C;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x521B;&amp;#x5EFA;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E86;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4E00;&amp;#x822C;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#x59FF;&amp;#x52BF;&amp;#x662F;&amp;#x600E;&amp;#x6837;&amp;#x7684;&amp;#xFF0C;&amp;#x53C8;&amp;#x90FD;&amp;#x6709;&amp;#x4E9B;&amp;#x4EC0;&amp;#x4E48;&amp;#x533A;&amp;#x522B;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x822C;&amp;#x6765;&amp;#x8BB2;&amp;#x7EBF;&amp;#x7A0B;&amp;#x521B;&amp;#x5EFA;&amp;#x6709;&amp;#x56DB;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x7EE7;&amp;#x627F;Thread&lt;/li&gt;
&lt;li&gt;&amp;#x5B9E;&amp;#x73B0;Runnable&amp;#x63A5;&amp;#x53E3;&lt;/li&gt;
&lt;li&gt;&amp;#x5B9E;&amp;#x73B0;Callable&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x7ED3;&amp;#x5408; FutureTask&amp;#x4F7F;&amp;#x7528;&lt;/li&gt;
&lt;li&gt;&amp;#x5229;&amp;#x7528;&amp;#x8BE5;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;ExecutorService&amp;#x3001;Callable&amp;#x3001;Future&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="Java线程" scheme="https://cqh-i.github.io/tags/Java%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>(转载)Java父类异常与子类异常之间的捕获关系</title>
    <link href="https://cqh-i.github.io/2019/09/12/%E8%BD%AC%E8%BD%BD-Java%E7%88%B6%E7%B1%BB%E5%BC%82%E5%B8%B8%E4%B8%8E%E5%AD%90%E7%B1%BB%E5%BC%82%E5%B8%B8%E4%B9%8B%E9%97%B4%E7%9A%84%E6%8D%95%E8%8E%B7%E5%85%B3%E7%B3%BB/"/>
    <id>https://cqh-i.github.io/2019/09/12/转载-Java父类异常与子类异常之间的捕获关系/</id>
    <published>2019-09-12T11:32:32.000Z</published>
    <updated>2019-09-12T11:40:40.313Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://blog.csdn.net/salerzhang/article/details/46581457" target="_blank" rel="noopener">https://blog.csdn.net/salerzhang/article/details/46581457</a></p><p>&#x4ECA;&#x5929;&#x770B;&#x5230;&#x8FD9;&#x4E48;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x95EE;&#x8F93;&#x51FA;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Annoyance</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>{}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sneeze</span> <span class="keyword">extends</span> <span class="title">Annoyance</span> </span>{}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Sneeze();</span><br><span class="line">            } <span class="keyword">catch</span> (Annoyance a) {</span><br><span class="line">                System.out.println(<span class="string">&quot;Caught Annoyance&quot;</span>);</span><br><span class="line">                <span class="keyword">throw</span> a;</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Sneeze s) {</span><br><span class="line">            System.out.println(<span class="string">&quot;Caught Sneeze&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        } <span class="keyword">finally</span> {</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x5148;&#x522B;&#x7ED9;&#x51FA;&#x7B54;&#x6848;&#xFF0C;&#x601D;&#x8003;&#x4E00;&#x4E0B;&#x5E73;&#x65F6;&#x6211;&#x4EEC;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5F02;&#x5E38;&#x6355;&#x83B7;&#x7684;&#x8FC7;&#x7A0B;&#x548C;&#x987A;&#x5E8F;&#xFF0C;&#x6BD4;&#x5982;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException();</span><br><span class="line">} <span class="keyword">catch</span> (IOException e) {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x80FD;&#x770B;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528;<strong>&#x7236;&#x7C7B;&#x80FD;&#x591F;&#x6355;&#x83B7;&#x5B50;&#x7C7B;&#x7684;&#x5F02;&#x5E38;</strong>&#xFF0C;&#x5F53;&#x7136;&#x6240;&#x6709;&#x7684;&#x5F02;&#x5E38;&#x90FD;&#x662F;&#x7EE7;&#x627F;Exception&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;Exception&#x66FF;&#x6362;&#x6240;&#x6709;&#x5177;&#x4F53;&#x7684;&#x5F02;&#x5E38;&#x7C7B;&#x5462;&#xFF1F;&#x8FD9;&#x4E2A;&#x662F;&#x8981;&#x8003;&#x8651;&#x5230;&#x6211;&#x4EEC;&#x5BF9;&#x4EE3;&#x7801;&#x4E2D;&#x9884;&#x671F;&#x5F02;&#x5E38;&#x7684;&#x638C;&#x63E1;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x67D0;&#x4E9B;&#x4EE3;&#x7801;&#x4F1A;&#x4EA7;&#x751F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;&#x5E94;&#x5F53;&#x5FC3;&#x4E2D;&#x6709;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x5168;&#x90FD;&#x7528;Exception&#x7684;&#x5F15;&#x7528;&#x6765;&#x63A5;&#x6536;&#xFF0C;&#x5927;&#x5BB6;&#x90FD;&#x662F;&#x7A00;&#x91CC;&#x7CCA;&#x6D82;&#x7684;&#xFF0C;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x4E5F;&#x4F1A;&#x53D8;&#x5F97;&#x96BE;&#x4EE5;&#x7740;&#x624B;&#x3002;&#x4F46;&#x5982;&#x679C;&#x5728;Catch&#x4EE3;&#x7801;&#x5757;&#x4E2D;&#x4E0D;&#x6253;&#x7B97;&#x505A;&#x4EFB;&#x4F55;&#x5904;&#x7406;&#xFF0C;&#x4EC5;&#x6355;&#x83B7;&#x800C;&#x5DF2;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x65F6;&#x4F7F;&#x7528;Exception&#x4E5F;&#x6CA1;&#x4EC0;&#x4E48;&#x5173;&#x7CFB;&#xFF0C;&#x4F46;&#x6B63;&#x662F;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#x5E94;&#x8BE5;&#x4E0D;&#x5141;&#x8BB8;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x770B;JDK&#x7684;&#x6E90;&#x7801;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#xFF0C;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x4EE5;&#x540E;&#x4E00;&#x5B9A;&#x8981;&#x7ED9;&#x51FA;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x7684;&#x3002;<br>&#x4EE5;&#x4E0A;&#x7684;&#x4EE3;&#x7801;&#x8BC1;&#x660E;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x5F15;&#x7528;&#x63A5;&#x53D7;&#x5B50;&#x7C7B;&#x7684;&#x5F02;&#x5E38;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x95EE;&#x9898;&#x6765;&#x4E86;&#xFF0C;&#x6700;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x662F;&#xFF1A;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Caught Annoyance</span><br><span class="line">Caught Sneeze</span><br><span class="line">Hello World!</span><br></pre></td></tr></table></figure><p>&#x76F8;&#x4FE1;&#x7B2C;&#x4E00;&#x884C;&#x548C;&#x7B2C;&#x4E09;&#x884C;&#x5927;&#x5BB6;&#x90FD;&#x6CA1;&#x4EC0;&#x4E48;&#x7591;&#x95EE;&#x4E86;&#xFF0C;&#x5173;&#x952E;&#x662F;&#x7B2C;&#x4E8C;&#x884C;&#xFF0C;&#x5E94;&#x8BE5;&#x51FA;&#x6765;&#x5417;&#xFF1F;&#x662F;&#x4E0D;&#x662F;&#x5B50;&#x7C7B;&#x6355;&#x83B7;&#x4E86;&#x7236;&#x7C7B;&#x7684;&#x5F02;&#x5E38;&#x5462;&#xFF1F;</p><p>&#x7ECF;&#x8FC7;&#x65AD;&#x70B9;&#x7684;&#x52A0;&#x5165;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#xFF0C;&#x5C3D;&#x7BA1;</p><p><code>catch ( Annoyance a )</code></p><p>&#x8FD9;&#x4E00;&#x53E5;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x7236;&#x7C7B;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5B50;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x662F;Java&#x4E2D;&#x591A;&#x6001;&#x7684;&#x7ECF;&#x5178;&#x8868;&#x73B0;&#x3002;&#x5728;</p><p><code>catch ( Sneeze s )</code></p><p>&#x7684;&#x65F6;&#x5019;&#x5F53;&#x7136;&#x53EF;&#x4EE5;&#x6355;&#x83B7;&#x5230;&#x81EA;&#x5DF1;&#x629B;&#x51FA;&#x6765;&#x7684;&#x5F02;&#x5E38;&#x4E86;&#x3002;</p><p>&#x4E3A;&#x4E86;&#x8BC1;&#x660E;&#xFF0C;<strong>&#x5B50;&#x7C7B;&#x4ECE;&#x672C;&#x8D28;&#x4E0A;&#x65E0;&#x6CD5;&#x6355;&#x83B7;&#x7236;&#x7C7B;&#x7684;&#x5F02;&#x5E38;</strong>&#xFF0C;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x505A;&#x4E2A;&#x8BD5;&#x9A8C;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> Annoyance();</span><br><span class="line">} <span class="keyword">catch</span> (Sneeze s) {</span><br><span class="line">    System.out.println(<span class="string">&quot;Caught Sneeze&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">} <span class="keyword">finally</span> {</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x629B;&#x51FA;&#x4E86;&#x7236;&#x7C7B;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x4F7F;&#x7528;&#x5B50;&#x7C7B;catch&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F16;&#x8BD1;&#xFF0C;&#x4F46;&#x8FD0;&#x884C;&#x65F6;&#x5462;&#xFF1F;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello World!</span><br><span class="line">Exception in thread &quot;main&quot; com.xq.exceptions.Annoyance</span><br><span class="line">at com.xq.exceptions.Human.main(ExceptionTest.java:14)</span><br></pre></td></tr></table></figure><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x7236;&#x7C7B;throw&#x51FA;&#x6765;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x5B50;&#x7C7B;&#x5E76;&#x6CA1;&#x6709;&#x6355;&#x83B7;&#x5230;&#xFF0C;&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x8BC1;&#x660E;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> Annoyance();</span><br><span class="line">} <span class="keyword">catch</span> (Sneeze s) {</span><br><span class="line">    System.out.println(<span class="string">&quot;Caught Sneeze&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">} <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">    System.out.println(<span class="string">&quot;Caught Exception&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">} <span class="keyword">finally</span> {</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x65E2;&#x7136;&#x5B50;&#x7C7B;&#x6355;&#x83B7;&#x4E0D;&#x4E86;&#xFF0C;&#x90A3;&#x5C31;&#x4F7F;&#x7528;Exception&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Caught Exception</span><br><span class="line">Hello World!</span><br></pre></td></tr></table></figure><p>&#x770B;&#x5230;&#x8FD9;&#x6837;&#xFF0C;&#x5927;&#x5BB6;&#x80AF;&#x5B9A;&#x90FD;&#x660E;&#x767D;&#x4E86;&#xFF0C;&#x4E0D;&#x7528;&#x591A;&#x8BF4;&#x4E86;&#xFF01;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://blog.csdn.net/salerzhang/article/details/46581457&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/salerzhang/article/details/46581457&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4ECA;&amp;#x5929;&amp;#x770B;&amp;#x5230;&amp;#x8FD9;&amp;#x4E48;&amp;#x4E00;&amp;#x6BB5;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x8BF7;&amp;#x95EE;&amp;#x8F93;&amp;#x51FA;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF1F;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="Java异常" scheme="https://cqh-i.github.io/tags/Java%E5%BC%82%E5%B8%B8/"/>
    
  </entry>
  
  <entry>
    <title>(转载)Java中异常的捕获顺序(多个catch)</title>
    <link href="https://cqh-i.github.io/2019/09/12/%E8%BD%AC%E8%BD%BD-Java%E4%B8%AD%E5%BC%82%E5%B8%B8%E7%9A%84%E6%8D%95%E8%8E%B7%E9%A1%BA%E5%BA%8F-%E5%A4%9A%E4%B8%AAcatch/"/>
    <id>https://cqh-i.github.io/2019/09/12/转载-Java中异常的捕获顺序-多个catch/</id>
    <published>2019-09-12T11:08:20.000Z</published>
    <updated>2019-09-12T11:44:40.359Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x5730;&#x5740;: <a href="https://www.iteye.com/blog/lukuijun-340508" target="_blank" rel="noopener">https://www.iteye.com/blog/lukuijun-340508</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTryCatchTest</span> </span>{  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>{  </span><br><span class="line">        System.out.println(<span class="string">&quot;do somthing&quot;</span>);  </span><br><span class="line">    }  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{  </span><br><span class="line">        ExceptionTryCatchTest etct = <span class="keyword">new</span> ExceptionTryCatchTest();  </span><br><span class="line">        <span class="keyword">try</span> {  </span><br><span class="line">            etct.doSomething();  </span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {  </span><br><span class="line">              </span><br><span class="line">        } <span class="keyword">catch</span> (IOException e) {  </span><br><span class="line">              </span><br><span class="line">        }  </span><br><span class="line">    }  </span><br><span class="line">  </span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x95EE;&#x9898;:&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x80FD;&#x5426;&#x7F16;&#x8BD1;&#x901A;&#x8FC7;&#xFF1F;&#x4E3A;&#x4EC0;&#x4E48;&#xFF1F;</p><a id="more"></a><p><strong>&#x89E3;&#x7B54;</strong>:&#x4E0D;&#x80FD;&#x7F16;&#x8BD1;&#x901A;&#x8FC7;&#x3002;&#x56E0;&#x4E3A;&#x7F16;&#x8BD1;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x62A5;&#x9519;:&#x5DF2;&#x6355;&#x6349;&#x5230;&#x5F02;&#x5E38; java.io.IOException&#x3002;  catch(IOException e)&#x8FD9;&#x53E5;&#x6709;&#x9519;&#x8BEF;&#x3002;<br><strong>&#x5206;&#x6790;</strong>&#xFF1A;&#x5BF9;&#x4E8E;try..catch&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x8BF4;&#xFF0C;&#x5BF9;&#x4E8E;&#x5F02;&#x5E38;&#x7684;&#x6355;&#x83B7;&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;catch&#x3002;&#x5BF9;&#x4E8E;try&#x91CC;&#x9762;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x4ED6;&#x4F1A;&#x6839;&#x636E;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#x548C;catch&#x91CC;&#x9762;&#x7684;&#x8FDB;&#x884C;&#x5339;&#x914D;(&#x600E;&#x4E48;&#x5339;&#x914D;&#xFF0C;&#x6309;&#x7167;catch&#x5757;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x5339;&#x914D;)&#xFF0C;&#x5F53;&#x5B83;&#x5339;&#x914D;&#x67D0;&#x4E00;&#x4E2A;catch&#x5757;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4ED6;&#x5C31;&#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x5230;&#x8FD9;&#x4E2A;catch&#x5757;&#x91CC;&#x9762;&#x53BB;&#x4E86;&#xFF0C;&#x540E;&#x9762;&#x5728;&#x518D;&#x6709;catch&#x5757;&#x7684;&#x8BDD;&#xFF0C;&#x5B83;&#x4E0D;&#x505A;&#x4EFB;&#x4F55;&#x5904;&#x7406;&#xFF0C;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x53BB;&#xFF0C;&#x5168;&#x90E8;&#x5FFD;&#x7565;&#x6389;&#x3002;&#x5982;&#x679C;&#x6709;finally&#x7684;&#x8BDD;&#x8FDB;&#x5165;&#x5230;finally&#x91CC;&#x9762;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5339;&#x914D;&#x7684;catch&#xFF0C;&#x5B83;&#x5C31;&#x4F1A;&#x5FFD;&#x7565;&#x6389;&#x8FD9;&#x4E2A;catch&#x540E;&#x9762;&#x6240;&#x6709;&#x7684;catch&#x3002;&#x5BF9;&#x6211;&#x4EEC;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x6765;&#x8BF4;&#xFF0C;&#x629B;&#x51FA;&#x7684;&#x662F;IOException&#xFF0C;&#x5F53;&#x6267;&#x884C;etct.doSomething();&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x629B;&#x51FA;IOException&#xFF0C;&#x4E00;&#x65E6;&#x629B;&#x51FA;IOException&#xFF0C;&#x5B83;&#x9996;&#x5148;&#x8FDB;&#x5165;&#x5230;catch (Exception e) {}&#x91CC;&#x9762;&#xFF0C;&#x5148;&#x548C;Exception&#x5339;&#x914D;&#xFF0C;&#x7531;&#x4E8E;IOException extends Exception,&#x6839;&#x636E;&#x591A;&#x6001;&#x7684;&#x539F;&#x5219;&#xFF0C;IOException&#x662F;&#x5339;&#x914D;Exception&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x7A0B;&#x5E8F;&#x5C31;&#x4F1A;&#x8FDB;&#x5165;&#x5230;catch (Exception e) {}&#x91CC;&#x9762;&#xFF0C;&#x8FDB;&#x5165;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;catch&#x540E;&#xFF0C;&#x540E;&#x9762;&#x7684;catch&#x90FD;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;catch (IOException e) {}&#x6C38;&#x8FDC;&#x90FD;&#x6267;&#x884C;&#x4E0D;&#x5230;&#xFF0C;&#x5C31;&#x7ED9;&#x6211;&#x4EEC;&#x62A5;&#x51FA;&#x4E86;&#x524D;&#x9762;&#x7684;&#x9519;&#x8BEF;:&#x5DF2;&#x6355;&#x6349;&#x5230;&#x5F02;&#x5E38; java.io.IOException&#x3002;</p><p><strong>&#x603B;&#x7ED3;</strong>:<strong>&#x5728;&#x5199;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x628A;&#x5F02;&#x5E38;&#x8303;&#x56F4;&#x5C0F;&#x7684;&#x653E;&#x5728;&#x524D;&#x9762;&#xFF0C;&#x8303;&#x56F4;&#x5927;&#x7684;&#x653E;&#x5728;&#x540E;&#x9762;</strong>&#xFF0C;Exception&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#x7684;&#x6839;&#x7C7B;&#x4E00;&#x5B9A;&#x8981;&#x521A;&#x5728;&#x6700;&#x540E;&#x4E00;&#x4E2A;catch&#x91CC;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x653E;&#x5728;&#x524D;&#x9762;&#x6216;&#x8005;&#x4E2D;&#x95F4;&#xFF0C;&#x4EFB;&#x4F55;&#x5F02;&#x5E38;&#x90FD;&#x4F1A;&#x548C;Exception&#x5339;&#x914D;&#x7684;&#xFF0C;&#x5C31;&#x4F1A;&#x62A5;&#x5DF2;&#x6355;&#x83B7;&#x5230;&#x2026;&#x5F02;&#x5E38;&#x7684;&#x9519;&#x8BEF;&#x3002;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x5730;&amp;#x5740;: &lt;a href=&quot;https://www.iteye.com/blog/lukuijun-340508&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.iteye.com/blog/lukuijun-340508&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ExceptionTryCatchTest&lt;/span&gt; &lt;/span&gt;{  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; IOException&lt;/span&gt;{  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;do somthing&amp;quot;&lt;/span&gt;);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String[] args)&lt;/span&gt;&lt;/span&gt;{  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ExceptionTryCatchTest etct = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ExceptionTryCatchTest();  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            etct.doSomething();  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x95EE;&amp;#x9898;:&amp;#x4E0A;&amp;#x8FF0;&amp;#x7A0B;&amp;#x5E8F;&amp;#x80FD;&amp;#x5426;&amp;#x7F16;&amp;#x8BD1;&amp;#x901A;&amp;#x8FC7;&amp;#xFF1F;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF1F;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="Java异常" scheme="https://cqh-i.github.io/tags/Java%E5%BC%82%E5%B8%B8/"/>
    
  </entry>
  
  <entry>
    <title>(转载)为什么Java中子类重写父类的方法时声明抛出异常不能比父类范围大</title>
    <link href="https://cqh-i.github.io/2019/09/12/%E8%BD%AC%E8%BD%BD-%E4%B8%BA%E4%BB%80%E4%B9%88Java%E4%B8%AD%E5%AD%90%E7%B1%BB%E9%87%8D%E5%86%99%E7%88%B6%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95%E6%97%B6%E5%A3%B0%E6%98%8E%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E4%B8%8D%E8%83%BD%E6%AF%94%E7%88%B6%E7%B1%BB%E8%8C%83%E5%9B%B4%E5%A4%A7/"/>
    <id>https://cqh-i.github.io/2019/09/12/转载-为什么Java中子类重写父类的方法时声明抛出异常不能比父类范围大/</id>
    <published>2019-09-12T05:08:06.468Z</published>
    <updated>2019-09-12T05:23:13.075Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://blog.csdn.net/hikvision_java_gyh/article/details/8956187" target="_blank" rel="noopener">https://blog.csdn.net/hikvision_java_gyh/article/details/8956187</a></p><p>&#x5728;Java&#x4E2D;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5B50;&#x7C7B;&#x8981;&#x91CD;&#x5199;&#x7236;&#x7C7B;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;<strong>&#x5982;&#x679C;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x6709;&#x5F02;&#x5E38;&#x58F0;&#x660E;&#xFF0C;&#x90A3;&#x4E48;&#x5B50;&#x7C7B;&#x91CD;&#x5199;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x65F6;&#x5019;&#xFF0C;&#x6240;&#x8981;&#x58F0;&#x660E;&#x7684;&#x5F02;&#x5E38;&#x4E0D;&#x5E94;&#x8BE5;&#x6BD4;&#x7236;&#x7C7B;&#x7684;&#x5927;, &#x53EA;&#x80FD;&#x662F;&#x5C0F;&#x7B49;&#xFF0C;&#x6216;&#x8005;&#x53EF;&#x4EE5;&#x6CA1;&#x6709;</strong>&#x3002;&#x539F;&#x56E0;&#x5982;&#x4E0B;&#x3002;&#x5047;&#x5982;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x610F;&#x4E49;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#xFF1A;</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>{</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">(String message)</span> </span>{}</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">()</span> </span>{}</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x7236;&#x7C7B;&#x5B83;&#x5C06;&#x6709;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x58F0;&#x660E;&#x629B;&#x51FA;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#x3002;&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x505A;&#x6210;&#x62BD;&#x8C61;&#x7684;&#xFF08;&#x65E0;&#x6240;&#x8C13;&#xFF09;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ParentException</span> </span>{</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> MyException</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x90A3;&#x4E48;&#x5C06;&#x6709;&#x4E00;&#x4E2A;&#x7C7B;&#x4F7F;&#x7528;&#x5230;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x7C7B;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> ParentException exception;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExceptionTest</span><span class="params">(ParentException exception)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.exception = exception;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">app</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            exception.test();</span><br><span class="line">        } <span class="keyword">catch</span> (MyException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x5BF9;&#x4E8E;&#x4EE5;&#x4E0A;&#x7684;try~catch &#x6211;&#x4EEC;&#x5C31;&#x76F4;&#x63A5;&#x6355;&#x83B7;MyException&#x5F02;&#x5E38;&#x3002;&#x8FD9;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x5B83;&#x5728;&#x7F16;&#x8BD1;&#x7684;&#x65F6;&#x5019;&#x662F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x7684;&#x3002;<br>&#x5047;&#x5982;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;ParentException&#x7684;&#x6709;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChildException</span> <span class="keyword">extends</span> <span class="title">ParentException</span> </span>{</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>{}</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x4ED6;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x58F0;&#x660E;&#x629B;&#x51FA;&#x6BD4;&#x7236;&#x7C7B;&#x5927;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x5047;&#x5982;&#x5B83;&#x662F;&#x6B63;&#x786E;&#x7684;&#x3002;<br>&#x90A3;&#x4E48;&#x95EE;&#x9898;&#x6765;&#x4E86;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x6267;&#x884C;ExceptionTest&#x7C7B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x4EE5;&#x8FD9;&#x4E2A;&#x5B50;&#x7C7B;&#x505A;&#x4E3A;&#x5BF9;&#x8C61;&#x4F20;&#x8FDB;&#x53BB;&#x3002;<br>exception.test();&#x8FD9;&#x4E2A;&#x5730;&#x65B9;&#x5C06;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#x5B9E;&#x9645;&#x8C03;&#x7528;&#x7684;&#x662F;ChildException&#x8FD9;&#x4E2A;&#x5B50;&#x7C7B;&#x7684;test()&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x5B83;&#x7684;&#x58F0;&#x660E;&#x629B;&#x51FA;&#x5374;&#x662F;&#x6BD4;&#x7236;&#x7C7B;&#x5927;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x5C31;&#x4F7F;&#x5F97;&#x5728;ExceptionTest&#x7C7B;&#x4E2D;&#xFF0C;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x5904;&#x51FA;&#x73B0;&#x4E86;&#x6BDB;&#x75C5;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x65E0;&#x6CD5;&#x6355;&#x83B7;Exception&#x5F02;&#x5E38;&#x3002;<br>&#x7EFC;&#x4E0A;&#x6240;&#x8BC9;&#xFF0C;&#x5B50;&#x7C7B;&#x91CD;&#x5199;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#x5019;&#x4E0D;&#x80FD;&#x58F0;&#x660E;&#x629B;&#x51FA;&#x6BD4;&#x7236;&#x7C7B;&#x5927;&#x7684;&#x5F02;&#x5E38;&#x3002;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://blog.csdn.net/hikvision_java_gyh/article/details/8956187&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/hikvision_java_gyh/article/details/8956187&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;Java&amp;#x4E2D;&amp;#xFF0C;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x5B50;&amp;#x7C7B;&amp;#x8981;&amp;#x91CD;&amp;#x5199;&amp;#x7236;&amp;#x7C7B;&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&lt;strong&gt;&amp;#x5982;&amp;#x679C;&amp;#x7236;&amp;#x7C7B;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6709;&amp;#x5F02;&amp;#x5E38;&amp;#x58F0;&amp;#x660E;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B50;&amp;#x7C7B;&amp;#x91CD;&amp;#x5199;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x6240;&amp;#x8981;&amp;#x58F0;&amp;#x660E;&amp;#x7684;&amp;#x5F02;&amp;#x5E38;&amp;#x4E0D;&amp;#x5E94;&amp;#x8BE5;&amp;#x6BD4;&amp;#x7236;&amp;#x7C7B;&amp;#x7684;&amp;#x5927;, &amp;#x53EA;&amp;#x80FD;&amp;#x662F;&amp;#x5C0F;&amp;#x7B49;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x53EF;&amp;#x4EE5;&amp;#x6CA1;&amp;#x6709;&lt;/strong&gt;&amp;#x3002;&amp;#x539F;&amp;#x56E0;&amp;#x5982;&amp;#x4E0B;&amp;#x3002;&amp;#x5047;&amp;#x5982;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x610F;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F02;&amp;#x5E38;&amp;#xFF1A;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="Java子类重写父类方法" scheme="https://cqh-i.github.io/tags/Java%E5%AD%90%E7%B1%BB%E9%87%8D%E5%86%99%E7%88%B6%E7%B1%BB%E6%96%B9%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>(转载)HTTP长连接和短连接</title>
    <link href="https://cqh-i.github.io/2019/09/12/%E8%BD%AC%E8%BD%BD-HTTP%E9%95%BF%E8%BF%9E%E6%8E%A5%E5%92%8C%E7%9F%AD%E8%BF%9E%E6%8E%A5/"/>
    <id>https://cqh-i.github.io/2019/09/12/转载-HTTP长连接和短连接/</id>
    <published>2019-09-12T01:52:54.000Z</published>
    <updated>2019-09-12T02:05:37.679Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://www.cnblogs.com/0201zcr/p/4694945.html" target="_blank" rel="noopener">https://www.cnblogs.com/0201zcr/p/4694945.html</a></p><h2 id="HTTP&#x534F;&#x8BAE;&#x4E0E;TCP-IP&#x534F;&#x8BAE;&#x7684;&#x5173;&#x7CFB;"><a href="#HTTP&#x534F;&#x8BAE;&#x4E0E;TCP-IP&#x534F;&#x8BAE;&#x7684;&#x5173;&#x7CFB;" class="headerlink" title="HTTP&#x534F;&#x8BAE;&#x4E0E;TCP/IP&#x534F;&#x8BAE;&#x7684;&#x5173;&#x7CFB;"></a>HTTP&#x534F;&#x8BAE;&#x4E0E;TCP/IP&#x534F;&#x8BAE;&#x7684;&#x5173;&#x7CFB;</h2><p>&#x3000;&#x3000;HTTP&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#x672C;&#x8D28;&#x4E0A;&#x662F;TCP&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#x3002;HTTP&#x5C5E;&#x4E8E;&#x5E94;&#x7528;&#x5C42;&#x534F;&#x8BAE;&#xFF0C;&#x5728;&#x4F20;&#x8F93;&#x5C42;&#x4F7F;&#x7528;TCP&#x534F;&#x8BAE;&#xFF0C;&#x5728;&#x7F51;&#x7EDC;&#x5C42;&#x4F7F;&#x7528;IP&#x534F;&#x8BAE;&#x3002;IP&#x534F;&#x8BAE;&#x4E3B;&#x8981;&#x89E3;&#x51B3;&#x7F51;&#x7EDC;&#x8DEF;&#x7531;&#x548C;&#x5BFB;&#x5740;&#x95EE;&#x9898;&#xFF0C;TCP&#x534F;&#x8BAE;&#x4E3B;&#x8981;&#x89E3;&#x51B3;&#x5982;&#x4F55;&#x5728;IP&#x5C42;&#x4E4B;&#x4E0A;&#x53EF;&#x9760;&#x7684;&#x4F20;&#x9012;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x4F7F;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x53E6;&#x4E00;&#x7AEF;&#x6536;&#x5230;&#x53D1;&#x7AEF;&#x53D1;&#x51FA;&#x7684;&#x6240;&#x6709;&#x5305;&#xFF0C;&#x5E76;&#x4E14;&#x987A;&#x5E8F;&#x4E0E;&#x53D1;&#x51FA;&#x987A;&#x5E8F;&#x4E00;&#x81F4;&#x3002;TCP&#x6709;&#x53EF;&#x9760;&#xFF0C;&#x9762;&#x5411;&#x8FDE;&#x63A5;&#x7684;&#x7279;&#x70B9;&#x3002;</p><a id="more"></a><h2 id="&#x5982;&#x4F55;&#x7406;&#x89E3;HTTP&#x534F;&#x8BAE;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;"><a href="#&#x5982;&#x4F55;&#x7406;&#x89E3;HTTP&#x534F;&#x8BAE;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;" class="headerlink" title="&#x5982;&#x4F55;&#x7406;&#x89E3;HTTP&#x534F;&#x8BAE;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;"></a>&#x5982;&#x4F55;&#x7406;&#x89E3;HTTP&#x534F;&#x8BAE;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;</h2><p>&#x3000;&#x3000;HTTP&#x534F;&#x8BAE;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x534F;&#x8BAE;&#x5BF9;&#x4E8E;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x6CA1;&#x6709;&#x8BB0;&#x5FC6;&#x80FD;&#x529B;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x77E5;&#x9053;&#x5BA2;&#x6237;&#x7AEF;&#x662F;&#x4EC0;&#x4E48;&#x72B6;&#x6001;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x7F51;&#x9875;&#x548C;&#x4F60;&#x4E4B;&#x524D;&#x6253;&#x5F00;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x7F51;&#x9875;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8054;&#x7CFB;&#x3002;HTTP&#x662F;&#x4E00;&#x4E2A;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x9762;&#x5411;&#x8FDE;&#x63A5;&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x65E0;&#x72B6;&#x6001;&#x4E0D;&#x4EE3;&#x8868;HTTP&#x4E0D;&#x80FD;&#x4FDD;&#x6301;TCP&#x8FDE;&#x63A5;&#xFF0C;&#x66F4;&#x4E0D;&#x80FD;&#x4EE3;&#x8868;HTTP&#x4F7F;&#x7528;&#x7684;&#x662F;UDP&#x534F;&#x8BAE;&#xFF08;&#x65E0;&#x8FDE;&#x63A5;&#xFF09;&#x3002;</p><h2 id="&#x4EC0;&#x4E48;&#x662F;&#x957F;&#x8FDE;&#x63A5;&#x3001;&#x77ED;&#x8FDE;&#x63A5;&#xFF1F;"><a href="#&#x4EC0;&#x4E48;&#x662F;&#x957F;&#x8FDE;&#x63A5;&#x3001;&#x77ED;&#x8FDE;&#x63A5;&#xFF1F;" class="headerlink" title="&#x4EC0;&#x4E48;&#x662F;&#x957F;&#x8FDE;&#x63A5;&#x3001;&#x77ED;&#x8FDE;&#x63A5;&#xFF1F;"></a>&#x4EC0;&#x4E48;&#x662F;&#x957F;&#x8FDE;&#x63A5;&#x3001;&#x77ED;&#x8FDE;&#x63A5;&#xFF1F;</h2><p>&#x3000;&#x3000;<strong>&#x5728;HTTP/1.0&#x4E2D;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x77ED;&#x8FDE;&#x63A5;</strong>&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x548C;&#x670D;&#x52A1;&#x5668;&#x6BCF;&#x8FDB;&#x884C;&#x4E00;&#x6B21;HTTP&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x5EFA;&#x7ACB;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#xFF0C;&#x4F46;&#x4EFB;&#x52A1;&#x7ED3;&#x675F;&#x5C31;&#x4E2D;&#x65AD;&#x8FDE;&#x63A5;&#x3002;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x7684;&#x67D0;&#x4E2A;HTML&#x6216;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x7684; Web&#x9875;&#x4E2D;&#x5305;&#x542B;&#x6709;&#x5176;&#x4ED6;&#x7684;Web&#x8D44;&#x6E90;&#xFF0C;&#x5982;JavaScript&#x6587;&#x4EF6;&#x3001;&#x56FE;&#x50CF;&#x6587;&#x4EF6;&#x3001;CSS&#x6587;&#x4EF6;&#x7B49;&#xFF1B;&#x5F53;&#x6D4F;&#x89C8;&#x5668;&#x6BCF;&#x9047;&#x5230;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;Web&#x8D44;&#x6E90;&#xFF0C;&#x5C31;&#x4F1A;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;HTTP&#x4F1A;&#x8BDD;&#x3002;</p><p>&#x4F46;&#x4ECE; <strong>HTTP/1.1&#x8D77;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x957F;&#x8FDE;&#x63A5;</strong>&#xFF0C;&#x7528;&#x4EE5;&#x4FDD;&#x6301;&#x8FDE;&#x63A5;&#x7279;&#x6027;&#x3002;&#x4F7F;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#x7684;HTTP&#x534F;&#x8BAE;&#xFF0C;&#x4F1A;&#x5728;&#x54CD;&#x5E94;&#x5934;&#x6709;&#x52A0;&#x5165;&#x8FD9;&#x884C;&#x4EE3;&#x7801;&#xFF1A;</p><p><code>Connection:keep-alive</code></p><p>&#x5728;&#x4F7F;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#x6253;&#x5F00;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x7528;&#x4E8E;&#x4F20;&#x8F93;HTTP&#x6570;&#x636E;&#x7684; TCP&#x8FDE;&#x63A5;&#x4E0D;&#x4F1A;&#x5173;&#x95ED;&#xFF0C;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x518D;&#x6B21;&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x7F51;&#x9875;&#xFF0C;&#x4F1A;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x8FD9;&#x4E00;&#x6761;&#x5DF2;&#x7ECF;&#x5EFA;&#x7ACB;&#x7684;&#x8FDE;&#x63A5;&#x3002;Keep-Alive&#x4E0D;&#x4F1A;&#x6C38;&#x4E45;&#x4FDD;&#x6301;&#x8FDE;&#x63A5;&#xFF0C;&#x5B83;&#x6709;&#x4E00;&#x4E2A;&#x4FDD;&#x6301;&#x65F6;&#x95F4;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x8F6F;&#x4EF6;&#xFF08;&#x5982;Apache&#xFF09;&#x4E2D;&#x8BBE;&#x5B9A;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x3002;&#x5B9E;&#x73B0;&#x957F;&#x8FDE;&#x63A5;&#x8981;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x90FD;&#x652F;&#x6301;&#x957F;&#x8FDE;&#x63A5;&#x3002;</p><p>HTTP&#x534F;&#x8BAE;&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#xFF0C;&#x5B9E;&#x8D28;&#x4E0A;&#x662F;TCP&#x534F;&#x8BAE;&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#x3002;</p><h3 id="TCP&#x8FDE;&#x63A5;"><a href="#TCP&#x8FDE;&#x63A5;" class="headerlink" title="TCP&#x8FDE;&#x63A5;"></a>TCP&#x8FDE;&#x63A5;</h3><p>&#x3000;&#x3000;&#x5F53;&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x65F6;&#x91C7;&#x7528;TCP&#x534F;&#x8BAE;&#x65F6;&#xFF0C;&#x5728;&#x771F;&#x6B63;&#x7684;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#xFF0C;server&#x4E0E;client&#x4E4B;&#x95F4;&#x5FC5;&#x987B;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x5F53;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x53CC;&#x65B9;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x8FDE;&#x63A5; &#x65F6;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x91CA;&#x653E;&#x8FD9;&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x8FDE;&#x63A5;&#x7684;&#x5EFA;&#x7ACB;&#x662F;&#x9700;&#x8981;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x7684;&#xFF0C;&#x800C;&#x91CA;&#x653E;&#x5219;&#x9700;&#x8981;4&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x6240;&#x4EE5;&#x8BF4;&#x6BCF;&#x4E2A;&#x8FDE;&#x63A5;&#x7684;&#x5EFA;&#x7ACB;&#x90FD;&#x662F;&#x9700;&#x8981;&#x8D44;&#x6E90;&#x6D88;&#x8017;&#x548C;&#x65F6;&#x95F4;&#x6D88;&#x8017;&#x7684;</p><p>&#x7ECF;&#x5178;&#x7684;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x793A;&#x610F;&#x56FE;&#xFF1A;</p><p><img src="/2019/09/12/&#x8F6C;&#x8F7D;-HTTP&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;/pic1.png" alt></p><p>&#x7ECF;&#x5178;&#x7684;&#x56DB;&#x6B21;&#x63E1;&#x624B;&#x5173;&#x95ED;&#x56FE;&#xFF1A;</p><p><img src="/2019/09/12/&#x8F6C;&#x8F7D;-HTTP&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;/pic2.png" alt></p><h3 id="TCP&#x77ED;&#x8FDE;&#x63A5;"><a href="#TCP&#x77ED;&#x8FDE;&#x63A5;" class="headerlink" title="TCP&#x77ED;&#x8FDE;&#x63A5;"></a>TCP&#x77ED;&#x8FDE;&#x63A5;</h3><p>&#x3000;&#x3000;&#x6211;&#x4EEC;&#x6A21;&#x62DF;&#x4E00;&#x4E0B;TCP&#x77ED;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#xFF0C;client&#x5411;server&#x53D1;&#x8D77;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF0C;server&#x63A5;&#x5230;&#x8BF7;&#x6C42;&#xFF0C;&#x7136;&#x540E;&#x53CC;&#x65B9;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x3002;client&#x5411;server &#x53D1;&#x9001;&#x6D88;&#x606F;&#xFF0C;server&#x56DE;&#x5E94;client&#xFF0C;&#x7136;&#x540E;&#x4E00;&#x6B21;&#x8BFB;&#x5199;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x53CC;&#x65B9;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x90FD;&#x53EF;&#x4EE5;&#x53D1;&#x8D77;close&#x64CD;&#x4F5C;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E00;&#x822C;&#x90FD;&#x662F;client&#x5148;&#x53D1;&#x8D77; close&#x64CD;&#x4F5C;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF0C;&#x4E00;&#x822C;&#x7684;server&#x4E0D;&#x4F1A;&#x56DE;&#x590D;&#x5B8C;client&#x540E;&#x7ACB;&#x5373;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x7684;&#xFF0C;&#x5F53;&#x7136;&#x4E0D;&#x6392;&#x9664;&#x6709;&#x7279;&#x6B8A;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x63CF;&#x8FF0;&#x770B;&#xFF0C;&#x77ED;&#x8FDE;&#x63A5;&#x4E00;&#x822C;&#x53EA;&#x4F1A;&#x5728; client/server&#x95F4;&#x4F20;&#x9012;&#x4E00;&#x6B21;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;</p><p>&#x77ED;&#x8FDE;&#x63A5;&#x7684;&#x4F18;&#x70B9;&#x662F;&#xFF1A;&#x7BA1;&#x7406;&#x8D77;&#x6765;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5B58;&#x5728;&#x7684;&#x8FDE;&#x63A5;&#x90FD;&#x662F;&#x6709;&#x7528;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x63A7;&#x5236;&#x624B;&#x6BB5;</p><h3 id="TCP&#x957F;&#x8FDE;&#x63A5;"><a href="#TCP&#x957F;&#x8FDE;&#x63A5;" class="headerlink" title="TCP&#x957F;&#x8FDE;&#x63A5;"></a>TCP&#x957F;&#x8FDE;&#x63A5;</h3><p>&#x3000;&#x3000;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x518D;&#x6A21;&#x62DF;&#x4E00;&#x4E0B;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#xFF0C;client&#x5411;server&#x53D1;&#x8D77;&#x8FDE;&#x63A5;&#xFF0C;server&#x63A5;&#x53D7;client&#x8FDE;&#x63A5;&#xFF0C;&#x53CC;&#x65B9;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x3002;Client&#x4E0E;server&#x5B8C;&#x6210;&#x4E00;&#x6B21;&#x8BFB;&#x5199;&#x4E4B;&#x540E;&#xFF0C;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x8FDE;&#x63A5;&#x5E76;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x5173;&#x95ED;&#xFF0C;&#x540E;&#x7EED;&#x7684;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x4F1A;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x8FDE;&#x63A5;&#x3002;</p><p>&#x9996;&#x5148;&#x8BF4;&#x4E00;&#x4E0B;TCP/IP&#x8BE6;&#x89E3;&#x4E0A;&#x8BB2;&#x5230;&#x7684;TCP&#x4FDD;&#x6D3B;&#x529F;&#x80FD;&#xFF0C;&#x4FDD;&#x6D3B;&#x529F;&#x80FD;&#x4E3B;&#x8981;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x5E94;&#x7528;&#x63D0;&#x4F9B;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5E94;&#x7528;&#x5E0C;&#x671B;&#x77E5;&#x9053;&#x5BA2;&#x6237;&#x4E3B;&#x673A;&#x662F;&#x5426;&#x5D29;&#x6E83;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x4EE3;&#x8868;&#x5BA2;&#x6237;&#x4F7F;&#x7528;&#x8D44;&#x6E90;&#x3002;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x5DF2;&#x7ECF;&#x6D88;&#x5931;&#xFF0C;&#x4F7F;&#x5F97;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4FDD;&#x7559;&#x4E00;&#x4E2A;&#x534A;&#x5F00;&#x653E;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x670D;&#x52A1;&#x5668;&#x53C8;&#x5728;&#x7B49;&#x5F85;&#x6765;&#x81EA;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x5E94;&#x8FDC;&#x7B49;&#x5F85;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4FDD;&#x6D3B;&#x529F;&#x80FD;&#x5C31;&#x662F;&#x8BD5;&#x56FE;&#x5728;&#x670D;&#x52A1; &#x5668;&#x7AEF;&#x68C0;&#x6D4B;&#x5230;&#x8FD9;&#x79CD;&#x534A;&#x5F00;&#x653E;&#x7684;&#x8FDE;&#x63A5;&#x3002;</p><p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x7684;&#x8FDE;&#x63A5;&#x5728;&#x4E24;&#x5C0F;&#x65F6;&#x5185;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x7684;&#x52A8;&#x4F5C;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x5C31;&#x5411;&#x5BA2;&#x6237;&#x53D1;&#x4E00;&#x4E2A;&#x63A2;&#x6D4B;&#x62A5;&#x6587;&#x6BB5;&#xFF0C;&#x5BA2;&#x6237;&#x4E3B;&#x673A;&#x5FC5;&#x987B;&#x5904;&#x4E8E;&#x4EE5;&#x4E0B;4&#x4E2A;&#x72B6;&#x6001;&#x4E4B;&#x4E00;&#xFF1A;</p><ol><li>&#x5BA2;&#x6237;&#x4E3B;&#x673A;&#x4F9D;&#x7136;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x5E76;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x8FBE;&#x3002;&#x5BA2;&#x6237;&#x7684;TCP&#x54CD;&#x5E94;&#x6B63;&#x5E38;&#xFF0C;&#x800C;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x77E5;&#x9053;&#x5BF9;&#x65B9;&#x662F;&#x6B63;&#x5E38;&#x7684;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5728;&#x4E24;&#x5C0F;&#x65F6;&#x540E;&#x5C06;&#x4FDD;&#x6D3B;&#x5B9A;&#x65F6;&#x5668;&#x590D;&#x4F4D;&#x3002;</li><li>&#x5BA2;&#x6237;&#x4E3B;&#x673A;&#x5DF2;&#x7ECF;&#x5D29;&#x6E83;&#xFF0C;&#x5E76;&#x4E14;&#x5173;&#x95ED;&#x6216;&#x8005;&#x6B63;&#x5728;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x3002;&#x5728;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BA2;&#x6237;&#x7684;TCP&#x90FD;&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#x3002;&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x4E0D;&#x80FD;&#x6536;&#x5230;&#x5BF9;&#x63A2;&#x6D4B;&#x7684;&#x54CD;&#x5E94;&#xFF0C;&#x5E76;&#x5728;75&#x79D2;&#x540E;&#x8D85;&#x65F6;&#x3002;&#x670D;&#x52A1;&#x5668;&#x603B;&#x5171;&#x53D1;&#x9001;10&#x4E2A;&#x8FD9;&#x6837;&#x7684;&#x63A2;&#x6D4B; &#xFF0C;&#x6BCF;&#x4E2A;&#x95F4;&#x9694;75&#x79D2;&#x3002;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x54CD;&#x5E94;&#xFF0C;&#x5B83;&#x5C31;&#x8BA4;&#x4E3A;&#x5BA2;&#x6237;&#x4E3B;&#x673A;&#x5DF2;&#x7ECF;&#x5173;&#x95ED;&#x5E76;&#x7EC8;&#x6B62;&#x8FDE;&#x63A5;&#x3002;</li><li>&#x5BA2;&#x6237;&#x4E3B;&#x673A;&#x5D29;&#x6E83;&#x5E76;&#x5DF2;&#x7ECF;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x3002;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x5BF9;&#x5176;&#x4FDD;&#x6D3B;&#x63A2;&#x6D4B;&#x7684;&#x54CD;&#x5E94;&#xFF0C;&#x8FD9;&#x4E2A;&#x54CD;&#x5E94;&#x662F;&#x4E00;&#x4E2A;&#x590D;&#x4F4D;&#xFF0C;&#x4F7F;&#x5F97;&#x670D;&#x52A1;&#x5668;&#x7EC8;&#x6B62;&#x8FD9;&#x4E2A;&#x8FDE;&#x63A5;&#x3002;</li><li>&#x5BA2;&#x6237;&#x673A;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x53EF;&#x8FBE;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0E;2&#x7C7B;&#x4F3C;&#xFF0C;TCP&#x80FD;&#x53D1;&#x73B0;&#x7684;&#x5C31;&#x662F;&#x6CA1;&#x6709;&#x6536;&#x5230;&#x63A2;&#x67E5;&#x7684;&#x54CD;&#x5E94;&#x3002;</li></ol><h3 id="&#x957F;&#x8FDE;&#x63A5;&#x77ED;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;"><a href="#&#x957F;&#x8FDE;&#x63A5;&#x77ED;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x957F;&#x8FDE;&#x63A5;&#x77ED;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;"></a>&#x957F;&#x8FDE;&#x63A5;&#x77ED;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x77ED;&#x8FDE;&#x63A5;&#x7684;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#x662F;&#xFF1A;</span><br><span class="line">&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x2014;&#x2014;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x2014;&#x2014;&#x5173;&#x95ED;&#x8FDE;&#x63A5;...&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x2014;&#x2014;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x2014;&#x2014;&#x5173;&#x95ED;&#x8FDE;&#x63A5;</span><br><span class="line">&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#x662F;&#xFF1A;</span><br><span class="line">&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x2014;&#x2014;&#x6570;&#x636E;&#x4F20;&#x8F93;...&#xFF08;&#x4FDD;&#x6301;&#x8FDE;&#x63A5;&#xFF09;...&#x6570;&#x636E;&#x4F20;&#x8F93;&#x2014;&#x2014;&#x5173;&#x95ED;&#x8FDE;&#x63A5;</span><br></pre></td></tr></table></figure><h2 id="&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#x7684;&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;"><a href="#&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#x7684;&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;" class="headerlink" title="&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#x7684;&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;"></a>&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#x7684;&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;</h2><p>&#x3000;&#x3000;&#x7531;&#x4E0A;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;<strong>&#x957F;&#x8FDE;&#x63A5;</strong>&#x53EF;&#x4EE5;<strong>&#x7701;&#x53BB;&#x8F83;&#x591A;&#x7684;TCP&#x5EFA;&#x7ACB;&#x548C;&#x5173;&#x95ED;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x51CF;&#x5C11;&#x6D6A;&#x8D39;&#xFF0C;&#x8282;&#x7EA6;&#x65F6;&#x95F4;</strong>&#x3002;&#x5BF9;&#x4E8E;&#x9891;&#x7E41;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x7684;&#x5BA2;&#x6237;&#x6765;&#x8BF4;&#xFF0C;&#x8F83;&#x9002;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#x3002;&#x4E0D;&#x8FC7;&#x8FD9;&#x91CC;<strong>&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x95EE;&#x9898;</strong>&#xFF0C;<strong>&#x5B58;&#x6D3B;&#x529F;&#x80FD;&#x7684;&#x63A2;&#x6D4B;&#x5468;&#x671F;&#x592A;&#x957F;</strong>&#xFF0C;&#x8FD8;&#x6709;&#x5C31;&#x662F;&#x5B83;&#x53EA;&#x662F;&#x63A2;&#x6D4B;TCP&#x8FDE;&#x63A5;&#x7684;&#x5B58;&#x6D3B;&#xFF0C;&#x5C5E;&#x4E8E;&#x6BD4;&#x8F83;&#x65AF;&#x6587;&#x7684;&#x505A;&#x6CD5;&#xFF0C;&#x9047;&#x5230;&#x6076;&#x610F;&#x7684;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x4FDD;&#x6D3B;&#x529F;&#x80FD;&#x5C31;&#x4E0D;&#x591F;&#x4F7F;&#x4E86;&#x3002;&#x5728;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#x4E0B;&#xFF0C;client&#x7AEF;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x5173;&#x95ED;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;<strong>Client&#x4E0E;server&#x4E4B;&#x95F4;&#x7684;&#x8FDE;&#x63A5;&#x5982;&#x679C;&#x4E00;&#x76F4;&#x4E0D;&#x5173;&#x95ED;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x968F;&#x7740;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;server&#x65E9;&#x665A;&#x6709;&#x625B;&#x4E0D;&#x4F4F;&#x7684;&#x65F6;&#x5019;</strong>&#xFF0C;&#x8FD9;&#x65F6;&#x5019;server&#x7AEF;&#x9700;&#x8981;&#x91C7;&#x53D6;&#x4E00;&#x4E9B;&#x7B56;&#x7565;&#xFF0C;&#x5982;&#x5173;&#x95ED;&#x4E00;&#x4E9B;&#x957F;&#x65F6;&#x95F4;&#x6CA1;&#x6709;&#x8BFB;&#x5199;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD9;&#x6837;&#x53EF; &#x4EE5;&#x907F;&#x514D;&#x4E00;&#x4E9B;&#x6076;&#x610F;&#x8FDE;&#x63A5;&#x5BFC;&#x81F4;server&#x7AEF;&#x670D;&#x52A1;&#x53D7;&#x635F;&#xFF1B;&#x5982;&#x679C;&#x6761;&#x4EF6;&#x518D;&#x5141;&#x8BB8;&#x5C31;&#x53EF;&#x4EE5;&#x4EE5;&#x5BA2;&#x6237;&#x7AEF;&#x673A;&#x5668;&#x4E3A;&#x9897;&#x7C92;&#x5EA6;&#xFF0C;&#x9650;&#x5236;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6700;&#x5927;&#x957F;&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x5B8C;&#x5168;&#x907F;&#x514D;&#x67D0;&#x4E2A;&#x86CB;&#x75BC;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x7D2F;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x3002;</p><p><strong>&#x77ED;&#x8FDE;&#x63A5;</strong>&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x6765;&#x8BF4;&#x7BA1;&#x7406;&#x8F83;&#x4E3A;&#x7B80;&#x5355;&#xFF0C;&#x5B58;&#x5728;&#x7684;&#x8FDE;&#x63A5;&#x90FD;&#x662F;&#x6709;&#x7528;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x63A7;&#x5236;&#x624B;&#x6BB5;&#x3002;&#x4F46;&#x5982;&#x679C;&#x5BA2;&#x6237;<strong>&#x8BF7;&#x6C42;&#x9891;&#x7E41;</strong>&#xFF0C;&#x5C06;&#x5728;<strong>TCP&#x7684;&#x5EFA;&#x7ACB;&#x548C;&#x5173;&#x95ED;&#x64CD;&#x4F5C;&#x4E0A;&#x6D6A;&#x8D39;&#x65F6;&#x95F4;&#x548C;&#x5E26;&#x5BBD;</strong>&#x3002;</p><p>&#x957F;&#x8FDE;&#x63A5;&#x548C;&#x77ED;&#x8FDE;&#x63A5;&#x7684;&#x4EA7;&#x751F;&#x5728;&#x4E8E;client&#x548C;server&#x91C7;&#x53D6;&#x7684;&#x5173;&#x95ED;&#x7B56;&#x7565;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#x91C7;&#x7528;&#x5177;&#x4F53;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x6CA1;&#x6709;&#x5341;&#x5168;&#x5341;&#x7F8E;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x53EA;&#x6709;&#x5408;&#x9002;&#x7684;&#x9009;&#x62E9;&#x3002;</p><h2 id="&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x77ED;&#x8FDE;&#x63A5;&#xFF1F;"><a href="#&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x77ED;&#x8FDE;&#x63A5;&#xFF1F;" class="headerlink" title="&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x77ED;&#x8FDE;&#x63A5;&#xFF1F;"></a>&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x77ED;&#x8FDE;&#x63A5;&#xFF1F;</h2><p> &#x3000;&#x3000;<strong>&#x957F;&#x8FDE;&#x63A5;</strong>&#x591A;&#x7528;&#x4E8E;&#x64CD;&#x4F5C;&#x9891;&#x7E41;&#xFF0C;&#x70B9;&#x5BF9;&#x70B9;&#x7684;&#x901A;&#x8BAF;&#xFF0C;&#x800C;&#x4E14;&#x8FDE;&#x63A5;&#x6570;&#x4E0D;&#x80FD;&#x592A;&#x591A;&#x60C5;&#x51B5;&#xFF0C;&#x3002;&#x6BCF;&#x4E2A;TCP&#x8FDE;&#x63A5;&#x90FD;&#x9700;&#x8981;&#x4E09;&#x6B65;&#x63E1;&#x624B;&#xFF0C;&#x8FD9;&#x9700;&#x8981;&#x65F6;&#x95F4;&#xFF0C;&#x5982;&#x679C;&#x6BCF;&#x4E2A;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x5148;&#x8FDE;&#x63A5;&#xFF0C;&#x518D;&#x64CD;&#x4F5C;&#x7684;&#x8BDD;&#x90A3;&#x4E48;&#x5904;&#x7406;&#x901F;&#x5EA6;&#x4F1A;&#x964D;&#x4F4E;&#x5F88;&#x591A;&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x4E2A;&#x64CD;&#x4F5C;&#x5B8C;&#x540E;&#x90FD;&#x4E0D;&#x65AD;&#x5F00;&#xFF0C;&#x6B21;&#x5904;&#x7406;&#x65F6;&#x76F4;&#x63A5;&#x53D1;&#x9001;&#x6570;&#x636E;&#x5305;&#x5C31;OK&#x4E86;&#xFF0C;&#x4E0D;&#x7528;&#x5EFA;&#x7ACB;TCP&#x8FDE;&#x63A5;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#xFF0C; &#x5982;&#x679C;&#x7528;&#x77ED;&#x8FDE;&#x63A5;&#x9891;&#x7E41;&#x7684;&#x901A;&#x4FE1;&#x4F1A;&#x9020;&#x6210;socket&#x9519;&#x8BEF;&#xFF0C;&#x800C;&#x4E14;&#x9891;&#x7E41;&#x7684;socket &#x521B;&#x5EFA;&#x4E5F;&#x662F;&#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x6D6A;&#x8D39;&#x3002; </p><p>&#x3000;&#x3000;&#x800C;&#x50CF;WEB&#x7F51;&#x7AD9;&#x7684;http&#x670D;&#x52A1;&#x4E00;&#x822C;&#x90FD;&#x7528;<strong>&#x77ED;&#x94FE;&#x63A5;</strong>&#xFF0C;&#x56E0;&#x4E3A;&#x957F;&#x8FDE;&#x63A5;&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x7AEF;&#x6765;&#x8BF4;&#x4F1A;&#x8017;&#x8D39;&#x4E00;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x800C;&#x50CF;WEB&#x7F51;&#x7AD9;&#x8FD9;&#x4E48;&#x9891;&#x7E41;&#x7684;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x751A;&#x81F3;&#x4E0A;&#x4EBF;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#x7528;&#x77ED;&#x8FDE;&#x63A5;&#x4F1A;&#x66F4;&#x7701;&#x4E00;&#x4E9B;&#x8D44;&#x6E90;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x4E14;&#x540C;&#x65F6;&#x6709;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5982;&#x679C;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x90FD;&#x5360;&#x7528;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x53EF;&#x60F3;&#x800C;&#x77E5;&#x5427;&#x3002;&#x6240;&#x4EE5;&#x5E76;&#x53D1;&#x91CF;&#x5927;&#xFF0C;&#x4F46;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x65E0;&#x9700;&#x9891;&#x7E41;&#x64CD;&#x4F5C;&#x60C5;&#x51B5;&#x4E0B;&#x9700;&#x7528;&#x77ED;&#x8FDE;&#x597D;&#x3002;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://www.cnblogs.com/0201zcr/p/4694945.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.cnblogs.com/0201zcr/p/4694945.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;HTTP&amp;#x534F;&amp;#x8BAE;&amp;#x4E0E;TCP-IP&amp;#x534F;&amp;#x8BAE;&amp;#x7684;&amp;#x5173;&amp;#x7CFB;&quot;&gt;&lt;a href=&quot;#HTTP&amp;#x534F;&amp;#x8BAE;&amp;#x4E0E;TCP-IP&amp;#x534F;&amp;#x8BAE;&amp;#x7684;&amp;#x5173;&amp;#x7CFB;&quot; class=&quot;headerlink&quot; title=&quot;HTTP&amp;#x534F;&amp;#x8BAE;&amp;#x4E0E;TCP/IP&amp;#x534F;&amp;#x8BAE;&amp;#x7684;&amp;#x5173;&amp;#x7CFB;&quot;&gt;&lt;/a&gt;HTTP&amp;#x534F;&amp;#x8BAE;&amp;#x4E0E;TCP/IP&amp;#x534F;&amp;#x8BAE;&amp;#x7684;&amp;#x5173;&amp;#x7CFB;&lt;/h2&gt;&lt;p&gt;&amp;#x3000;&amp;#x3000;HTTP&amp;#x7684;&amp;#x957F;&amp;#x8FDE;&amp;#x63A5;&amp;#x548C;&amp;#x77ED;&amp;#x8FDE;&amp;#x63A5;&amp;#x672C;&amp;#x8D28;&amp;#x4E0A;&amp;#x662F;TCP&amp;#x957F;&amp;#x8FDE;&amp;#x63A5;&amp;#x548C;&amp;#x77ED;&amp;#x8FDE;&amp;#x63A5;&amp;#x3002;HTTP&amp;#x5C5E;&amp;#x4E8E;&amp;#x5E94;&amp;#x7528;&amp;#x5C42;&amp;#x534F;&amp;#x8BAE;&amp;#xFF0C;&amp;#x5728;&amp;#x4F20;&amp;#x8F93;&amp;#x5C42;&amp;#x4F7F;&amp;#x7528;TCP&amp;#x534F;&amp;#x8BAE;&amp;#xFF0C;&amp;#x5728;&amp;#x7F51;&amp;#x7EDC;&amp;#x5C42;&amp;#x4F7F;&amp;#x7528;IP&amp;#x534F;&amp;#x8BAE;&amp;#x3002;IP&amp;#x534F;&amp;#x8BAE;&amp;#x4E3B;&amp;#x8981;&amp;#x89E3;&amp;#x51B3;&amp;#x7F51;&amp;#x7EDC;&amp;#x8DEF;&amp;#x7531;&amp;#x548C;&amp;#x5BFB;&amp;#x5740;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;TCP&amp;#x534F;&amp;#x8BAE;&amp;#x4E3B;&amp;#x8981;&amp;#x89E3;&amp;#x51B3;&amp;#x5982;&amp;#x4F55;&amp;#x5728;IP&amp;#x5C42;&amp;#x4E4B;&amp;#x4E0A;&amp;#x53EF;&amp;#x9760;&amp;#x7684;&amp;#x4F20;&amp;#x9012;&amp;#x6570;&amp;#x636E;&amp;#x5305;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5728;&amp;#x7F51;&amp;#x7EDC;&amp;#x4E0A;&amp;#x7684;&amp;#x53E6;&amp;#x4E00;&amp;#x7AEF;&amp;#x6536;&amp;#x5230;&amp;#x53D1;&amp;#x7AEF;&amp;#x53D1;&amp;#x51FA;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x5305;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x987A;&amp;#x5E8F;&amp;#x4E0E;&amp;#x53D1;&amp;#x51FA;&amp;#x987A;&amp;#x5E8F;&amp;#x4E00;&amp;#x81F4;&amp;#x3002;TCP&amp;#x6709;&amp;#x53EF;&amp;#x9760;&amp;#xFF0C;&amp;#x9762;&amp;#x5411;&amp;#x8FDE;&amp;#x63A5;&amp;#x7684;&amp;#x7279;&amp;#x70B9;&amp;#x3002;&lt;/p&gt;
    
    </summary>
    
      <category term="计算机网络" scheme="https://cqh-i.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="HTTP长连接和短连接" scheme="https://cqh-i.github.io/tags/HTTP%E9%95%BF%E8%BF%9E%E6%8E%A5%E5%92%8C%E7%9F%AD%E8%BF%9E%E6%8E%A5/"/>
    
  </entry>
  
  <entry>
    <title>(转载)Java接口实例化问题</title>
    <link href="https://cqh-i.github.io/2019/09/11/%E8%BD%AC%E8%BD%BD-Java%E6%8E%A5%E5%8F%A3%E5%AE%9E%E4%BE%8B%E5%8C%96%E9%97%AE%E9%A2%98/"/>
    <id>https://cqh-i.github.io/2019/09/11/转载-Java接口实例化问题/</id>
    <published>2019-09-11T15:49:56.000Z</published>
    <updated>2019-09-11T16:31:46.429Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://blog.csdn.net/stevenhu_223/article/details/8064815" target="_blank" rel="noopener">https://blog.csdn.net/stevenhu_223/article/details/8064815</a></p><p>&#x5148;&#x8BF4;&#x7ED3;&#x8BBA;: <strong>&#x63A5;&#x53E3;&#x4E0D;&#x53EF;&#x4EE5;&#x5B9E;&#x4F8B;&#x5316;&#x3002;&#x4F46;&#x662F;&#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x6307;&#x5411;&#x5B83;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x5BF9;&#x8C61;&#x3002;</strong></p><p>&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#xFF0C;&#x5728;java&#x4E2D;&#x63A5;&#x53E3;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x5B9E;&#x4F8B;&#x5316;&#x3002;&#x4F46;&#x662F;&#x6709;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x770B;&#x5230;&#x8FD9;&#x79CD;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#xFF08;&#x5047;&#x8C61;&#x7684;&#x6240;&#x8C13;&#x5185;&#x90E8;&#x7C7B;&#xFF09;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x5982;&#x4E0B;&#xFF1A;&#x7ED1;&#x5B9A;View&#x5BF9;&#x8C61;&#x7684;&#x76D1;&#x542C;&#x65B9;&#x6CD5;&#x8C03;&#x7528;</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">View.setOnClickListetener(<span class="keyword">new</span> OnClickListener() {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></table></figure><p>OnClickListener&#x662F;&#x63A5;&#x53E3;&#xFF0C;&#x5728;setOnClickListener()&#x65B9;&#x6CD5;&#x4E2D;&#x5374;new&#x4E86;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#xFF1F;&#x8FD9;&#x4E2A;&#x662F;&#x600E;&#x4E48;&#x56DE;&#x4E8B;&#xFF1F;&#x4E0D;&#x662F;&#x8BF4;&#x63A5;&#x53E3;&#x4E0D;&#x80FD;&#x5B9E;&#x4F8B;&#x5316;&#x4E48;&#xFF1F;&#x563F;&#x563F;&#xFF0C;&#x5176;&#x5B9E;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x672C;&#x4EBA;&#x4E5F;&#x7EA0;&#x7ED3;&#x4E86;&#x5F88;&#x4E45;&#x3002;&#x540E;&#x9762;&#x7EC8;&#x4E8E;&#x6478;&#x6E05;&#x4E86;&#x5927;&#x6982;&#x4E86;&#x3002;</p><p>&#x5176;&#x5B9E;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x865A;&#x62DF;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x63A5;&#x53E3;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x95F4;&#x63A5;&#x5B9E;&#x4F8B;&#x5316;&#x63A5;&#x53E3;&#x3002;&#x5728;&#x8FD9;&#x4E2A;setOnClickListener()&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x4F20;&#x5165;&#x7684;&#x91CD;&#x70B9;&#x662F;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x7684;onClick()&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5728;View&#x88AB;&#x70B9;&#x51FB;&#x65F6;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4F1A;&#x4EA7;&#x751F;&#x6211;&#x4EEC;&#x6240;&#x9700;&#x6C42;&#x7684;&#x76F8;&#x5E94;&#x7684;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;&#x3002;&#x90A3;&#x4E48;&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x4E4B;&#x540E;&#xFF0C;&#x5176;&#x5B9E;&#x8FD9;&#x4E2A;OnClickListener&#x63A5;&#x53E3;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x8FD9;&#x4E2A;&#x6240;&#x8C13;&#x7684;&#x5047;&#x8C61;&#x5B9E;&#x4F8B;&#x5316;&#x5176;&#x5B9E;&#x662F;&#x9189;&#x7FC1;&#x4E4B;&#x610F;&#x4E0D;&#x5728;&#x5B9E;&#x4F8B;&#x5316;&#x63A5;&#x53E3;&#x800C;&#x662F;&#x5728;&#x4E8E;OnClick()&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#x3002;</p><p>&#x4E0A;&#x9762;&#x8FD9;&#x79CD;&#x662F;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x662F;&#x4E00;&#x79CD;&#x7B80;&#x5316;&#x5F62;&#x5F0F;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5B83;&#x76F8;&#x5F53;&#x4E8E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;OnClickListener&#x63A5;&#x53E3;&#x7684;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165;setOnClickListetener()&#x65B9;&#x6CD5;&#x3002;</p><p>&#x4E3E;&#x4E2A;&#x5217;&#x5B50;&#xFF0C;&#x4E0A;&#x9762;&#x7684;View&#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x76D1;&#x542C;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#x53E6;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyListener</span> <span class="keyword">implements</span> <span class="title">OnClickListener</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">       </span>{</span><br><span class="line"></span><br><span class="line">             .....</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">View.setOnClickListetener(<span class="keyword">new</span> MyListener);</span><br></pre></td></tr></table></figure><p>&#x4E0A;&#x9762;&#x7684;&#x76D1;&#x542C;&#x7ED1;&#x5B9A;&#x8FD8;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#x53E6;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;&#xFF1A;&#x5C06;View&#x5BF9;&#x8C61;&#x6240;&#x5728;&#x7684;&#x7C7B;&#x5B9E;&#x73B0;OnClickListener&#x63A5;&#x53E3;(implements OnClickListener)&#xFF0C;&#x7136;&#x540E;View.setOnClickListener(this)&#xFF0C;&#x63A5;&#x7740;&#x5728;&#x8FD9;&#x4E2A;View&#x5BF9;&#x8C61;&#x6240;&#x5728;&#x7684;&#x7C7B;&#x91CC;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;onClick()&#x65B9;&#x6CD5;&#x3002;&#x5176;&#x5B9E;&#x4E5F;&#x5C31;&#x662F;&#x548C;&#x7B2C;&#x4E8C;&#x79CD;&#x5F62;&#x5F0F;&#x76F8;&#x7C7B;&#x4F3C;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x7ED1;&#x5B9A;&#x76D1;&#x542C;&#x7684;&#x65B9;&#x5F0F;&#x4E2D;&#xFF0C;&#x5C31;&#x6CA1;&#x6709;&#x6240;&#x8C13;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x63A5;&#x53E3;OnClickListener&#x3002;</p><p> &#x6240;&#x4EE5;&#xFF0C;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x6240;&#x8C13;&#x5047;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x5185;&#x90E8;&#x63A5;&#x53E3;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8981;&#x8FBE;&#x5230;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x8986;&#x76D6;&#x5176;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;onClick()&#x7684;&#x529F;&#x6548;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x8C13;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x63A5;&#x53E3;&#xFF08;&#x8FD9;&#x53EA;&#x662F;&#x7EAF;&#x7CB9;&#x7684;&#x4E2A;&#x4EBA;&#x7406;&#x89E3;&#xFF09;&#x3002;</p><p>&#x518D;&#x4E3E;&#x4E2A;&#x5217;&#x5B50;&#xFF1A;&#x5982;&#x4E0E;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x76F8;&#x5173;&#x7684;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;new Thread(r).start();&#x53C2;&#x6570;r&#x5C31;&#x662F;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x800C;&#x5173;&#x4E8E;&#x53C2;&#x6570;r&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x521B;&#x5EFA;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Runnable r = <span class="keyword">new</span> Runnable()</span><br><span class="line">    {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>{</span><br><span class="line">        ...</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x5904;&#x7684;Runnable&#x662F;&#x63A5;&#x53E3;&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x5374;new&#x4E86;Runnable&#xFF0C;&#x90A3;&#x4E0D;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x5B9E;&#x4F8B;&#x5316;&#x63A5;&#x53E3;&#x5566;&#xFF1F;&#x5176;&#x5B9E;&#x4E0D;&#x7136;&#xFF0C;&#x6B64;&#x5904;&#x4EE3;&#x7801;&#x7684;&#x610F;&#x601D;&#x5C31;&#x662F;new&#x4E86;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#x7684;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#xFF0C;&#x7136;&#x540E;new&#x5F97;&#x5230;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x518D;&#x5411;&#x4E0A;&#x8F6C;&#x578B;&#x4E3A;&#x5B83;&#x5B9E;&#x73B0;&#x7684;&#x63A5;&#x53E3;&#xFF08;&#x539F;&#x59CB;&#x7C7B;&#x578B;&#xFF09;&#x3002;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://blog.csdn.net/stevenhu_223/article/details/8064815&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/stevenhu_223/article/details/8064815&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5148;&amp;#x8BF4;&amp;#x7ED3;&amp;#x8BBA;: &lt;strong&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x4E0D;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x63A5;&amp;#x53E3;&amp;#x5BF9;&amp;#x8C61;&amp;#x53EF;&amp;#x4EE5;&amp;#x6307;&amp;#x5411;&amp;#x5B83;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x7C7B;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#xFF0C;&amp;#x5728;java&amp;#x4E2D;&amp;#x63A5;&amp;#x53E3;&amp;#x4E0D;&amp;#x80FD;&amp;#x76F4;&amp;#x63A5;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x6709;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x770B;&amp;#x5230;&amp;#x8FD9;&amp;#x79CD;&amp;#x533F;&amp;#x540D;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;&amp;#xFF08;&amp;#x5047;&amp;#x8C61;&amp;#x7684;&amp;#x6240;&amp;#x8C13;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;&amp;#xFF09;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&amp;#x7ED1;&amp;#x5B9A;View&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x76D1;&amp;#x542C;&amp;#x65B9;&amp;#x6CD5;&amp;#x8C03;&amp;#x7528;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="Java接口" scheme="https://cqh-i.github.io/tags/Java%E6%8E%A5%E5%8F%A3/"/>
    
  </entry>
  
  <entry>
    <title>(转载)Java 接口可以多继承</title>
    <link href="https://cqh-i.github.io/2019/09/11/%E8%BD%AC%E8%BD%BD-Java-%E6%8E%A5%E5%8F%A3%E5%8F%AF%E4%BB%A5%E5%A4%9A%E7%BB%A7%E6%89%BF/"/>
    <id>https://cqh-i.github.io/2019/09/11/转载-Java-接口可以多继承/</id>
    <published>2019-09-11T10:27:13.000Z</published>
    <updated>2019-09-11T10:44:46.747Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://blog.csdn.net/tiantiandjava/article/details/46514783" target="_blank" rel="noopener">https://blog.csdn.net/tiantiandjava/article/details/46514783</a></p><p><strong>&#x63A5;&#x53E3;&#x662F;&#x5E38;&#x91CF;&#x503C;&#x548C;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x7684;&#x96C6;&#x5408;&#x3002;&#x63A5;&#x53E3;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x62BD;&#x8C61;&#x7C7B;&#x3002;</strong></p><p><strong>java&#x7C7B;&#x662F;&#x5355;&#x7EE7;&#x627F;&#x7684;&#x3002;classB Extends classA</strong></p><p><strong>java&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x591A;&#x7EE7;&#x627F;&#x3002;Interface3 Extends Interface0, Interface1, interface&#x2026;&#x2026;</strong></p><a id="more"></a><p><strong>&#x4EE5;&#x4E0B;&#x662F;spring ApplicationContext &#x63A5;&#x53E3;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x540C;&#x65F6;&#x7EE7;&#x627F;&#x4E86;&#x591A;&#x4E2A;&#x63A5;&#x53E3;</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ApplicationContext</span> <span class="keyword">extends</span> <span class="title">EnvironmentCapable</span>, <span class="title">ListableBeanFactory</span>, <span class="title">HierarchicalBeanFactory</span>,</span></span><br><span class="line"><span class="class"><span class="title">MessageSource</span>, <span class="title">ApplicationEventPublisher</span>, <span class="title">ResourcePatternResolver</span> </span>{</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return the unique id of this application context.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the unique id of the context, or {<span class="doctag">@code</span> null} if none</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">String <span class="title">getId</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return a name for the deployed application that this context belongs to.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> a name for the deployed application, or the empty String by default</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">String <span class="title">getApplicationName</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return a friendly name for this context.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> a display name for this context (never {<span class="doctag">@code</span> null})</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">String <span class="title">getDisplayName</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return the timestamp when this context was first loaded.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the timestamp (ms) when this context was first loaded</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">getStartupDate</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return the parent context, or {<span class="doctag">@code</span> null} if there is no parent</span></span><br><span class="line"><span class="comment"> * and this is the root of the context hierarchy.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the parent context, or {<span class="doctag">@code</span> null} if there is no parent</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">ApplicationContext <span class="title">getParent</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Expose AutowireCapableBeanFactory functionality for this context.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;This is not typically used by application code, except for the purpose of</span></span><br><span class="line"><span class="comment"> * initializing bean instances that live outside of the application context,</span></span><br><span class="line"><span class="comment"> * applying the Spring bean lifecycle (fully or partly) to them.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Alternatively, the internal BeanFactory exposed by the</span></span><br><span class="line"><span class="comment"> * {<span class="doctag">@link</span> ConfigurableApplicationContext} interface offers access to the</span></span><br><span class="line"><span class="comment"> * {<span class="doctag">@link</span> AutowireCapableBeanFactory} interface too. The present method mainly</span></span><br><span class="line"><span class="comment"> * serves as a convenient, specific facility on the ApplicationContext interface.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;&lt;b&gt;<span class="doctag">NOTE:</span> As of 4.2, this method will consistently throw IllegalStateException</span></span><br><span class="line"><span class="comment"> * after the application context has been closed.&lt;/b&gt; In current Spring Framework</span></span><br><span class="line"><span class="comment"> * versions, only refreshable application contexts behave that way; as of 4.2,</span></span><br><span class="line"><span class="comment"> * all application context implementations will be required to comply.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the AutowireCapableBeanFactory for this context</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IllegalStateException if the context does not support the</span></span><br><span class="line"><span class="comment"> * {<span class="doctag">@link</span> AutowireCapableBeanFactory} interface, or does not hold an</span></span><br><span class="line"><span class="comment"> * autowire-capable bean factory yet (e.g. if {<span class="doctag">@code</span> refresh()} has</span></span><br><span class="line"><span class="comment"> * never been called), or if the context has been closed already</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> ConfigurableApplicationContext#refresh()</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> ConfigurableApplicationContext#getBeanFactory()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">AutowireCapableBeanFactory <span class="title">getAutowireCapableBeanFactory</span><span class="params">()</span> <span class="keyword">throws</span> IllegalStateException</span>;</span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure><p><strong>&#x4E0D;&#x5141;&#x8BB8;&#x7C7B;&#x591A;&#x91CD;&#x7EE7;&#x627F;&#x7684;&#x4E3B;&#x8981;&#x539F;&#x56E0;&#x662F;&#xFF0C;&#x5982;&#x679C;A&#x540C;&#x65F6;&#x7EE7;&#x627F;B&#x548C;C&#xFF0C;&#x800C;B&#x548C;C&#x540C;&#x65F6;&#x6709;&#x4E00;&#x4E2A;D&#x65B9;&#x6CD5;&#xFF0C;A&#x5982;&#x4F55;&#x51B3;&#x5B9A;&#x8BE5;&#x7EE7;&#x627F;&#x90A3;&#x4E00;&#x4E2A;&#x5462;&#xFF1F;</strong></p><p><strong>&#x4F46;&#x63A5;&#x53E3;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x63A5;&#x53E3;&#x5168;&#x90FD;&#x662F;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x7EE7;&#x627F;&#x8C01;&#x90FD;&#x65E0;&#x6240;&#x8C13;&#xFF0C;&#x6240;&#x4EE5;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x7EE7;&#x627F;&#x591A;&#x4E2A;&#x63A5;&#x53E3;&#x3002;</strong></p><p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong></p><p><strong>1&#xFF09;&#x4E00;&#x4E2A;&#x7C7B;&#x5982;&#x679C;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5219;&#x8981;&#x5B9E;&#x73B0;&#x8BE5;&#x63A5;&#x53E3;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x3002;</strong></p><p><strong>2&#xFF09;&#x65B9;&#x6CD5;&#x7684;&#x540D;&#x5B57;&#x3001;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x3001;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x4E0E;&#x63A5;&#x53E3;&#x4E2D;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x3002;&#x5982;&#x679C;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x4E0D;&#x662F;void&#xFF0C;&#x5219;&#x65B9;&#x6CD5;&#x4F53;&#x5FC5;&#x987B;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x6761;return&#x8BED;&#x53E5;&#x3002;</strong></p><p><strong>3&#xFF09;&#x56E0;&#x4E3A;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x9ED8;&#x8BA4;&#x662F;public&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x7528;public&#x6765;&#x4FEE;&#x9970;&#xFF08;&#x5426;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;protected&#x7C7B;&#x578B;&#xFF0C;&#x7F29;&#x5C0F;&#x4E86;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528;&#x8303;&#x56F4;&#xFF09;&#x3002;</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://blog.csdn.net/tiantiandjava/article/details/46514783&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/tiantiandjava/article/details/46514783&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x662F;&amp;#x5E38;&amp;#x91CF;&amp;#x503C;&amp;#x548C;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x96C6;&amp;#x5408;&amp;#x3002;&amp;#x63A5;&amp;#x53E3;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x7279;&amp;#x6B8A;&amp;#x7684;&amp;#x62BD;&amp;#x8C61;&amp;#x7C7B;&amp;#x3002;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;java&amp;#x7C7B;&amp;#x662F;&amp;#x5355;&amp;#x7EE7;&amp;#x627F;&amp;#x7684;&amp;#x3002;classB Extends classA&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;java&amp;#x63A5;&amp;#x53E3;&amp;#x53EF;&amp;#x4EE5;&amp;#x591A;&amp;#x7EE7;&amp;#x627F;&amp;#x3002;Interface3 Extends Interface0, Interface1, interface&amp;#x2026;&amp;#x2026;&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="Java接口" scheme="https://cqh-i.github.io/tags/Java%E6%8E%A5%E5%8F%A3/"/>
    
  </entry>
  
  <entry>
    <title>(转载)WebSocket 教程</title>
    <link href="https://cqh-i.github.io/2019/09/11/%E8%BD%AC%E8%BD%BD-WebSocket-%E6%95%99%E7%A8%8B/"/>
    <id>https://cqh-i.github.io/2019/09/11/转载-WebSocket-教程/</id>
    <published>2019-09-11T08:33:01.000Z</published>
    <updated>2019-09-11T09:07:02.623Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://websocket.org/" target="_blank" rel="noopener">WebSocket</a> &#x662F;&#x4E00;&#x79CD;&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x534F;&#x8BAE;&#xFF0C;&#x5F88;&#x591A;&#x9AD8;&#x7EA7;&#x529F;&#x80FD;&#x90FD;&#x9700;&#x8981;&#x5B83;&#x3002;</p><p>&#x672C;&#x6587;&#x4ECB;&#x7ECD; WebSocket &#x534F;&#x8BAE;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x3002;</p><a id="more"></a><p><img src="/2019/09/11/&#x8F6C;&#x8F7D;-WebSocket-&#x6559;&#x7A0B;/pic1.png" alt></p><h2 id="&#x4E00;&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;-WebSocket&#xFF1F;"><a href="#&#x4E00;&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;-WebSocket&#xFF1F;" class="headerlink" title="&#x4E00;&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981; WebSocket&#xFF1F;"></a>&#x4E00;&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981; WebSocket&#xFF1F;</h2><p>&#x521D;&#x6B21;&#x63A5;&#x89E6; WebSocket &#x7684;&#x4EBA;&#xFF0C;&#x90FD;&#x4F1A;&#x95EE;&#x540C;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF1A;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x6709;&#x4E86; HTTP &#x534F;&#x8BAE;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD8;&#x9700;&#x8981;&#x53E6;&#x4E00;&#x4E2A;&#x534F;&#x8BAE;&#xFF1F;&#x5B83;&#x80FD;&#x5E26;&#x6765;&#x4EC0;&#x4E48;&#x597D;&#x5904;&#xFF1F;</p><p>&#x7B54;&#x6848;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x56E0;&#x4E3A; HTTP &#x534F;&#x8BAE;&#x6709;&#x4E00;&#x4E2A;&#x7F3A;&#x9677;&#xFF1A;&#x901A;&#x4FE1;&#x53EA;&#x80FD;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x8D77;&#x3002;</p><p>&#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x4E86;&#x89E3;&#x4ECA;&#x5929;&#x7684;&#x5929;&#x6C14;&#xFF0C;&#x53EA;&#x80FD;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002;HTTP &#x534F;&#x8BAE;&#x505A;&#x4E0D;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E3B;&#x52A8;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x63A8;&#x9001;&#x4FE1;&#x606F;&#x3002;</p><p><img src="/2019/09/11/&#x8F6C;&#x8F7D;-WebSocket-&#x6559;&#x7A0B;/pic2.jpg" alt></p><p>&#x8FD9;&#x79CD;&#x5355;&#x5411;&#x8BF7;&#x6C42;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x6CE8;&#x5B9A;&#x4E86;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x6709;&#x8FDE;&#x7EED;&#x7684;&#x72B6;&#x6001;&#x53D8;&#x5316;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8981;&#x83B7;&#x77E5;&#x5C31;&#x975E;&#x5E38;&#x9EBB;&#x70E6;&#x3002;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x4F7F;&#x7528;<a href="https://www.pubnub.com/blog/2014-12-01-http-long-polling/" target="_blank" rel="noopener">&#x201C;&#x8F6E;&#x8BE2;&#x201D;</a>&#xFF1A;&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;&#x8BE2;&#x95EE;&#xFF0C;&#x4E86;&#x89E3;&#x670D;&#x52A1;&#x5668;&#x6709;&#x6CA1;&#x6709;&#x65B0;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x6700;&#x5178;&#x578B;&#x7684;&#x573A;&#x666F;&#x5C31;&#x662F;&#x804A;&#x5929;&#x5BA4;&#x3002;</p><p>&#x8F6E;&#x8BE2;&#x7684;&#x6548;&#x7387;&#x4F4E;&#xFF0C;&#x975E;&#x5E38;&#x6D6A;&#x8D39;&#x8D44;&#x6E90;&#xFF08;&#x56E0;&#x4E3A;&#x5FC5;&#x987B;&#x4E0D;&#x505C;&#x8FDE;&#x63A5;&#xFF0C;&#x6216;&#x8005; HTTP &#x8FDE;&#x63A5;&#x59CB;&#x7EC8;&#x6253;&#x5F00;&#xFF09;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5DE5;&#x7A0B;&#x5E08;&#x4EEC;&#x4E00;&#x76F4;&#x5728;&#x601D;&#x8003;&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x66F4;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x3002;WebSocket &#x5C31;&#x662F;&#x8FD9;&#x6837;&#x53D1;&#x660E;&#x7684;&#x3002;</p><h2 id="&#x4E8C;&#x3001;&#x7B80;&#x4ECB;"><a href="#&#x4E8C;&#x3001;&#x7B80;&#x4ECB;" class="headerlink" title="&#x4E8C;&#x3001;&#x7B80;&#x4ECB;"></a>&#x4E8C;&#x3001;&#x7B80;&#x4ECB;</h2><p>WebSocket &#x534F;&#x8BAE;&#x5728;2008&#x5E74;&#x8BDE;&#x751F;&#xFF0C;2011&#x5E74;&#x6210;&#x4E3A;&#x56FD;&#x9645;&#x6807;&#x51C6;&#x3002;&#x6240;&#x6709;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x5DF2;&#x7ECF;&#x652F;&#x6301;&#x4E86;&#x3002;</p><p>&#x5B83;&#x7684;&#x6700;&#x5927;&#x7279;&#x70B9;&#x5C31;&#x662F;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x4E3B;&#x52A8;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x63A8;&#x9001;&#x4FE1;&#x606F;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E5F;&#x53EF;&#x4EE5;&#x4E3B;&#x52A8;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x4FE1;&#x606F;&#xFF0C;&#x662F;&#x771F;&#x6B63;&#x7684;&#x53CC;&#x5411;&#x5E73;&#x7B49;&#x5BF9;&#x8BDD;&#xFF0C;&#x5C5E;&#x4E8E;<a href="https://en.wikipedia.org/wiki/Push_technology" target="_blank" rel="noopener">&#x670D;&#x52A1;&#x5668;&#x63A8;&#x9001;&#x6280;&#x672F;</a>&#x7684;&#x4E00;&#x79CD;&#x3002;</p><p><img src="/2019/09/11/&#x8F6C;&#x8F7D;-WebSocket-&#x6559;&#x7A0B;/pic3.png" alt></p><p>&#x5176;&#x4ED6;&#x7279;&#x70B9;&#x5305;&#x62EC;&#xFF1A;</p><p>&#xFF08;1&#xFF09;&#x5EFA;&#x7ACB;&#x5728; TCP &#x534F;&#x8BAE;&#x4E4B;&#x4E0A;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x5B9E;&#x73B0;&#x6BD4;&#x8F83;&#x5BB9;&#x6613;&#x3002;</p><p>&#xFF08;2&#xFF09;&#x4E0E; HTTP &#x534F;&#x8BAE;&#x6709;&#x7740;&#x826F;&#x597D;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x3002;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x4E5F;&#x662F;80&#x548C;443&#xFF0C;&#x5E76;&#x4E14;&#x63E1;&#x624B;&#x9636;&#x6BB5;&#x91C7;&#x7528; HTTP &#x534F;&#x8BAE;&#xFF0C;&#x56E0;&#x6B64;&#x63E1;&#x624B;&#x65F6;&#x4E0D;&#x5BB9;&#x6613;&#x5C4F;&#x853D;&#xFF0C;&#x80FD;&#x901A;&#x8FC7;&#x5404;&#x79CD; HTTP &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x3002;</p><p>&#xFF08;3&#xFF09;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x6BD4;&#x8F83;&#x8F7B;&#x91CF;&#xFF0C;&#x6027;&#x80FD;&#x5F00;&#x9500;&#x5C0F;&#xFF0C;&#x901A;&#x4FE1;&#x9AD8;&#x6548;&#x3002;</p><p>&#xFF08;4&#xFF09;&#x53EF;&#x4EE5;&#x53D1;&#x9001;&#x6587;&#x672C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53D1;&#x9001;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x3002;</p><p>&#xFF08;5&#xFF09;&#x6CA1;&#x6709;&#x540C;&#x6E90;&#x9650;&#x5236;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x4E0E;&#x4EFB;&#x610F;&#x670D;&#x52A1;&#x5668;&#x901A;&#x4FE1;&#x3002;</p><p>&#xFF08;6&#xFF09;&#x534F;&#x8BAE;&#x6807;&#x8BC6;&#x7B26;&#x662F;<code>ws</code>&#xFF08;&#x5982;&#x679C;&#x52A0;&#x5BC6;&#xFF0C;&#x5219;&#x4E3A;<code>wss</code>&#xFF09;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7F51;&#x5740;&#x5C31;&#x662F; URL&#x3002;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ws://example.com:80/some/path</span><br></pre></td></tr></table></figure><p><img src="/2019/09/11/&#x8F6C;&#x8F7D;-WebSocket-&#x6559;&#x7A0B;/pic4.jpg" alt></p><h2 id="&#x4E09;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x7B80;&#x5355;&#x793A;&#x4F8B;"><a href="#&#x4E09;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x7B80;&#x5355;&#x793A;&#x4F8B;" class="headerlink" title="&#x4E09;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x7B80;&#x5355;&#x793A;&#x4F8B;"></a>&#x4E09;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x7B80;&#x5355;&#x793A;&#x4F8B;</h2><p>WebSocket &#x7684;&#x7528;&#x6CD5;&#x76F8;&#x5F53;&#x7B80;&#x5355;&#x3002;</p><p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#x811A;&#x672C;&#x7684;&#x4F8B;&#x5B50;&#xFF08;&#x70B9;&#x51FB;<a href="http://jsbin.com/muqamiqimu/edit?js,console" target="_blank" rel="noopener">&#x8FD9;&#x91CC;</a>&#x770B;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF09;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x4E00;&#x773C;&#x5C31;&#x80FD;&#x660E;&#x767D;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">&quot;wss://echo.websocket.org&quot;</span>);</span><br><span class="line"></span><br><span class="line">ws.onopen = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>{ </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Connection open ...&quot;</span>); </span><br><span class="line">  ws.send(<span class="string">&quot;Hello WebSockets!&quot;</span>);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log( <span class="string">&quot;Received Message: &quot;</span> + evt.data);</span><br><span class="line">  ws.close();</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">ws.onclose = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Connection closed.&quot;</span>);</span><br><span class="line">};</span><br></pre></td></tr></table></figure><h2 id="&#x56DB;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x7684;-API"><a href="#&#x56DB;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x7684;-API" class="headerlink" title="&#x56DB;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x7684; API"></a>&#x56DB;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x7684; API</h2><p>WebSocket &#x5BA2;&#x6237;&#x7AEF;&#x7684; API &#x5982;&#x4E0B;&#x3002;</p><h3 id="4-1-WebSocket-&#x6784;&#x9020;&#x51FD;&#x6570;"><a href="#4-1-WebSocket-&#x6784;&#x9020;&#x51FD;&#x6570;" class="headerlink" title="4.1 WebSocket &#x6784;&#x9020;&#x51FD;&#x6570;"></a>4.1 WebSocket &#x6784;&#x9020;&#x51FD;&#x6570;</h3><p>WebSocket &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x65B0;&#x5EFA; WebSocket &#x5B9E;&#x4F8B;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">&apos;ws://localhost:8080&apos;</span>);</span><br></pre></td></tr></table></figure><p>&#x6267;&#x884C;&#x4E0A;&#x9762;&#x8BED;&#x53E5;&#x4E4B;&#x540E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5C31;&#x4F1A;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x3002;</p><p>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x6E05;&#x5355;&#xFF0C;&#x53C2;&#x89C1;<a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket" target="_blank" rel="noopener">&#x8FD9;&#x91CC;</a>&#x3002;</p><h3 id="4-2-webSocket-readyState"><a href="#4-2-webSocket-readyState" class="headerlink" title="4.2 webSocket.readyState"></a>4.2 webSocket.readyState</h3><p><code>readyState</code>&#x5C5E;&#x6027;&#x8FD4;&#x56DE;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;&#x5F53;&#x524D;&#x72B6;&#x6001;&#xFF0C;&#x5171;&#x6709;&#x56DB;&#x79CD;&#x3002;</p><blockquote><ul><li>CONNECTING&#xFF1A;&#x503C;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x6B63;&#x5728;&#x8FDE;&#x63A5;&#x3002;</li><li>OPEN&#xFF1A;&#x503C;&#x4E3A;1&#xFF0C;&#x8868;&#x793A;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x4FE1;&#x4E86;&#x3002;</li><li>CLOSING&#xFF1A;&#x503C;&#x4E3A;2&#xFF0C;&#x8868;&#x793A;&#x8FDE;&#x63A5;&#x6B63;&#x5728;&#x5173;&#x95ED;&#x3002;</li><li>CLOSED&#xFF1A;&#x503C;&#x4E3A;3&#xFF0C;&#x8868;&#x793A;&#x8FDE;&#x63A5;&#x5DF2;&#x7ECF;&#x5173;&#x95ED;&#xFF0C;&#x6216;&#x8005;&#x6253;&#x5F00;&#x8FDE;&#x63A5;&#x5931;&#x8D25;&#x3002;</li></ul></blockquote><p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (ws.readyState) {</span><br><span class="line">  <span class="keyword">case</span> WebSocket.CONNECTING:</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> WebSocket.OPEN:</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> WebSocket.CLOSING:</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> WebSocket.CLOSED:</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// this never happens</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="4-3-webSocket-onopen"><a href="#4-3-webSocket-onopen" class="headerlink" title="4.3 webSocket.onopen"></a>4.3 webSocket.onopen</h3><p>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;<code>onopen</code>&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ws.onopen = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  ws.send(<span class="string">&apos;Hello Server!&apos;</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x5982;&#x679C;&#x8981;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>addEventListener</code>&#x65B9;&#x6CD5;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ws.addEventListener(<span class="string">&apos;open&apos;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span><br><span class="line">  ws.send(<span class="string">&apos;Hello Server!&apos;</span>);</span><br><span class="line">});</span><br></pre></td></tr></table></figure><h3 id="4-4-webSocket-onclose"><a href="#4-4-webSocket-onclose" class="headerlink" title="4.4 webSocket.onclose"></a>4.4 webSocket.onclose</h3><p>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;<code>onclose</code>&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x8FDE;&#x63A5;&#x5173;&#x95ED;&#x540E;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ws.onclose = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> code = event.code;</span><br><span class="line">  <span class="keyword">var</span> reason = event.reason;</span><br><span class="line">  <span class="keyword">var</span> wasClean = event.wasClean;</span><br><span class="line">  <span class="comment">// handle close event</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">ws.addEventListener(<span class="string">&quot;close&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> code = event.code;</span><br><span class="line">  <span class="keyword">var</span> reason = event.reason;</span><br><span class="line">  <span class="keyword">var</span> wasClean = event.wasClean;</span><br><span class="line">  <span class="comment">// handle close event</span></span><br><span class="line">});</span><br></pre></td></tr></table></figure><h3 id="4-5-webSocket-onmessage"><a href="#4-5-webSocket-onmessage" class="headerlink" title="4.5 webSocket.onmessage"></a>4.5 webSocket.onmessage</h3><p>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;<code>onmessage</code>&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x6536;&#x5230;&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x540E;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> data = event.data;</span><br><span class="line">  <span class="comment">// &#x5904;&#x7406;&#x6570;&#x636E;</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">ws.addEventListener(<span class="string">&quot;message&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> data = event.data;</span><br><span class="line">  <span class="comment">// &#x5904;&#x7406;&#x6570;&#x636E;</span></span><br><span class="line">});</span><br></pre></td></tr></table></figure><p>&#x6CE8;&#x610F;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x53EF;&#x80FD;&#x662F;&#x6587;&#x672C;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#xFF08;<code>blob</code>&#x5BF9;&#x8C61;&#x6216;<code>Arraybuffer</code>&#x5BF9;&#x8C61;&#xFF09;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>{</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> event.data === <span class="built_in">String</span>) {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;Received data string&quot;</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(event.data <span class="keyword">instanceof</span> <span class="built_in">ArrayBuffer</span>){</span><br><span class="line">    <span class="keyword">var</span> buffer = event.data;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;Received arraybuffer&quot;</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x9664;&#x4E86;&#x52A8;&#x6001;&#x5224;&#x65AD;&#x6536;&#x5230;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>binaryType</code>&#x5C5E;&#x6027;&#xFF0C;&#x663E;&#x5F0F;&#x6307;&#x5B9A;&#x6536;&#x5230;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x6536;&#x5230;&#x7684;&#x662F; blob &#x6570;&#x636E;</span></span><br><span class="line">ws.binaryType = <span class="string">&quot;blob&quot;</span>;</span><br><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(e.data.size);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6536;&#x5230;&#x7684;&#x662F; ArrayBuffer &#x6570;&#x636E;</span></span><br><span class="line">ws.binaryType = <span class="string">&quot;arraybuffer&quot;</span>;</span><br><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(e.data.byteLength);</span><br><span class="line">};</span><br></pre></td></tr></table></figure><h3 id="4-6-webSocket-send"><a href="#4-6-webSocket-send" class="headerlink" title="4.6 webSocket.send()"></a>4.6 webSocket.send()</h3><p>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;<code>send()</code>&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x6570;&#x636E;&#x3002;</p><p>&#x53D1;&#x9001;&#x6587;&#x672C;&#x7684;&#x4F8B;&#x5B50;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ws.send(<span class="string">&apos;your message&apos;</span>);</span><br></pre></td></tr></table></figure><p>&#x53D1;&#x9001; Blob &#x5BF9;&#x8C61;&#x7684;&#x4F8B;&#x5B50;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> file = <span class="built_in">document</span></span><br><span class="line">  .querySelector(<span class="string">&apos;input[type=&quot;file&quot;]&apos;</span>)</span><br><span class="line">  .files[<span class="number">0</span>];</span><br><span class="line">ws.send(file);</span><br></pre></td></tr></table></figure><p>&#x53D1;&#x9001; ArrayBuffer &#x5BF9;&#x8C61;&#x7684;&#x4F8B;&#x5B50;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Sending canvas ImageData as ArrayBuffer</span></span><br><span class="line"><span class="keyword">var</span> img = canvas_context.getImageData(<span class="number">0</span>, <span class="number">0</span>, <span class="number">400</span>, <span class="number">320</span>);</span><br><span class="line"><span class="keyword">var</span> binary = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(img.data.length);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; img.data.length; i++) {</span><br><span class="line">  binary[i] = img.data[i];</span><br><span class="line">}</span><br><span class="line">ws.send(binary.buffer);</span><br></pre></td></tr></table></figure><h3 id="4-7-webSocket-bufferedAmount"><a href="#4-7-webSocket-bufferedAmount" class="headerlink" title="4.7 webSocket.bufferedAmount"></a>4.7 webSocket.bufferedAmount</h3><p>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;<code>bufferedAmount</code>&#x5C5E;&#x6027;&#xFF0C;&#x8868;&#x793A;&#x8FD8;&#x6709;&#x591A;&#x5C11;&#x5B57;&#x8282;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x6CA1;&#x6709;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5224;&#x65AD;&#x53D1;&#x9001;&#x662F;&#x5426;&#x7ED3;&#x675F;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">10000000</span>);</span><br><span class="line">socket.send(data);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (socket.bufferedAmount === <span class="number">0</span>) {</span><br><span class="line">  <span class="comment">// &#x53D1;&#x9001;&#x5B8C;&#x6BD5;</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">  <span class="comment">// &#x53D1;&#x9001;&#x8FD8;&#x6CA1;&#x7ED3;&#x675F;</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="4-8-webSocket-onerror"><a href="#4-8-webSocket-onerror" class="headerlink" title="4.8 webSocket.onerror"></a>4.8 webSocket.onerror</h3><p>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;<code>onerror</code>&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x62A5;&#x9519;&#x65F6;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">socket.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="comment">// handle error event</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">socket.addEventListener(<span class="string">&quot;error&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="comment">// handle error event</span></span><br><span class="line">});</span><br></pre></td></tr></table></figure><h2 id="&#x4E94;&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5B9E;&#x73B0;"><a href="#&#x4E94;&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5B9E;&#x73B0;" class="headerlink" title="&#x4E94;&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5B9E;&#x73B0;"></a>&#x4E94;&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5B9E;&#x73B0;</h2><p>WebSocket &#x670D;&#x52A1;&#x5668;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x7684;<a href="https://en.wikipedia.org/wiki/Comparison_of_WebSocket_implementations" target="_blank" rel="noopener">&#x5217;&#x8868;</a>&#x3002;</p><p>&#x5E38;&#x7528;&#x7684; Node &#x5B9E;&#x73B0;&#x6709;&#x4EE5;&#x4E0B;&#x4E09;&#x79CD;&#x3002;</p><ul><li><a href="https://github.com/uWebSockets/uWebSockets" target="_blank" rel="noopener">&#xB5;WebSockets</a></li><li><a href="http://socket.io/" target="_blank" rel="noopener">Socket.IO</a></li><li><a href="https://github.com/theturtle32/WebSocket-Node" target="_blank" rel="noopener">WebSocket-Node</a></li></ul><p>&#x5177;&#x4F53;&#x7684;&#x7528;&#x6CD5;&#x8BF7;&#x67E5;&#x770B;&#x5B83;&#x4EEC;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x4E86;&#x3002;</p><h2 id="&#x516D;&#x3001;WebSocketd"><a href="#&#x516D;&#x3001;WebSocketd" class="headerlink" title="&#x516D;&#x3001;WebSocketd"></a>&#x516D;&#x3001;WebSocketd</h2><p>&#x4E0B;&#x9762;&#xFF0C;&#x6211;&#x8981;&#x63A8;&#x8350;&#x4E00;&#x6B3E;&#x975E;&#x5E38;&#x7279;&#x522B;&#x7684; WebSocket &#x670D;&#x52A1;&#x5668;&#xFF1A;<a href="http://websocketd.com/" target="_blank" rel="noopener">Websocketd</a>&#x3002;</p><p>&#x5B83;&#x7684;&#x6700;&#x5927;&#x7279;&#x70B9;&#xFF0C;&#x5C31;&#x662F;&#x540E;&#x53F0;&#x811A;&#x672C;&#x4E0D;&#x9650;&#x8BED;&#x8A00;&#xFF0C;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF08;stdin&#xFF09;&#x5C31;&#x662F; WebSocket &#x7684;&#x8F93;&#x5165;&#xFF0C;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF08;stdout&#xFF09;&#x5C31;&#x662F; WebSocket &#x7684;&#x8F93;&#x51FA;&#x3002;</p><p><img src="/2019/09/11/&#x8F6C;&#x8F7D;-WebSocket-&#x6559;&#x7A0B;/pic5.png" alt></p><p>&#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A; Bash &#x811A;&#x672C;<code>counter.sh</code>&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 1</span><br><span class="line">sleep 1</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 2</span><br><span class="line">sleep 1</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 3</span><br></pre></td></tr></table></figure><p>&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x4F1A;&#x8F93;&#x51FA;1&#x3001;2&#x3001;3&#xFF0C;&#x6BCF;&#x4E2A;&#x503C;&#x4E4B;&#x95F4;&#x95F4;&#x9694;1&#x79D2;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ bash ./counter.sh</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure><p>&#x73B0;&#x5728;&#xFF0C;&#x542F;&#x52A8;<code>websocketd</code>&#xFF0C;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x4F5C;&#x4E3A;&#x670D;&#x52A1;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ websocketd --port=8080 bash ./counter.sh</span><br></pre></td></tr></table></figure><p>&#x4E0A;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x4F1A;&#x542F;&#x52A8;&#x4E00;&#x4E2A; WebSocket &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7AEF;&#x53E3;&#x662F;<code>8080</code>&#x3002;&#x6BCF;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5C31;&#x4F1A;&#x6267;&#x884C;<code>counter.sh</code>&#x811A;&#x672C;&#xFF0C;&#x5E76;&#x5C06;&#x5B83;&#x7684;&#x8F93;&#x51FA;&#x63A8;&#x9001;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">&apos;ws://localhost:8080/&apos;</span>);</span><br><span class="line"></span><br><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(event.data);</span><br><span class="line">};</span><br></pre></td></tr></table></figure><p>&#x4E0A;&#x9762;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x7684; JavaScript &#x4EE3;&#x7801;&#xFF0C;&#x8FD0;&#x884C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x4F9D;&#x6B21;&#x8F93;&#x51FA;1&#x3001;2&#x3001;3&#x3002;</p><p>&#x6709;&#x4E86;&#x5B83;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x5C06;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x53D1;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ websocketd --port=8080 ls</span><br></pre></td></tr></table></figure><p>&#x4E0A;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x4F1A;&#x6267;&#x884C;<code>ls</code>&#x547D;&#x4EE4;&#xFF0C;&#x4ECE;&#x800C;&#x5C06;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x53D1;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x3002;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7B80;&#x76F4;&#x662F;&#x8F7B;&#x800C;&#x6613;&#x4E3E;&#xFF08;<a href="https://github.com/joewalnes/web-vmstats" target="_blank" rel="noopener">&#x4EE3;&#x7801;</a>&#xFF09;&#x3002;</p><p><img src="/2019/09/11/&#x8F6C;&#x8F7D;-WebSocket-&#x6559;&#x7A0B;/pic6.jpg" alt></p><p>&#x66F4;&#x591A;&#x7684;&#x7528;&#x6CD5;&#x53EF;&#x4EE5;&#x53C2;&#x8003;<a href="https://github.com/joewalnes/websocketd/tree/master/examples/bash" target="_blank" rel="noopener">&#x5B98;&#x65B9;&#x793A;&#x4F8B;</a>&#x3002;</p><blockquote><ul><li>Bash &#x811A;&#x672C;<a href="https://github.com/joewalnes/websocketd/blob/master/examples/bash/greeter.sh" target="_blank" rel="noopener">&#x8BFB;&#x53D6;&#x5BA2;&#x6237;&#x7AEF;&#x8F93;&#x5165;</a>&#x7684;&#x4F8B;&#x5B50;</li><li>&#x4E94;&#x884C;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x7684;<a href="https://github.com/joewalnes/websocketd/blob/master/examples/bash/chat.sh" target="_blank" rel="noopener">&#x804A;&#x5929;&#x670D;&#x52A1;&#x5668;</a></li></ul></blockquote><p><img src="/2019/09/11/&#x8F6C;&#x8F7D;-WebSocket-&#x6559;&#x7A0B;/pic7.png" alt></p><p>websocketd &#x7684;&#x5B9E;&#x8D28;&#xFF0C;&#x5C31;&#x662F;&#x547D;&#x4EE4;&#x884C;&#x7684; WebSocket &#x4EE3;&#x7406;&#x3002;&#x53EA;&#x8981;&#x547D;&#x4EE4;&#x884C;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B83;&#x4E0E;&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x884C; WebSocket &#x901A;&#x4FE1;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A; Node &#x5B9E;&#x73B0;&#x7684;&#x56DE;&#x58F0;&#x670D;&#x52A1;<a href="https://github.com/joewalnes/websocketd/blob/master/examples/nodejs/greeter.js" target="_blank" rel="noopener"><code>greeter.js</code></a>&#x3002;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">process.stdin.setEncoding(<span class="string">&apos;utf8&apos;</span>);</span><br><span class="line"></span><br><span class="line">process.stdin.on(<span class="string">&apos;readable&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> chunk = process.stdin.read();</span><br><span class="line">  <span class="keyword">if</span> (chunk !== <span class="literal">null</span>) {</span><br><span class="line">    process.stdout.write(<span class="string">&apos;data: &apos;</span> + chunk);</span><br><span class="line">  }</span><br><span class="line">});</span><br></pre></td></tr></table></figure><p>&#x542F;&#x52A8;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7684;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ websocketd --port=8080 node ./greeter.js</span><br></pre></td></tr></table></figure><p>&#x5B98;&#x65B9;&#x4ED3;&#x5E93;&#x8FD8;&#x6709;&#x5176;&#x4ED6;<a href="https://github.com/joewalnes/websocketd/tree/master/examples" target="_blank" rel="noopener">&#x5404;&#x79CD;&#x8BED;&#x8A00;</a>&#x7684;&#x4F8B;&#x5B50;&#x3002;</p><h2 id="&#x4E03;&#x3001;&#x53C2;&#x8003;&#x94FE;&#x63A5;"><a href="#&#x4E03;&#x3001;&#x53C2;&#x8003;&#x94FE;&#x63A5;" class="headerlink" title="&#x4E03;&#x3001;&#x53C2;&#x8003;&#x94FE;&#x63A5;"></a>&#x4E03;&#x3001;&#x53C2;&#x8003;&#x94FE;&#x63A5;</h2><ul><li><a href="http://cjihrig.com/blog/how-to-use-websockets/" target="_blank" rel="noopener">How to Use WebSockets</a></li><li><a href="https://www.tutorialspoint.com/websockets/websockets_send_receive_messages.htm" target="_blank" rel="noopener">WebSockets - Send &amp; Receive Messages</a></li><li><a href="https://www.html5rocks.com/en/tutorials/websockets/basics/" target="_blank" rel="noopener">Introducing WebSockets: Bringing Sockets to the Web</a></li></ul><p>&#xFF08;&#x5B8C;&#xFF09;</p><h3 id="&#x6587;&#x6863;&#x4FE1;&#x606F;"><a href="#&#x6587;&#x6863;&#x4FE1;&#x606F;" class="headerlink" title="&#x6587;&#x6863;&#x4FE1;&#x606F;"></a>&#x6587;&#x6863;&#x4FE1;&#x606F;</h3><ul><li>&#x7248;&#x6743;&#x58F0;&#x660E;&#xFF1A;&#x81EA;&#x7531;&#x8F6C;&#x8F7D;-&#x975E;&#x5546;&#x7528;-&#x975E;&#x884D;&#x751F;-&#x4FDD;&#x6301;&#x7F72;&#x540D;&#xFF08;<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" rel="noopener">&#x521B;&#x610F;&#x5171;&#x4EAB;3.0&#x8BB8;&#x53EF;&#x8BC1;</a>&#xFF09;</li><li>&#x53D1;&#x8868;&#x65E5;&#x671F;&#xFF1A; 2017&#x5E74;5&#x6708;15&#x65E5;</li></ul><p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://www.ruanyifeng.com/blog/2017/05/websocket.html" target="_blank" rel="noopener">https://www.ruanyifeng.com/blog/2017/05/websocket.html</a></p><p>&#x4F5C;&#x8005;&#xFF1A; <a href="http://www.ruanyifeng.com/" target="_blank" rel="noopener">&#x962E;&#x4E00;&#x5CF0;</a></p><p>&#x65E5;&#x671F;&#xFF1A; <a href="http://www.ruanyifeng.com/blog/2017/05/" target="_blank" rel="noopener">2017&#x5E74;5&#x6708;15&#x65E5;</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://websocket.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;WebSocket&lt;/a&gt; &amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x7F51;&amp;#x7EDC;&amp;#x901A;&amp;#x4FE1;&amp;#x534F;&amp;#x8BAE;&amp;#xFF0C;&amp;#x5F88;&amp;#x591A;&amp;#x9AD8;&amp;#x7EA7;&amp;#x529F;&amp;#x80FD;&amp;#x90FD;&amp;#x9700;&amp;#x8981;&amp;#x5B83;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x672C;&amp;#x6587;&amp;#x4ECB;&amp;#x7ECD; WebSocket &amp;#x534F;&amp;#x8BAE;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
    
    </summary>
    
      <category term="计算机网络" scheme="https://cqh-i.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="WebSocket" scheme="https://cqh-i.github.io/tags/WebSocket/"/>
    
  </entry>
  
  <entry>
    <title>(转载)Java泛型中的通配符</title>
    <link href="https://cqh-i.github.io/2019/09/07/%E8%BD%AC%E8%BD%BD-Java%E6%B3%9B%E5%9E%8B%E4%B8%AD%E7%9A%84%E9%80%9A%E9%85%8D%E7%AC%A6/"/>
    <id>https://cqh-i.github.io/2019/09/07/转载-Java泛型中的通配符/</id>
    <published>2019-09-07T02:17:28.000Z</published>
    <updated>2019-09-07T02:44:54.254Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://www.jianshu.com/p/cb543969a15b" target="_blank" rel="noopener">https://www.jianshu.com/p/cb543969a15b</a></p><p>Java&#x6CDB;&#x578B;&#x4E2D;&#x7528;<code>?</code>&#x6765;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x901A;&#x914D;&#x7B26;&#x3002;&#x8FD9;&#x901A;&#x914D;&#x7B26;&#x5230;&#x5E95;&#x5565;&#x610F;&#x601D;&#xFF1F;&#x8FD9;&#x73A9;&#x610F;&#x513F;&#x8BBE;&#x8BA1;&#x6765;&#x5E72;&#x5565;&#xFF1F;&#x600E;&#x4E48;&#x7528;&#xFF1F;&#x6709;&#x4EC0;&#x4E48;&#x9650;&#x5236;&#xFF1F;&#x5728;&#x4E86;&#x89E3;&#x8FD9;&#x4E9B;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4E5F;&#x662F;&#x4E00;&#x526F;&#x9ED1;&#x4EBA;&#x95EE;&#x53F7;&#x8138;&#x3002;&#x4ECA;&#x5929;&#x6211;&#x5C31;&#x8981;&#x6252;&#x4E00;&#x6252;&#x8FD9;&#x6CDB;&#x578B;&#x4E2D;&#x7684;<code>?</code>&#x3002;</p><h4 id="&#x662F;&#x4EC0;&#x4E48;"><a href="#&#x662F;&#x4EC0;&#x4E48;" class="headerlink" title="&#x662F;&#x4EC0;&#x4E48;"></a>&#x662F;&#x4EC0;&#x4E48;</h4><p>Oracle&#x5B98;&#x65B9;&#x4E0A;&#x7684;Tutorial&#x7ED9;&#x7684;&#x89E3;&#x91CA;&#x662F;&#xFF1A;<strong>Type of unknown</strong>. &#x679C;&#x7136;&#x662F;&#x547D;&#x540D;&#x81EA;&#x89E3;&#x91CA;&#x2014;&#x2014;&#x4E00;&#x4E2A;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x5565;&#x7684;&#x7C7B;&#x578B;&#x3002;</p><a id="more"></a><h4 id="&#x600E;&#x4E48;&#x7528;"><a href="#&#x600E;&#x4E48;&#x7528;" class="headerlink" title="&#x600E;&#x4E48;&#x7528;"></a>&#x600E;&#x4E48;&#x7528;</h4><p>&#x9996;&#x5148;&#x6765;&#x770B;&#x770B;&#xFF0C;&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x89C1;&#x5230;&#x7684;&#x8FD9;&#x4E2A;&#x901A;&#x914D;&#x7B26;&#x90FD;&#x662F;&#x600E;&#x4E48;&#x7528;&#x7684;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;?&gt; <span class="comment">//&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#x7684;ArrayList</span></span><br><span class="line">ArrayList&lt;? extends T&gt; <span class="comment">//&#x7EE7;&#x627F;&#x81EA;T&#x7684;&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#x7684;ArrayList</span></span><br><span class="line">ArrayList&lt;? <span class="keyword">super</span> T&gt; <span class="comment">//T&#x6216;&#x8005;&#x662F;T&#x7684;&#x5B50;&#x7C7B;&#x7684;&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#x7684;ArrayList</span></span><br></pre></td></tr></table></figure><p>&#x4E3A;&#x4EC0;&#x4E48;Java&#x8981;&#x8BBE;&#x8BA1;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x5462;&#xFF1F;<strong>&#x4ED6;&#x5176;&#x5B9E;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x6CDB;&#x578B;&#x7EE7;&#x627F;&#x89C4;&#x5219;&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898;&#x3002;</strong></p><p>&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#xFF0C;<code>Integer</code>&#x662F;<code>Number</code>&#x7684;&#x5B50;&#x7C7B;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x6CDB;&#x578B;&#x7C7B;&#x5374;&#x5E76;&#x6CA1;&#x6709;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;<code>ArrayList&lt;Integer&gt;</code>&#x548C;<code>ArrayList&lt;Number&gt;</code>&#x662F;&#x6CA1;&#x6709;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#x7684;&#x3002;&#x8FD9;&#x5E26;&#x6765;&#x4E86;&#x4E00;&#x4E2A;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x5462;&#xFF1F;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">a</span><span class="params">(ArrayList&lt;Number&gt; list)</span></span>{</span><br><span class="line">      <span class="comment">// manipulate list of type Number</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x50CF;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x8FD9;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;a&#xFF0C;&#x5B83;&#x7684;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;<code>ArrayList&lt;Number&gt;</code>&#x3002;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a(<span class="keyword">new</span> ArrayList&lt;Number&gt;); <span class="comment">//ok</span></span><br><span class="line">a(<span class="keyword">new</span> ArrayList&lt;Integer&gt;); <span class="comment">//error</span></span><br></pre></td></tr></table></figure><p>&#x5411;a&#x65B9;&#x6CD5;&#x4F20;&#x9012;&#x4E00;&#x4E2A;<code>ArrayList&lt;Integer&gt;</code>&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x62A5;&#x9519;&#x3002;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x786E;&#x5B9E;&#x7ECF;&#x5E38;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x9700;&#x6C42;&#x3002;&#x5E0C;&#x671B;a&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x80FD;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x66F4;&#x52A0;&#x901A;&#x7528;&#x7684;Number&#x7684;List&#x3002;&#x6BD4;&#x5982;&#x8FD9;&#x91CC;&#x7684;Integer&#x7684;List&#x3002;&#x6CDB;&#x578B;&#x4E2D;&#x7684;&#x901A;&#x914D;&#x7B26;&#x5C31;&#x662F;&#x7528;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x7684;&#x3002;<br>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;a&#x65B9;&#x6CD5;&#x5199;&#x6210;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">a</span><span class="params">(ArrayList&lt;? extends Number&gt; list)</span></span>{</span><br><span class="line">      <span class="comment">// manipulate list of type Number</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a(<span class="keyword">new</span> ArrayList&lt;Number&gt;); <span class="comment">//ok</span></span><br><span class="line">a(<span class="keyword">new</span> ArrayList&lt;Integer&gt;); <span class="comment">//ok</span></span><br></pre></td></tr></table></figure><p>&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x4F20;&#x5165;&#x4E00;&#x4E2A;<code>ArrayList&lt;Integer&gt;</code>&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#x4E86;&#x3002;&#x539F;&#x56E0;&#x662F;a&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x5DF2;&#x7ECF;&#x88AB;&#x58F0;&#x660E;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x7EE7;&#x627F;&#x81EA;Number&#x7C7B;&#x7684;&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#x7684;&#x5217;&#x8868;&#x3002;&#x663E;&#x7136;<code>ArrayList&lt;Integer&gt;</code>&#x4E5F;&#x662F;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x3002;&#x5728;&#x8FD9;&#x91CC;<code>ArrayList&lt;Integer&gt;</code>&#x662F;<code>ArrayList&lt;? extends Number&gt;</code>&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;&#x3002;</p><h4 id="&#x9650;&#x5236;"><a href="#&#x9650;&#x5236;" class="headerlink" title="&#x9650;&#x5236;"></a>&#x9650;&#x5236;</h4><p>&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;Java&#x6CDB;&#x578B;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x5DF2;&#x7ECF;&#x5F88;&#x591A;&#x7EA6;&#x675F;&#x4E86;&#xFF0C;&#x6BD4;&#x5982;&#x4E0D;&#x80FD;&#x521B;&#x5EFA;&#x6CDB;&#x578B;&#x6570;&#x7EC4;&#xFF0C;&#x4E0D;&#x80FD;&#x521B;&#x5EFA;&#x5B9E;&#x4F8B;&#x7B49;&#x7B49;&#x3002;&#x6CDB;&#x578B;&#x901A;&#x914D;&#x7B26;&#x8FD9;&#x4E1C;&#x897F;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5C3F;&#x6027;&#xFF0C;&#x4E5F;&#x4E0D;&#x662F;&#x80FD;&#x8BA9;&#x4F60;&#x6BEB;&#x65E0;&#x9650;&#x5236;&#x968F;&#x4FBF;&#x64B8;&#x7684;&#x3002;</p><p>&#x6CE8;: &#x4E0B;&#x9762; Cqh_i &#x6709;&#x4FEE;&#x6539;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;? extends Number&gt; a = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">a.get(<span class="number">0</span>);<span class="comment">// ok</span></span><br><span class="line">a.set(<span class="keyword">new</span> Integer());<span class="comment">// error</span></span><br></pre></td></tr></table></figure><p>&#x6211;&#x4EEC;&#x77E5;&#x9053;List&#x6CDB;&#x578B;&#x7C7B;&#x4E2D;&#x5B58;&#x7740;Number&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x662F;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x5F97;&#x800C;&#x77E5;&#x4E86;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x662F;&#x53EF;&#x4EE5;&#x8BFB;&#x53D6;List&#x5F53;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x518D;&#x600E;&#x4E48;&#x4E0D;&#x77E5;&#x9053;&#x5B83;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E5F;&#x77E5;&#x9053;&#x4ED6;&#x81F3;&#x5C11;&#x662F;&#x4E00;&#x4E2A;Object&#x7684;&#x5BF9;&#x8C61;&#x561B;&#x3002;&#x4F46;&#x662F;&#x5199;&#x5462;&#xFF0C;&#x5199;&#x5C31;&#x4E0D;&#x80FD;&#x90A3;&#x4E48;&#x968F;&#x610F;&#x4E86;&#x3002;&#x4E0D;&#x77E5;&#x9053;List&#x4E2D;&#x5230;&#x5E95;&#x5B58;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x652F;&#x6301;&#x4ED6;&#x7684;&#x5199;&#x5165;&#xFF0C;&#x90A3;&#x663E;&#x7136;&#x662F;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#x3002;<br>&#x8FD9;&#x4E48;&#x8BF4;&#x6765;&#xFF0C;&#x96BE;&#x9053;&#xFF0C;&#x7528;&#x4E86;&#x6CDB;&#x578B;&#x901A;&#x914D;&#x7B26;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4ECE;&#x6B64;&#x4E0D;&#x80FD;&#x5199;&#x5165;&#x4E86;&#x5417;&#xFF1F;&#x4EBA;&#x5BB6;Java&#x7684;&#x8BBE;&#x8BA1;&#x8005;&#x4E5F;&#x662F;&#x8003;&#x8651;&#x5230;&#x4E86;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x6709;&#x4E86;<code>? super T</code>&#x8FD9;&#x79CD;&#x7528;&#x6CD5;&#x3002;&#x8FD9;&#x79CD;&#x7528;&#x6CD5;&#x4E5F;&#x4E0D;&#x662F;&#x5B8C;&#x5168;&#x6CA1;&#x6709;&#x9650;&#x5236;&#x7684;&#x3002;&#x4ED6;&#x652F;&#x6301;&#x5BF9;&#x6CDB;&#x578B;&#x7C7B;&#x5199;&#x5165;T&#x6216;&#x8005;&#x662F;T&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x5199;&#x5165;T&#x7684;&#x7236;&#x7C7B;&#x3002;&#x81F3;&#x4E8E;&#x5230;&#x5E95;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF0C;&#x6211;&#x5728;StackOverFlow&#x4E0A;&#x770B;&#x5230;&#x4E00;&#x7BC7;&#x5199;&#x5F97;&#x8D3C;&#x597D;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x5C31;&#x4E0D;&#x5E9F;&#x8BDD;&#x89E3;&#x91CA;&#x4E86;&#xFF0C;&#x770B;&#x90A3;&#x4E2A;vote&#x6570;&#x6700;&#x591A;&#x7684;&#x56DE;&#x7B54;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#x3002;<a href="https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java" target="_blank" rel="noopener">&#x6211;&#x662F;ref&#xFF0C;&#x70B9;&#x6211;</a>&#x3002;<br>&#x7B80;&#x5355;&#x8BF4;&#x6765;&#x5C31;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x652F;&#x6301;&#x8BFB;&#x7528;<code>? extends T</code>&#xFF0C;&#x5E0C;&#x671B;&#x652F;&#x6301;&#x5199;&#x7528;<code>? super T</code>&#x3002;&#x5C31;&#x662F;StackOverFlow&#x90A3;&#x4E2A;&#x9AD8;vote&#x6570;&#x5F53;&#x4E2D;&#x8BF4;&#x7684;PECS&#xFF08;Producer Extend, Consumer Super&#xFF09;&#x539F;&#x5219;&#x3002;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://www.jianshu.com/p/cb543969a15b&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.jianshu.com/p/cb543969a15b&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Java&amp;#x6CDB;&amp;#x578B;&amp;#x4E2D;&amp;#x7528;&lt;code&gt;?&lt;/code&gt;&amp;#x6765;&amp;#x8868;&amp;#x793A;&amp;#x4E00;&amp;#x4E2A;&amp;#x901A;&amp;#x914D;&amp;#x7B26;&amp;#x3002;&amp;#x8FD9;&amp;#x901A;&amp;#x914D;&amp;#x7B26;&amp;#x5230;&amp;#x5E95;&amp;#x5565;&amp;#x610F;&amp;#x601D;&amp;#xFF1F;&amp;#x8FD9;&amp;#x73A9;&amp;#x610F;&amp;#x513F;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6765;&amp;#x5E72;&amp;#x5565;&amp;#xFF1F;&amp;#x600E;&amp;#x4E48;&amp;#x7528;&amp;#xFF1F;&amp;#x6709;&amp;#x4EC0;&amp;#x4E48;&amp;#x9650;&amp;#x5236;&amp;#xFF1F;&amp;#x5728;&amp;#x4E86;&amp;#x89E3;&amp;#x8FD9;&amp;#x4E9B;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x6211;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x526F;&amp;#x9ED1;&amp;#x4EBA;&amp;#x95EE;&amp;#x53F7;&amp;#x8138;&amp;#x3002;&amp;#x4ECA;&amp;#x5929;&amp;#x6211;&amp;#x5C31;&amp;#x8981;&amp;#x6252;&amp;#x4E00;&amp;#x6252;&amp;#x8FD9;&amp;#x6CDB;&amp;#x578B;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;?&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h4 id=&quot;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&quot;&gt;&lt;a href=&quot;#&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&quot;&gt;&lt;/a&gt;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&lt;/h4&gt;&lt;p&gt;Oracle&amp;#x5B98;&amp;#x65B9;&amp;#x4E0A;&amp;#x7684;Tutorial&amp;#x7ED9;&amp;#x7684;&amp;#x89E3;&amp;#x91CA;&amp;#x662F;&amp;#xFF1A;&lt;strong&gt;Type of unknown&lt;/strong&gt;. &amp;#x679C;&amp;#x7136;&amp;#x662F;&amp;#x547D;&amp;#x540D;&amp;#x81EA;&amp;#x89E3;&amp;#x91CA;&amp;#x2014;&amp;#x2014;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&amp;#x662F;&amp;#x5565;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="Java泛型" scheme="https://cqh-i.github.io/tags/Java%E6%B3%9B%E5%9E%8B/"/>
    
      <category term="Java通配符" scheme="https://cqh-i.github.io/tags/Java%E9%80%9A%E9%85%8D%E7%AC%A6/"/>
    
  </entry>
  
  <entry>
    <title>(转载)如何优雅地停止Java进程</title>
    <link href="https://cqh-i.github.io/2019/09/06/%E8%BD%AC%E8%BD%BD-%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%9C%B0%E5%81%9C%E6%AD%A2Java%E8%BF%9B%E7%A8%8B/"/>
    <id>https://cqh-i.github.io/2019/09/06/转载-如何优雅地停止Java进程/</id>
    <published>2019-09-06T12:31:39.000Z</published>
    <updated>2019-09-06T12:43:27.571Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://www.cnblogs.com/nuccch/p/10903162.html" target="_blank" rel="noopener">https://www.cnblogs.com/nuccch/p/10903162.html</a></p><h2 id="&#x7406;&#x89E3;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;&#x7684;&#x672C;&#x8D28;"><a href="#&#x7406;&#x89E3;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;&#x7684;&#x672C;&#x8D28;" class="headerlink" title="&#x7406;&#x89E3;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;&#x7684;&#x672C;&#x8D28;"></a>&#x7406;&#x89E3;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;&#x7684;&#x672C;&#x8D28;</h2><p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;Java&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;&#xFF0C;&#x5373;&#xFF1A;JVM&#xFF0C;&#x542F;&#x52A8;Java&#x8FDB;&#x7A0B;&#x5373;&#x542F;&#x52A8;&#x4E86;&#x4E00;&#x4E2A;JVM&#x3002;<br>&#x56E0;&#x6B64;&#xFF0C;&#x6240;&#x8C13;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x5173;&#x95ED;JVM&#x3002;<br>&#x90A3;&#x4E48;&#xFF0C;&#x54EA;&#x4E9B;&#x60C5;&#x51B5;&#x4F1A;&#x5BFC;&#x81F4;JVM&#x5173;&#x95ED;&#x5462;&#xFF1F;</p><a id="more"></a><p><img src="/2019/09/06/&#x8F6C;&#x8F7D;-&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5730;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;/pic1.png" alt></p><h2 id="&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x6B63;&#x786E;&#x5730;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;"><a href="#&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x6B63;&#x786E;&#x5730;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;" class="headerlink" title="&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x6B63;&#x786E;&#x5730;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;"></a>&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x6B63;&#x786E;&#x5730;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;</h2><p>&#x901A;&#x5E38;&#x6765;&#x8BB2;&#xFF0C;&#x505C;&#x6B62;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EA;&#x9700;&#x8981;&#x6740;&#x6B7B;&#x8FDB;&#x7A0B;&#x5373;&#x53EF;&#x3002;<br>&#x4F46;&#x662F;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5728;JVM&#x5173;&#x95ED;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x6216;&#x8005;&#x8D44;&#x6E90;&#x91CA;&#x653E;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x5F3A;&#x5236;&#x6740;&#x6B7B;Java&#x8FDB;&#x7A0B;&#x3002;</p><ol><li>&#x5BF9;&#x4E8E;&#x6B63;&#x5E38;&#x5173;&#x95ED;&#x6216;&#x5F02;&#x5E38;&#x5173;&#x95ED;&#x7684;&#x51E0;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;JVM&#x5173;&#x95ED;&#x524D;&#xFF0C;&#x90FD;&#x4F1A;&#x8C03;&#x7528;&#x5DF2;&#x6CE8;&#x518C;&#x7684;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#xFF0C;&#x57FA;&#x4E8E;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x626B;&#x5C3E;&#x7684;&#x5DE5;&#x4F5C;&#x653E;&#x5728;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x4E2D;&#xFF0C;&#x8FDB;&#x800C;&#x4F7F;&#x6211;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5B89;&#x5168;&#x7684;&#x9000;&#x51FA;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x57FA;&#x4E8E;&#x5E73;&#x53F0;&#x901A;&#x7528;&#x6027;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x66F4;&#x63A8;&#x8350;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;System.exit(0)&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9000;&#x51FA;JVM&#x3002;</li><li>&#x5BF9;&#x4E8E;&#x5F3A;&#x5236;&#x5173;&#x95ED;&#x7684;&#x51E0;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;<code>&#x7CFB;&#x7EDF;&#x5173;&#x673A;</code>&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x901A;&#x77E5;JVM&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x5173;&#x95ED;&#xFF0C;&#x4E00;&#x65E6;&#x7B49;&#x5F85;&#x8D85;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5F3A;&#x5236;&#x4E2D;&#x6B62;JVM&#x8FDB;&#x7A0B;&#xFF1B;&#x800C;<code>kill -9</code>&#x3001;<code>Runtime.halt()</code>&#x3001;<code>&#x65AD;&#x7535;</code>&#x3001;<code>&#x7CFB;&#x7EDF;crash</code>&#x8FD9;&#x4E9B;&#x65B9;&#x5F0F;&#x4F1A;&#x76F4;&#x63A5;&#x65E0;&#x5546;&#x91CF;&#x4E2D;&#x6B62;JVM&#x8FDB;&#x7A0B;&#xFF0C;JVM&#x5B8C;&#x5168;&#x6CA1;&#x6709;&#x6267;&#x884C;&#x626B;&#x5C3E;&#x5DE5;&#x4F5C;&#x7684;&#x673A;&#x4F1A;&#x3002;</li></ol><h3 id="&#x5982;&#x4F55;&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;"><a href="#&#x5982;&#x4F55;&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;" class="headerlink" title="&#x5982;&#x4F55;&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;"></a>&#x5982;&#x4F55;&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;</h3><p>&#x5728;Java&#x4E2D;&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x901A;&#x8FC7;Runtime&#x7C7B;&#x5B9E;&#x73B0;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Runtime.getRuntime().addShutdownHook(<span class="keyword">new</span> Thread(){</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="comment">// &#x5728;JVM&#x5173;&#x95ED;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x6536;&#x5C3E;&#x5DE5;&#x4F5C;</span></span><br><span class="line">        <span class="comment">// &#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A;</span></span><br><span class="line">        <span class="comment">// 1.&#x5728;&#x8FD9;&#x91CC;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;&#x4E0D;&#x80FD;&#x8017;&#x65F6;&#x592A;&#x4E45;</span></span><br><span class="line">        <span class="comment">// 2.&#x4E0D;&#x80FD;&#x5728;&#x8FD9;&#x91CC;&#x518D;&#x6267;&#x884C;&#x6CE8;&#x518C;&#xFF0C;&#x79FB;&#x9664;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x64CD;&#x4F5C;</span></span><br><span class="line">        <span class="comment">// 3 &#x4E0D;&#x80FD;&#x5728;&#x8FD9;&#x91CC;&#x8C03;&#x7528;System.exit()</span></span><br><span class="line">        System.out.println(<span class="string">&quot;do shutdown hook&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></table></figure><p>&#x4E3A;JVM&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x65F6;&#x673A;&#x4E0D;&#x56FA;&#x5B9A;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x542F;&#x52A8;Java&#x8FDB;&#x7A0B;&#x4E4B;&#x524D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;Java&#x8FDB;&#x7A0B;&#x4E4B;&#x540E;&#xFF08;&#x5982;&#xFF1A;&#x5728;&#x76D1;&#x542C;&#x5230;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4FE1;&#x53F7;&#x91CF;&#x4E4B;&#x540E;&#x518D;&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF09;&#x3002;</p><h3 id="&#x4F7F;&#x7528;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;"><a href="#&#x4F7F;&#x7528;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;" class="headerlink" title="&#x4F7F;&#x7528;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;"></a>&#x4F7F;&#x7528;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h3><p>1.&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF08;&#x4E5F;&#x79F0;&#x4E3A;Hook&#x7EBF;&#x7A0B;&#xFF09;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;JVM&#x4E2D;&#x6CE8;&#x518C;&#x7684;&#x591A;&#x4E2A;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x5B83;&#x4EEC;&#x5C06;&#x4F1A;&#x5E76;&#x53D1;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;JVM&#x5E76;&#x4E0D;&#x4FDD;&#x8BC1;&#x5B83;&#x4EEC;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#xFF1B;&#x7531;&#x4E8E;&#x662F;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5F88;&#x53EF;&#x80FD;&#x56E0;&#x4E3A;&#x4EE3;&#x7801;&#x4E0D;&#x5F53;&#x5BFC;&#x81F4;&#x51FA;&#x73B0;&#x7ADE;&#x6001;&#x6761;&#x4EF6;&#x6216;&#x6B7B;&#x9501;&#x7B49;&#x95EE;&#x9898;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8BE5;&#x95EE;&#x9898;&#xFF0C;&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x53EA;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x94A9;&#x5B50;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x6267;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x3002;<br>2.Hook&#x7EBF;&#x7A0B;&#x4F1A;&#x5EF6;&#x8FDF;JVM&#x7684;&#x5173;&#x95ED;&#x65F6;&#x95F4;&#xFF0C;&#x8FD9;&#x5C31;&#x8981;&#x6C42;&#x5728;&#x7F16;&#x5199;&#x94A9;&#x5B50;&#x8FC7;&#x7A0B;&#x4E2D;&#x5FC5;&#x987B;&#x8981;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x51CF;&#x5C11;Hook&#x7EBF;&#x7A0B;&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4;&#xFF0C;&#x907F;&#x514D;hook&#x7EBF;&#x7A0B;&#x4E2D;&#x51FA;&#x73B0;&#x8017;&#x65F6;&#x7684;&#x8BA1;&#x7B97;&#x3001;&#x7B49;&#x5F85;&#x7528;&#x6237;I/O&#x7B49;&#x7B49;&#x64CD;&#x4F5C;&#x3002;<br>3.&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EF;&#x80FD;&#x88AB;&#x5F3A;&#x5236;&#x6253;&#x65AD;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5173;&#x673A;&#x65F6;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x7B49;&#x5F85;&#x8FDB;&#x7A0B;&#x505C;&#x6B62;&#xFF0C;&#x7B49;&#x5F85;&#x8D85;&#x65F6;&#xFF0C;&#x8FDB;&#x7A0B;&#x4ECD;&#x672A;&#x505C;&#x6B62;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5F3A;&#x5236;&#x7684;&#x6740;&#x6B7B;&#x8BE5;&#x8FDB;&#x7A0B;&#xFF0C;&#x5728;&#x8FD9;&#x7C7B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x5728;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x88AB;&#x5F3A;&#x5236;&#x4E2D;&#x6B62;&#x3002;<br>4.&#x5728;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x4E2D;&#xFF0C;&#x4E0D;&#x80FD;&#x6267;&#x884C;&#x6CE8;&#x518C;&#x3001;&#x79FB;&#x9664;&#x94A9;&#x5B50;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;JVM&#x5C06;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x5E8F;&#x5217;&#x521D;&#x59CB;&#x5316;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x518D;&#x6B21;&#x6DFB;&#x52A0;&#x6216;&#x8005;&#x79FB;&#x9664;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x94A9;&#x5B50;&#xFF0C;&#x5426;&#x5219;JVM&#x629B;&#x51FA;IllegalStateException&#x5F02;&#x5E38;&#x3002;<br>5.&#x4E0D;&#x80FD;&#x5728;&#x94A9;&#x5B50;&#x8C03;&#x7528;System.exit()&#xFF0C;&#x5426;&#x5219;&#x5361;&#x4F4F;JVM&#x7684;&#x5173;&#x95ED;&#x8FC7;&#x7A0B;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x8C03;&#x7528;Runtime.halt()&#x3002;<br>6.Hook&#x7EBF;&#x7A0B;&#x4E2D;&#x540C;&#x6837;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5BF9;&#x4E8E;&#x672A;&#x6355;&#x6349;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x7EBF;&#x7A0B;&#x7684;&#x9ED8;&#x8BA4;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;&#x5904;&#x7406;&#x8BE5;&#x5F02;&#x5E38;&#xFF08;&#x5C06;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x6253;&#x5370;&#x5230;System.err&#xFF09;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5176;&#x4ED6;hook&#x7EBF;&#x7A0B;&#x4EE5;&#x53CA;JVM&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x3002;</p><h3 id="&#x4FE1;&#x53F7;&#x91CF;&#x673A;&#x5236;"><a href="#&#x4FE1;&#x53F7;&#x91CF;&#x673A;&#x5236;" class="headerlink" title="&#x4FE1;&#x53F7;&#x91CF;&#x673A;&#x5236;"></a>&#x4FE1;&#x53F7;&#x91CF;&#x673A;&#x5236;</h3><p><img src="/2019/09/06/&#x8F6C;&#x8F7D;-&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5730;&#x505C;&#x6B62;Java&#x8FDB;&#x7A0B;/pic2.png" alt></p><p>&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x5728;JVM&#x5173;&#x95ED;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x6536;&#x5C3E;&#x7684;&#x52A8;&#x4F5C;&#xFF0C;&#x800C;&#x4ECE;&#x4E0A;&#x8FF0;&#x63CF;&#x8FF0;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;&#x89E6;&#x53D1;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x52A8;&#x4F5C;&#x7684;&#x6267;&#x884C;&#x9700;&#x8981;&#x6EE1;&#x8DB3;JVM&#x6B63;&#x5E38;&#x5173;&#x95ED;&#x6216;&#x5F02;&#x5E38;&#x5173;&#x95ED;&#x7684;&#x60C5;&#x5F62;&#x3002;<br>&#x663E;&#x7136;&#xFF0C;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x6B63;&#x5E38;&#x5173;&#x95ED;JVM&#xFF08;&#x5F02;&#x5E38;&#x5173;&#x95ED;JVM&#x7684;&#x60C5;&#x5F62;&#x4E0D;&#x5E0C;&#x671B;&#x53D1;&#x751F;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x767E;&#x5206;&#x4E4B;&#x767E;&#x5730;&#x5B8C;&#x5168;&#x675C;&#x7EDD;&#xFF09;&#xFF0C;&#x5373;&#x6267;&#x884C;&#xFF1A;<code>System.exit()</code>&#xFF0C;<code>Ctrl + C</code>&#xFF0C; <code>kill -15 &#x8FDB;&#x7A0B;ID</code>&#x3002;</p><ul><li>System.exit()&#xFF1A;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x662F;&#x5728;&#x5E94;&#x7528;&#x4EE3;&#x7801;&#x4E2D;&#x5199;&#x6B7B;&#x7684;&#xFF0C;&#x65E0;&#x6CD5;&#x5728;&#x8FDB;&#x7A0B;&#x5916;&#x90E8;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x3002;</li><li>Ctrl + C&#xFF1A;&#x5982;&#x679C;Java&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x524D;&#x53F0;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x952E;&#x76D8;&#x4E2D;&#x65AD;&#x7684;&#x65B9;&#x5F0F;&#x7ED3;&#x675F;&#x8FD0;&#x884C;&#xFF1B;&#x4F46;&#x662F;&#x5F53;&#x8FDB;&#x7A0B;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x5C31;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;<code>Ctrl + C</code>&#x65B9;&#x5F0F;&#x9000;&#x51FA;&#x4E86;&#x3002;</li><li>Kill (-15)SIGTERM&#x4FE1;&#x53F7;&#xFF1A;&#x4F7F;&#x7528;kill&#x547D;&#x4EE4;&#x7ED3;&#x675F;&#x8FDB;&#x7A0B;&#x662F;&#x4F7F;&#x7528;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4FE1;&#x53F7;&#x91CF;&#x673A;&#x5236;&#xFF0C;&#x4E0D;&#x8BBA;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x524D;&#x53F0;&#x8FD8;&#x662F;&#x540E;&#x53F0;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;kill&#x547D;&#x4EE4;&#x7ED3;&#x675F;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x7ED3;&#x675F;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x5F97;&#x6700;&#x591A;&#x7684;&#x65B9;&#x5F0F;&#x3002;</li></ul><p>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x8FDB;&#x7A0B;&#x7ED3;&#x675F;&#x64CD;&#x4F5C;&#x901A;&#x5E38;&#x662F;&#x5728;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x505C;&#x6B62;&#x8FDB;&#x7A0B;&#x6216;&#x8005;&#x91CD;&#x542F;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7B49;&#x5F85;&#x8FDB;&#x7A0B;&#x81EA;&#x5DF1;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#xFF08;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x90FD;&#x662F;&#x4E00;&#x76F4;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x5E76;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x7ED3;&#x675F;&#xFF09;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x9488;&#x5BF9;JVM&#x6B63;&#x5E38;&#x5173;&#x95ED;&#x7684;&#x60C5;&#x5F62;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x662F;&#x4F7F;&#x7528;<code>kill -15 &#x8FDB;&#x7A0B;ID</code>&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x90A3;&#x4E48;&#xFF0C;&#x6211;&#x4EEC;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4FE1;&#x53F7;&#x91CF;&#x673A;&#x5236;&#x548C;JVM&#x7684;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x5B9E;&#x73B0;&#x4F18;&#x96C5;&#x5730;&#x5173;&#x95ED;Java&#x8FDB;&#x7A0B;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x662F;&#x80AF;&#x5B9A;&#x7684;&#xFF0C;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;</p><p>&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x76D1;&#x542C;&#x4FE1;&#x53F7;&#x91CF;<br>&#x7531;&#x4E8E;&#x4E0D;&#x901A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7C7B;&#x578B;&#x5B9E;&#x73B0;&#x7684;&#x4FE1;&#x53F7;&#x91CF;&#x52A8;&#x4F5C;&#x5B58;&#x5728;&#x5DEE;&#x5F02;&#xFF0C;&#x6240;&#x4EE5;&#x76D1;&#x542C;&#x7684;&#x4FE1;&#x53F7;&#x91CF;&#x9700;&#x8981;&#x6839;&#x636E;Java&#x8FDB;&#x7A0B;&#x5B9E;&#x9645;&#x8FD0;&#x884C;&#x7684;&#x73AF;&#x5883;&#x800C;&#x5B9A;&#xFF08;&#x5982;&#xFF1A;Windows&#x4F7F;&#x7528;SIGINT&#xFF0C;Linux&#x4F7F;&#x7528;SIGTERM&#xFF09;&#x3002;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Signal sg = <span class="keyword">new</span> Signal(<span class="string">&quot;TERM&quot;</span>); <span class="comment">// kill -15 pid</span></span><br><span class="line">Signal.handle(sg, <span class="keyword">new</span> SignalHandler() {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handle</span><span class="params">(Signal signal)</span> </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;signal handle: &quot;</span> + signal.getName());</span><br><span class="line">        <span class="comment">// &#x76D1;&#x542C;&#x4FE1;&#x53F7;&#x91CF;&#xFF0C;&#x901A;&#x8FC7;System.exit(0)&#x6B63;&#x5E38;&#x5173;&#x95ED;JVM&#xFF0C;&#x89E6;&#x53D1;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x6267;&#x884C;&#x6536;&#x5C3E;&#x5DE5;&#x4F5C;</span></span><br><span class="line">        System.exit(<span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></table></figure><p>&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Runtime.getRuntime().addShutdownHook(<span class="keyword">new</span> Thread(){</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="comment">// &#x6267;&#x884C;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x524D;&#x7684;&#x5DE5;&#x4F5C;</span></span><br><span class="line">        <span class="comment">// &#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A;</span></span><br><span class="line">        <span class="comment">// 1.&#x5728;&#x8FD9;&#x91CC;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;&#x4E0D;&#x80FD;&#x8017;&#x65F6;&#x592A;&#x4E45;</span></span><br><span class="line">        <span class="comment">// 2.&#x4E0D;&#x80FD;&#x5728;&#x8FD9;&#x91CC;&#x518D;&#x6267;&#x884C;&#x6CE8;&#x518C;&#xFF0C;&#x79FB;&#x9664;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x64CD;&#x4F5C;</span></span><br><span class="line">        <span class="comment">// 3 &#x4E0D;&#x80FD;&#x5728;&#x8FD9;&#x91CC;&#x8C03;&#x7528;System.exit()</span></span><br><span class="line">        System.out.println(<span class="string">&quot;do something&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></table></figure><p>&#x5B8C;&#x6574;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShutdownTest</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;Shutdown Test&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Signal sg = <span class="keyword">new</span> Signal(<span class="string">&quot;TERM&quot;</span>); <span class="comment">// kill -15 pid</span></span><br><span class="line">        <span class="comment">// &#x76D1;&#x542C;&#x4FE1;&#x53F7;&#x91CF;</span></span><br><span class="line">        Signal.handle(sg, <span class="keyword">new</span> SignalHandler() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handle</span><span class="params">(Signal signal)</span> </span>{</span><br><span class="line">                System.out.println(<span class="string">&quot;signal handle: &quot;</span> + signal.getName());</span><br><span class="line">                System.exit(<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">        <span class="comment">// &#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;</span></span><br><span class="line">        Runtime.getRuntime().addShutdownHook(<span class="keyword">new</span> Thread(){</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">                <span class="comment">// &#x5728;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x4E2D;&#x6267;&#x884C;&#x6536;&#x5C3E;&#x5DE5;&#x4F5C;</span></span><br><span class="line">                <span class="comment">// &#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A;</span></span><br><span class="line">                <span class="comment">// 1.&#x5728;&#x8FD9;&#x91CC;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;&#x4E0D;&#x80FD;&#x8017;&#x65F6;&#x592A;&#x4E45;</span></span><br><span class="line">                <span class="comment">// 2.&#x4E0D;&#x80FD;&#x5728;&#x8FD9;&#x91CC;&#x518D;&#x6267;&#x884C;&#x6CE8;&#x518C;&#xFF0C;&#x79FB;&#x9664;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x64CD;&#x4F5C;</span></span><br><span class="line">                <span class="comment">// 3 &#x4E0D;&#x80FD;&#x5728;&#x8FD9;&#x91CC;&#x8C03;&#x7528;System.exit()</span></span><br><span class="line">                System.out.println(<span class="string">&quot;do shutdown hook&quot;</span>);</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        mockWork();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Done.&quot;</span>);</span><br><span class="line">        System.exit(<span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x6A21;&#x62DF;&#x8FDB;&#x7A0B;&#x6B63;&#x5728;&#x8FD0;&#x884C;</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mockWork</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="comment">//mockRuntimeException();</span></span><br><span class="line">        <span class="comment">//mockOOM();</span></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            Thread.sleep(<span class="number">120</span> * <span class="number">1000</span>);</span><br><span class="line">        } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        } </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x6A21;&#x62DF;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x629B;&#x51FA;RuntimeException&#x65F6;&#x4F1A;&#x8C03;&#x7528;&#x6CE8;&#x518C;&#x94A9;&#x5B50;</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mockRuntimeException</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;This is a mock runtime ex&quot;</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x6A21;&#x62DF;&#x5E94;&#x7528;&#x8FD0;&#x884C;&#x51FA;&#x73B0;OOM&#x65F6;&#x4F1A;&#x8C03;&#x7528;&#x6CE8;&#x518C;&#x94A9;&#x5B50;</span></span><br><span class="line">    <span class="comment">// -xms10m -xmx10m</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mockOOM</span><span class="params">()</span> </span>{</span><br><span class="line">        List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000000</span>; i++) {</span><br><span class="line">            list.add(<span class="keyword">new</span> Object());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h2><p>&#x7F51;&#x4E0A;&#x6709;&#x6587;&#x7AE0;&#x603B;&#x7ED3;&#x8BF4;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x76D1;&#x542C;&#x4FE1;&#x53F7;&#x91CF;&#x7684;&#x673A;&#x5236;&#x6765;&#x5B9E;&#x73B0;&#x4F18;&#x96C5;&#x5730;&#x5173;&#x95ED;Java&#x8FDB;&#x7A0B;&#xFF08;&#x8BE6;&#x89C1;&#xFF1A;<a href="https://blog.csdn.net/carlislelee/article/details/52688693" target="_blank" rel="noopener">Java&#x7A0B;&#x5E8F;&#x4F18;&#x96C5;&#x5173;&#x95ED;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;</a>)&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x662F;&#x6709;&#x95EE;&#x9898;&#x7684;&#x3002;&#x56E0;&#x4E3A;&#x5355;&#x7EAF;&#x5730;&#x76D1;&#x542C;&#x4FE1;&#x53F7;&#x91CF;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x8986;&#x76D6;&#x5230;&#x5F02;&#x5E38;&#x5173;&#x95ED;JVM&#x7684;&#x60C5;&#x5F62;&#xFF08;&#x5982;&#xFF1A;RuntimeException&#x6216;OOM&#xFF09;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E0E;&#x6CE8;&#x518C;&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#xFF1A;<br>1.&#x5173;&#x95ED;&#x94A9;&#x5B50;&#x662F;&#x5728;&#x72EC;&#x7ACB;&#x7EBF;&#x7A0B;&#x4E2D;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x5F53;&#x5E94;&#x7528;&#x8FDB;&#x7A0B;&#x88AB;kill&#x7684;&#x65F6;&#x5019;main&#x51FD;&#x6570;&#x5C31;&#x5DF2;&#x7ECF;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x4EC5;&#x4F1A;&#x8FD0;&#x884C;ShutdownHook&#x7EBF;&#x7A0B;&#x4E2D;run()&#x65B9;&#x6CD5;&#x7684;&#x4EE3;&#x7801;&#x3002;<br>2.&#x76D1;&#x542C;&#x4FE1;&#x53F7;&#x91CF;&#x65B9;&#x6CD5;&#x4E2D;handle&#x51FD;&#x6570;&#x4F1A;&#x5728;&#x8FDB;&#x7A0B;&#x88AB;kill&#x65F6;&#x6536;&#x5230;TERM&#x4FE1;&#x53F7;&#xFF0C;&#x4F46;&#x5BF9;main&#x51FD;&#x6570;&#x7684;&#x8FD0;&#x884C;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x522B;&#x7684;&#x65B9;&#x5F0F;&#x7ED3;&#x675F;main&#x51FD;&#x6570;&#xFF08;&#x5982;&#xFF1A;&#x5728;main&#x51FD;&#x6570;&#x4E2D;&#x6DFB;&#x52A0;&#x5E03;&#x5C14;&#x7C7B;&#x578B;&#x7684;flag&#xFF0C;&#x5F53;&#x6536;&#x5230;TERM&#x4FE1;&#x53F7;&#x65F6;&#x4FEE;&#x6539;&#x8BE5;flag&#xFF0C;&#x7A0B;&#x5E8F;&#x4FBF;&#x4F1A;&#x6B63;&#x5E38;&#x7ED3;&#x675F;&#xFF1B;&#x6216;&#x8005;&#x5728;handle&#x51FD;&#x6570;&#x4E2D;&#x8C03;&#x7528;System.exit())&#x3002;</p><p>&#x3010;&#x53C2;&#x8003;&#x3011;<br><a href="https://blog.csdn.net/u011001084/article/details/73480432" target="_blank" rel="noopener">https://blog.csdn.net/u011001084/article/details/73480432</a> JVM&#x5B89;&#x5168;&#x9000;&#x51FA;&#xFF08;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x7684;&#x5173;&#x95ED;java&#x670D;&#x52A1;&#xFF09;<br><a href="http://yuanke52014.iteye.com/blog/2306805" target="_blank" rel="noopener">http://yuanke52014.iteye.com/blog/2306805</a> Java&#x4FDD;&#x8BC1;&#x7A0B;&#x5E8F;&#x7ED3;&#x675F;&#x65F6;&#x8C03;&#x7528;&#x91CA;&#x653E;&#x8D44;&#x6E90;&#x51FD;&#x6570;<br><a href="https://tessykandy.iteye.com/blog/2005767" target="_blank" rel="noopener">https://tessykandy.iteye.com/blog/2005767</a> &#x57FA;&#x4E8E;kill&#x4FE1;&#x53F7;&#x4F18;&#x96C5;&#x7684;&#x5173;&#x95ED;JAVA&#x7A0B;&#x5E8F;<br><a href="https://www.cnblogs.com/taobataoma/archive/2007/08/30/875743.html" target="_blank" rel="noopener">https://www.cnblogs.com/taobataoma/archive/2007/08/30/875743.html</a> Linux &#x4FE1;&#x53F7;signal&#x5904;&#x7406;&#x673A;&#x5236;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://www.cnblogs.com/nuccch/p/10903162.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.cnblogs.com/nuccch/p/10903162.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x7406;&amp;#x89E3;&amp;#x505C;&amp;#x6B62;Java&amp;#x8FDB;&amp;#x7A0B;&amp;#x7684;&amp;#x672C;&amp;#x8D28;&quot;&gt;&lt;a href=&quot;#&amp;#x7406;&amp;#x89E3;&amp;#x505C;&amp;#x6B62;Java&amp;#x8FDB;&amp;#x7A0B;&amp;#x7684;&amp;#x672C;&amp;#x8D28;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7406;&amp;#x89E3;&amp;#x505C;&amp;#x6B62;Java&amp;#x8FDB;&amp;#x7A0B;&amp;#x7684;&amp;#x672C;&amp;#x8D28;&quot;&gt;&lt;/a&gt;&amp;#x7406;&amp;#x89E3;&amp;#x505C;&amp;#x6B62;Java&amp;#x8FDB;&amp;#x7A0B;&amp;#x7684;&amp;#x672C;&amp;#x8D28;&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x77E5;&amp;#x9053;&amp;#xFF0C;Java&amp;#x7A0B;&amp;#x5E8F;&amp;#x7684;&amp;#x8FD0;&amp;#x884C;&amp;#x9700;&amp;#x8981;&amp;#x4E00;&amp;#x4E2A;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;&amp;#x73AF;&amp;#x5883;&amp;#xFF0C;&amp;#x5373;&amp;#xFF1A;JVM&amp;#xFF0C;&amp;#x542F;&amp;#x52A8;Java&amp;#x8FDB;&amp;#x7A0B;&amp;#x5373;&amp;#x542F;&amp;#x52A8;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;JVM&amp;#x3002;&lt;br&gt;&amp;#x56E0;&amp;#x6B64;&amp;#xFF0C;&amp;#x6240;&amp;#x8C13;&amp;#x505C;&amp;#x6B62;Java&amp;#x8FDB;&amp;#x7A0B;&amp;#xFF0C;&amp;#x672C;&amp;#x8D28;&amp;#x4E0A;&amp;#x5C31;&amp;#x662F;&amp;#x5173;&amp;#x95ED;JVM&amp;#x3002;&lt;br&gt;&amp;#x90A3;&amp;#x4E48;&amp;#xFF0C;&amp;#x54EA;&amp;#x4E9B;&amp;#x60C5;&amp;#x51B5;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;JVM&amp;#x5173;&amp;#x95ED;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="JVM关闭" scheme="https://cqh-i.github.io/tags/JVM%E5%85%B3%E9%97%AD/"/>
    
  </entry>
  
  <entry>
    <title>容斥原理题目</title>
    <link href="https://cqh-i.github.io/2019/09/05/%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86%E9%A2%98%E7%9B%AE/"/>
    <id>https://cqh-i.github.io/2019/09/05/容斥原理题目/</id>
    <published>2019-09-05T00:12:01.000Z</published>
    <updated>2019-09-05T00:41:54.046Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x9898;&#x76EE;"><a href="#&#x9898;&#x76EE;" class="headerlink" title="&#x9898;&#x76EE;"></a>&#x9898;&#x76EE;</h2><p>&#x7238;&#x7238;&#x53BB;&#x54EA;&#x513F;&#x4E2D;&#x7684;3&#x5BF9;&#x7236;&#x5B50;&#x7AD9;&#x6210;&#x4E00;&#x6392;&#xFF0C;&#x5404;&#x81EA;&#x7236;&#x5B50;&#x4E4B;&#x95F4;&#x4E0D;&#x80FD;&#x76F8;&#x90BB;&#xFF0C;&#x6BD4;&#x5982;&#x77F3;&#x5934;&#x4E0D;&#x80FD;&#x548C;&#x90ED;&#x6D9B;&#x6328;&#x7740;&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#xFF0C;&#x5171;&#x6709;&#x51E0;&#x79CD;&#x7AD9;&#x6CD5;&#xFF1F;</p><a id="more"></a><h2 id="&#x89E3;&#x6790;"><a href="#&#x89E3;&#x6790;" class="headerlink" title="&#x89E3;&#x6790;"></a>&#x89E3;&#x6790;</h2><p>&#x5BB9;&#x65A5;&#x539F;&#x7406;&#x3002;</p><p>&#x5927;&#x5706;&#x8868;&#x793A;&#x603B;&#x4E8B;&#x4EF6;(6&#x4EBA;&#x5168;&#x6392;&#x5217;)&#xFF0C;&#x5C0F;&#x5706;1/2/3&#x8868;&#x793A;1/2/3&#x53F7;&#x7236;&#x5B50;&#x76F8;&#x90BB;&#x7684;&#x4E8B;&#x4EF6;(&#x5982;&#x77F3;&#x5934;&#x4E0E;&#x90ED;&#x6D9B;&#x4E3A;1&#x53F7;&#x7236;&#x5B50;&#xFF0C;&#x5176;&#x4F59;2&#x5BF9;&#x4E3A;2/3&#x53F7;&#x7236;&#x5B50;)&#x76F8;&#x90BB;&#x7684;&#x4E8B;&#x4EF6;</p><p><img src="/2019/09/05/&#x5BB9;&#x65A5;&#x539F;&#x7406;&#x9898;&#x76EE;/pic1.png" alt></p><p>1.&#x5927;&#x5706;&#x8868;&#x793A;&#x6240;&#x6709;&#x60C5;&#x51B5;&#xFF0C;&#x5171;$6!$&#x79CD;&#xFF1B;<br>2.&#x4E09;&#x4E2A;&#x5C0F;&#x5706;&#x5206;&#x522B;&#x8868;&#x793A;&#x7B2C;1&#xFF0C;2&#xFF0C;3&#x5BF9;&#x7236;&#x5B50;&#x76F8;&#x90BB;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6BCF;&#x4E2A;&#x5C0F;&#x5706;&#x5305;&#x542B;$2 * 5!$&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6B64;&#x5904;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x7B2C;&#x4E00;&#x5BF9;&#x7236;&#x5B50;&#x76F8;&#x90BB;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x8BE5;&#x7236;&#x5B50;&#x770B;&#x4F5C;&#x6574;&#x4F53;&#xFF0C;&#x4E0E;&#x5269;&#x4E0B;4&#x4EBA;&#x4E00;&#x8D77;&#x5168;&#x6392;&#x5217;&#xFF0C;&#x6709;$5!$&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x8BE5;&#x7236;&#x5B50;&#x7684;&#x4F4D;&#x7F6E;&#x53EF;&#x4EE5;&#x4E92;&#x6362;&#xFF0C;&#x6545;&#x518D;&#x4E58;&#x4EE5;2&#xFF1B;<br>&#x7ECF;&#x8FC7;&#x4E0A;&#x8FF0;&#x5B9A;&#x4E49;&#xFF0C;&#x5219;&#x4E24;&#x4E2A;&#x5C0F;&#x5706;&#x76F8;&#x4EA4;&#x7684;&#x533A;&#x57DF;&#x8868;&#x793A;&#x6709;&#x4E24;&#x5BF9;&#x7236;&#x5B50;&#x76F8;&#x90BB;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4E09;&#x4E2A;&#x5C0F;&#x5706;&#x76F8;&#x4EA4;&#x7684;&#x533A;&#x57DF;&#x8868;&#x793A;&#x6709;&#x4E09;&#x961F;&#x7236;&#x5B50;&#x76F8;&#x90BB;&#x7684;&#x60C5;&#x51B5;&#xFF1B;<br>&#x518D;&#x56DE;&#x5230;&#x8BE5;&#x9898;&#x76EE;&#xFF0C;&#x9898;&#x76EE;&#x8981;&#x6C42;&#x7684;&#x5C31;&#x662F;&#x5927;&#x5706;&#x4E2D;&#x672A;&#x88AB;&#x5C0F;&#x5706;&#x8986;&#x76D6;&#x7684;&#x533A;&#x57DF;&#xFF0C;&#x6839;&#x636E;&#x96C6;&#x5408;&#x8FD0;&#x7B97;&#x6CD5;&#x5219;&#xFF0C;&#x5F97;&#x5230;&#xFF1A;</p><p>$6!- (2 <em> 5! </em> 3 - 4 <em> 4! </em> 3 + 8 * 3!)=240$(&#x79CD;)</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;&amp;#x9898;&amp;#x76EE;&quot;&gt;&lt;a href=&quot;#&amp;#x9898;&amp;#x76EE;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9898;&amp;#x76EE;&quot;&gt;&lt;/a&gt;&amp;#x9898;&amp;#x76EE;&lt;/h2&gt;&lt;p&gt;&amp;#x7238;&amp;#x7238;&amp;#x53BB;&amp;#x54EA;&amp;#x513F;&amp;#x4E2D;&amp;#x7684;3&amp;#x5BF9;&amp;#x7236;&amp;#x5B50;&amp;#x7AD9;&amp;#x6210;&amp;#x4E00;&amp;#x6392;&amp;#xFF0C;&amp;#x5404;&amp;#x81EA;&amp;#x7236;&amp;#x5B50;&amp;#x4E4B;&amp;#x95F4;&amp;#x4E0D;&amp;#x80FD;&amp;#x76F8;&amp;#x90BB;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x77F3;&amp;#x5934;&amp;#x4E0D;&amp;#x80FD;&amp;#x548C;&amp;#x90ED;&amp;#x6D9B;&amp;#x6328;&amp;#x7740;&amp;#xFF0C;&amp;#x4EE5;&amp;#x6B64;&amp;#x7C7B;&amp;#x63A8;&amp;#xFF0C;&amp;#x5171;&amp;#x6709;&amp;#x51E0;&amp;#x79CD;&amp;#x7AD9;&amp;#x6CD5;&amp;#xFF1F;&lt;/p&gt;
    
    </summary>
    
      <category term="数学分析" scheme="https://cqh-i.github.io/categories/%E6%95%B0%E5%AD%A6%E5%88%86%E6%9E%90/"/>
    
    
      <category term="容斥原理" scheme="https://cqh-i.github.io/tags/%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>一段Java小程序</title>
    <link href="https://cqh-i.github.io/2019/09/04/%E4%B8%80%E6%AE%B5Java%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    <id>https://cqh-i.github.io/2019/09/04/一段Java小程序/</id>
    <published>2019-09-04T13:18:42.000Z</published>
    <updated>2019-09-05T00:43:46.883Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8BF7;&#x5199;&#x51FA;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x540E;&#x7684;&#x7ED3;&#x679C;</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">()</span> </span>{</span><br><span class="line">        PrintFields();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PrintFields</span><span class="params">()</span> </span>{</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">()</span> </span>{</span><br><span class="line">        y = -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PrintFields</span><span class="params">()</span> </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;x=&quot;</span> + x + <span class="string">&quot;,y=&quot;</span> + y);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        B b = <span class="keyword">new</span> B();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x7ED3;&#x679C;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x=0,y=0</span><br></pre></td></tr></table></figure></p><p>&#x89E3;&#x6790;:<br>&#x56E0;&#x4E3A;&#x5728;&#x521B;&#x5EFA;B&#x7C7B;&#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8C03;&#x7528;&#x4E86;B&#x7C7B;&#x6784;&#x9020;&#x5668;&#xFF0C;&#x4F46;&#x5728;&#x8C03;&#x7528;&#x6784;&#x9020;&#x5668;&#x4E4B;&#x524D;&#xFF0C;JAVA&#x5148;&#x5BF9;B&#x7C7B;&#x5185;&#x5404;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x5B8C;&#x6210;&#x5BF9;&#x57FA;&#x7C7B;&#x7684;&#x6210;&#x5458;&#x521D;&#x59CB;&#x5316;&#x7136;&#x540E;&#x624D;&#x662F;B&#x7C7B;&#x81EA;&#x5DF1;&#x7684;&#x6210;&#x5458;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x65E0;&#x8BBA;&#x4F60;&#x5728;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x5904;&#x6307;&#x5B9A;&#x4EFB;&#x4F55;&#x503C;&#xFF0C;JAVA&#x90FD;&#x4F1A;&#x8D4B;&#x7ED9;&#x5404;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x9ED8;&#x8BA4;&#x7684;&#x521D;&#x59CB;&#x503C;&#xFF0C;&#x5BF9;&#x4E8E;&#x6570;&#x503C;&#x7C7B;&#x578B;&#x5C31;&#x662F;0&#xFF0C;&#x5BF9;&#x4E8E;&#x5F15;&#x7528;&#x5C31;&#x662F;NULL&#xFF0C;&#x6240;&#x4EE5;&#x521D;&#x59CB;&#x5316;&#x5B8C;&#x6BD5;&#xFF0C;x=0,y=0&#x3002;<br>&#x7136;&#x540E;&#x518D;&#x8C03;&#x7528;&#x57FA;&#x7C7B;&#x7684;&#x6784;&#x9020;&#x5668;&#xFF0C;&#x4F46;&#x5728;A&#x7C7B;&#x7684;&#x6784;&#x9020;&#x5668;&#x4E2D;&#x8C03;&#x7528;&#x4E86;printFields()&#xFF0C;&#x800C;B&#x7C7B;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;printFields()&#xFF0C;<br>&#x5B83;&#x8986;&#x76D6;&#x4E86;A&#x7C7B;&#x7684;printFields()&#xFF0C;&#x7531;&#x4E8E;&#x591A;&#x6001;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x6240;&#x4EE5;JAVA&#x8C03;&#x7528;B&#x7C7B;&#x7684;printFields()&#xFF0C;&#x6240;&#x4EE5;&#x8F93;&#x51FA;x=0,y=0&#x3002;<br>&#x5728;&#x4ECE;A&#x7C7B;&#x6784;&#x9020;&#x5668;&#x8FD4;&#x56DE;&#x5230;B&#x7C7B;&#x6784;&#x9020;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x60C5;&#x51B5;&#x6709;&#x4E9B;&#x6539;&#x53D8;&#xFF0C;x&#x503C;&#x6B64;&#x65F6;&#x7531;0&#x53D8;&#x6210;1&#xFF0C;&#x8BF4;&#x660E;&#x4F60;&#x5728;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;x&#x65F6;&#x6240;&#x8D4B;&#x7684;&#x521D;&#x503C;&#x5728;&#x6B64;&#x65F6;&#x8D77;&#x4E86;&#x4F5C;&#x7528;&#xFF0C;&#x518D;&#x6B21;&#x8F93;&#x51FA;x=1,y=0&#x3002;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x7A0B;&#x5E8F;&#x5982;&#x4E0B;&#xFF0C;&#x53EA;&#x662F;&#x5728;B&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x91CC;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x6761;&#x8F93;&#x51FA;&#x8BED;&#x53E5;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">()</span> </span>{</span><br><span class="line">        PrintFields();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PrintFields</span><span class="params">()</span> </span>{</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">()</span> </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;x=&quot;</span> + x + <span class="string">&quot;,y=&quot;</span> + y);</span><br><span class="line">        y = -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PrintFields</span><span class="params">()</span> </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;x=&quot;</span> + x + <span class="string">&quot;,y=&quot;</span> + y);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        B b = <span class="keyword">new</span> B();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><p>&#x8FD0;&#x884C;&#x7ED3;&#x679C;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x=0,y=0</span><br><span class="line">x=1,y=0</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8BF7;&amp;#x5199;&amp;#x51FA;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#x8FD0;&amp;#x884C;&amp;#x540E;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://cqh-i.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://cqh-i.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>(转载)超有爱的并查集~</title>
    <link href="https://cqh-i.github.io/2019/09/04/%E8%B6%85%E6%9C%89%E7%88%B1%E7%9A%84%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    <id>https://cqh-i.github.io/2019/09/04/超有爱的并查集/</id>
    <published>2019-09-04T00:48:36.000Z</published>
    <updated>2019-09-04T02:15:08.739Z</updated>
    
    <content type="html"><![CDATA[<p>&#x539F;&#x6587;&#x94FE;&#x63A5;: <a href="https://blog.csdn.net/niushuai666/article/details/6662911" target="_blank" rel="noopener">https://blog.csdn.net/niushuai666/article/details/6662911</a></p><p>&#x4F8B;&#x5B50;&#x5C31;&#x662F;&#x676D;&#x7535;&#x4E0A;&#x7684;<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1232" target="_blank" rel="noopener">&#x7545;&#x901A;&#x5DE5;&#x7A0B;</a>&#xFF1A;</p><p>&#x9996;&#x5148;&#x5728;&#x5730;&#x56FE;&#x4E0A;&#x7ED9;&#x4F60;&#x82E5;&#x5E72;&#x4E2A;&#x57CE;&#x9547;&#xFF0C;&#x8FD9;&#x4E9B;&#x57CE;&#x9547;&#x90FD;&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x544A;&#x8BC9;&#x4F60;&#x54EA;&#x4E9B;&#x5BF9;&#x57CE;&#x9547;&#x4E4B;&#x95F4;&#x662F;&#x6709;&#x9053;&#x8DEF;&#x76F4;&#x63A5;&#x76F8;&#x8FDE;&#x7684;&#x3002;&#x6700;&#x540E;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x662F;&#x6574;&#x5E45;&#x56FE;&#x7684;&#x8FDE;&#x901A;&#x6027;&#x95EE;&#x9898;&#x3002;&#x6BD4;&#x5982;&#x968F;&#x610F;&#x7ED9;&#x4F60;&#x4E24;&#x4E2A;&#x70B9;&#xFF0C;&#x8BA9;&#x4F60;&#x5224;&#x65AD;&#x5B83;&#x4EEC;&#x662F;&#x5426;&#x8FDE;&#x901A;&#xFF0C;&#x6216;&#x8005;&#x95EE;&#x4F60;&#x6574;&#x5E45;&#x56FE;&#x4E00;&#x5171;&#x6709;&#x51E0;&#x4E2A;&#x8FDE;&#x901A;&#x5206;&#x652F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x88AB;&#x5206;&#x6210;&#x4E86;&#x51E0;&#x4E2A;&#x4E92;&#x76F8;&#x72EC;&#x7ACB;&#x7684;&#x5757;&#x3002;&#x50CF;&#x7545;&#x901A;&#x5DE5;&#x7A0B;&#x8FD9;&#x9898;&#xFF0C;&#x95EE;&#x8FD8;&#x9700;&#x8981;&#x4FEE;&#x51E0;&#x6761;&#x8DEF;&#xFF0C;&#x5B9E;&#x8D28;&#x5C31;&#x662F;&#x6C42;&#x6709;&#x51E0;&#x4E2A;&#x8FDE;&#x901A;&#x5206;&#x652F;&#x3002;</p><a id="more"></a><p>&#x5982;&#x679C;&#x662F;1&#x4E2A;&#x8FDE;&#x901A;&#x5206;&#x652F;&#xFF0C;&#x8BF4;&#x660E;&#x6574;&#x5E45;&#x56FE;&#x4E0A;&#x7684;&#x70B9;&#x90FD;&#x8FDE;&#x8D77;&#x6765;&#x4E86;&#xFF0C;&#x4E0D;&#x7528;&#x518D;&#x4FEE;&#x8DEF;&#x4E86;&#xFF1B;&#x5982;&#x679C;&#x662F;2&#x4E2A;&#x8FDE;&#x901A;&#x5206;&#x652F;&#xFF0C;&#x5219;&#x53EA;&#x8981;&#x518D;&#x4FEE;1&#x6761;&#x8DEF;&#xFF0C;&#x4ECE;&#x4E24;&#x4E2A;&#x5206;&#x652F;&#x4E2D;&#x5404;&#x9009;&#x4E00;&#x4E2A;&#x70B9;&#xFF0C;&#x628A;&#x5B83;&#x4EEC;&#x8FDE;&#x8D77;&#x6765;&#xFF0C;&#x90A3;&#x4E48;&#x6240;&#x6709;&#x7684;&#x70B9;&#x90FD;&#x662F;&#x8FDE;&#x8D77;&#x6765;&#x7684;&#x4E86;&#xFF1B;&#x5982;&#x679C;&#x662F;3&#x4E2A;&#x8FDE;&#x901A;&#x5206;&#x652F;&#xFF0C;&#x5219;&#x53EA;&#x8981;&#x518D;&#x4FEE;&#x4E24;&#x6761;&#x8DEF;&#x2026;&#x2026;<br>&#x4EE5;&#x4E0B;&#x9762;&#x8FD9;&#x7EC4;&#x6570;&#x636E;&#x8F93;&#x5165;&#x6570;&#x636E;&#x6765;&#x8BF4;&#x660E;<br>4 2<br>1 3<br>4 3<br>&#x7B2C;&#x4E00;&#x884C;&#x544A;&#x8BC9;&#x4F60;&#xFF0C;&#x4E00;&#x5171;&#x6709;4&#x4E2A;&#x70B9;&#xFF0C;2&#x6761;&#x8DEF;&#x3002;&#x4E0B;&#x9762;&#x4E24;&#x884C;&#x544A;&#x8BC9;&#x4F60;&#xFF0C;1&#x3001;3&#x4E4B;&#x95F4;&#x6709;&#x6761;&#x8DEF;&#xFF0C;4&#x3001;3&#x4E4B;&#x95F4;&#x6709;&#x6761;&#x8DEF;&#x3002;&#x90A3;&#x4E48;&#x6574;&#x5E45;&#x56FE;&#x5C31;&#x88AB;&#x5206;&#x6210;&#x4E86;1-3-4&#x548C;2&#x4E24;&#x90E8;&#x5206;&#x3002;&#x53EA;&#x8981;&#x518D;&#x52A0;&#x4E00;&#x6761;&#x8DEF;&#xFF0C;&#x628A;2&#x548C;&#x5176;&#x4ED6;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x70B9;&#x8FDE;&#x8D77;&#x6765;&#xFF0C;&#x7545;&#x901A;&#x5DE5;&#x7A0B;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x8FD9;&#x7EC4;&#x6570;&#x636E;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5C31;&#x662F;1&#x3002;&#x597D;&#x4E86;&#xFF0C;&#x73B0;&#x5728;&#x7F16;&#x7A0B;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5427;&#xFF0C;&#x57CE;&#x9547;&#x6709;&#x51E0;&#x767E;&#x4E2A;&#xFF0C;&#x8DEF;&#x6709;&#x4E0D;&#x77E5;&#x9053;&#x591A;&#x5C11;&#x6761;&#xFF0C;&#x800C;&#x4E14;&#x53EF;&#x80FD;&#x6709;&#x56DE;&#x8DEF;&#x3002; &#x8FD9;&#x53EF;&#x5982;&#x4F55;&#x662F;&#x597D;&#xFF1F;<br>&#x6211;&#x4EE5;&#x524D;&#x4E5F;&#x4E0D;&#x4F1A;&#x5440;&#xFF0C;&#x81EA;&#x4ECE;&#x7528;&#x4E86;&#x5E76;&#x67E5;&#x96C6;&#x4E4B;&#x540E;&#xFF0C;&#x55E8;&#xFF0C;&#x6548;&#x679C;&#x8FD8;&#x771F;&#x597D;&#xFF01;&#x6211;&#x4EEC;&#x5168;&#x5BB6;&#x90FD;&#x7528;&#x5B83;&#xFF01;<br>&#x5E76;&#x67E5;&#x96C6;&#x7531;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x578B;&#x7684;&#x6570;&#x7EC4;&#x548C;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x6784;&#x6210;&#x3002;&#x6570;&#x7EC4;pre[]&#x8BB0;&#x5F55;&#x4E86;&#x6BCF;&#x4E2A;&#x70B9;&#x7684;&#x524D;&#x5BFC;&#x70B9;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x51FD;&#x6570;find&#x662F;&#x67E5;&#x627E;&#xFF0C;join&#x662F;&#x5408;&#x5E76;&#x3002;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> pre[<span class="number">1010</span>]; <span class="comment">//&#x5B58;&#x653E;&#x7B2C;i&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x7236;&#x8282;&#x70B9;</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">unionsearch</span><span class="params">(<span class="keyword">int</span> root)</span> <span class="comment">//&#x67E5;&#x627E;&#x6839;&#x7ED3;&#x70B9;</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> son, tmp;</span><br><span class="line">son = root;</span><br><span class="line"><span class="keyword">while</span>(root != pre[root]) <span class="comment">//&#x5BFB;&#x627E;&#x6839;&#x7ED3;&#x70B9;</span></span><br><span class="line">root = pre[root];</span><br><span class="line"><span class="keyword">while</span>(son != root) <span class="comment">//&#x8DEF;&#x5F84;&#x538B;&#x7F29;</span></span><br><span class="line">{</span><br><span class="line">tmp = pre[son];</span><br><span class="line">pre[son] = root;</span><br><span class="line">son = tmp;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> root;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">(<span class="keyword">int</span> root1, <span class="keyword">int</span> root2)</span> <span class="comment">//&#x5224;&#x65AD;&#x662F;&#x5426;&#x8FDE;&#x901A;&#xFF0C;&#x4E0D;&#x8FDE;&#x901A;&#x5C31;&#x5408;&#x5E76;</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line">x = unionsearch(root1);</span><br><span class="line">y = unionsearch(root2);</span><br><span class="line"><span class="keyword">if</span>(x != y) <span class="comment">//&#x5982;&#x679C;&#x4E0D;&#x8FDE;&#x901A;&#xFF0C;&#x5C31;&#x628A;&#x5B83;&#x4EEC;&#x6240;&#x5728;&#x7684;&#x8FDE;&#x901A;&#x5206;&#x652F;&#x5408;&#x5E76;</span></span><br><span class="line">pre[x] = y;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x4E3A;&#x4E86;&#x89E3;&#x91CA;&#x5E76;&#x67E5;&#x96C6;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x6211;&#x5C06;&#x4E3E;&#x4E00;&#x4E2A;&#x66F4;&#x6709;&#x7231;&#x7684;&#x4F8B;&#x5B50;&#x3002;</p><p> &#x8BDD;&#x8BF4;&#x6C5F;&#x6E56;&#x4E0A;&#x6563;&#x843D;&#x7740;&#x5404;&#x5F0F;&#x5404;&#x6837;&#x7684;&#x5927;&#x4FA0;&#xFF0C;&#x6709;&#x4E0A;&#x5343;&#x4E2A;&#x4E4B;&#x591A;&#x3002;&#x4ED6;&#x4EEC;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x6B63;&#x5F53;&#x804C;&#x4E1A;&#xFF0C;&#x6574;&#x5929;&#x80CC;&#x7740;&#x5251;&#x5728;&#x5916;&#x9762;&#x8D70;&#x6765;&#x8D70;&#x53BB;&#xFF0C;&#x78B0;&#x5230;&#x548C;&#x81EA;&#x5DF1;&#x4E0D;&#x662F;&#x4E00;&#x8DEF;&#x4EBA;&#x7684;&#xFF0C;&#x5C31;&#x514D;&#x4E0D;&#x4E86;&#x8981;&#x6253;&#x4E00;&#x67B6;&#x3002;&#x4F46;&#x5927;&#x4FA0;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x4F18;&#x70B9;&#x5C31;&#x662F;&#x8BB2;&#x4E49;&#x6C14;&#xFF0C;&#x7EDD;&#x5BF9;&#x4E0D;&#x6253;&#x81EA;&#x5DF1;&#x7684;&#x670B;&#x53CB;&#x3002;&#x800C;&#x4E14;&#x4ED6;&#x4EEC;&#x4FE1;&#x5949;&#x201C;&#x670B;&#x53CB;&#x7684;&#x670B;&#x53CB;&#x5C31;&#x662F;&#x6211;&#x7684;&#x670B;&#x53CB;&#x201D;&#xFF0C;&#x53EA;&#x8981;&#x662F;&#x80FD;&#x901A;&#x8FC7;&#x670B;&#x53CB;&#x5173;&#x7CFB;&#x4E32;&#x8054;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x4E0D;&#x7BA1;&#x62D0;&#x4E86;&#x591A;&#x5C11;&#x4E2A;&#x5F2F;&#xFF0C;&#x90FD;&#x8BA4;&#x4E3A;&#x662F;&#x81EA;&#x5DF1;&#x4EBA;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x6C5F;&#x6E56;&#x4E0A;&#x5C31;&#x5F62;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x5E2E;&#x6D3E;&#xFF0C;&#x901A;&#x8FC7;&#x4E24;&#x4E24;&#x4E4B;&#x95F4;&#x7684;&#x670B;&#x53CB;&#x5173;&#x7CFB;&#x4E32;&#x8054;&#x8D77;&#x6765;&#x3002;&#x800C;&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x5E2E;&#x6D3E;&#x7684;&#x4EBA;&#xFF0C;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x90FD;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#x670B;&#x53CB;&#x5173;&#x7CFB;&#x8FDE;&#x8D77;&#x6765;&#xFF0C;&#x4E8E;&#x662F;&#x5C31;&#x53EF;&#x4EE5;&#x653E;&#x5FC3;&#x5F80;&#x6B7B;&#x4E86;&#x6253;&#x3002;&#x4F46;&#x662F;&#x4E24;&#x4E2A;&#x539F;&#x672C;&#x4E92;&#x4E0D;&#x76F8;&#x8BC6;&#x7684;&#x4EBA;&#xFF0C;&#x5982;&#x4F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x670B;&#x53CB;&#x5708;&#x5462;&#xFF1F;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x670B;&#x53CB;&#x5708;&#x5185;&#x63A8;&#x4E3E;&#x51FA;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x6709;&#x540D;&#x671B;&#x7684;&#x4EBA;&#xFF0C;&#x4F5C;&#x4E3A;&#x8BE5;&#x5708;&#x5B50;&#x7684;&#x4EE3;&#x8868;&#x4EBA;&#x7269;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x6BCF;&#x4E2A;&#x5708;&#x5B50;&#x5C31;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x547D;&#x540D;&#x201C;&#x4E2D;&#x56FD;&#x540C;&#x80DE;&#x961F;&#x201D;&#x7F8E;&#x56FD;&#x540C;&#x80DE;&#x961F;&#x201D;&#x2026;&#x2026;&#x4E24;&#x4EBA;&#x53EA;&#x8981;&#x4E92;&#x76F8;&#x5BF9;&#x4E00;&#x4E0B;&#x81EA;&#x5DF1;&#x7684;&#x961F;&#x957F;&#x662F;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x4EBA;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x654C;&#x53CB;&#x5173;&#x7CFB;&#x4E86;&#x3002;</p><p>&#x4F46;&#x662F;&#x8FD8;&#x6709;&#x95EE;&#x9898;&#x554A;&#xFF0C;&#x5927;&#x4FA0;&#x4EEC;&#x53EA;&#x77E5;&#x9053;&#x81EA;&#x5DF1;&#x76F4;&#x63A5;&#x7684;&#x670B;&#x53CB;&#x662F;&#x8C01;&#xFF0C;&#x5F88;&#x591A;&#x4EBA;&#x538B;&#x6839;&#x5C31;&#x4E0D;&#x8BA4;&#x8BC6;&#x961F;&#x957F; <strong>W(&#xFFE3;_&#xFFE3;)W</strong> &#x8981;&#x5224;&#x65AD;&#x81EA;&#x5DF1;&#x7684;&#x961F;&#x957F;&#x662F;&#x8C01;&#xFF0C;&#x53EA;&#x80FD;&#x6F2B;&#x65E0;&#x76EE;&#x7684;&#x7684;&#x901A;&#x8FC7;&#x670B;&#x53CB;&#x7684;&#x670B;&#x53CB;&#x5173;&#x7CFB;&#x95EE;&#x4E0B;&#x53BB;&#xFF1A;&#x201C;&#x4F60;&#x662F;&#x4E0D;&#x662F;&#x961F;&#x957F;&#xFF1F;&#x4F60;&#x662F;&#x4E0D;&#x662F;&#x961F;&#x957F;&#xFF1F;&#x201D;&#x8FD9;&#x6837;&#xFF0C;&#x60F3;&#x6253;&#x4E00;&#x67B6;&#x5F97;&#x5148;&#x95EE;&#x4E2A;&#x51E0;&#x5341;&#x5E74;&#xFF0C;&#x997F;&#x90FD;&#x997F;&#x6B7B;&#x4E86;&#xFF0C;&#x53D7;&#x4E0D;&#x4E86;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x961F;&#x957F;&#x9762;&#x5B50;&#x4E0A;&#x4E5F;&#x6302;&#x4E0D;&#x4F4F;&#x4E86;&#xFF0C;&#x4E0D;&#x4EC5;&#x6548;&#x7387;&#x592A;&#x4F4E;&#xFF0C;&#x8FD8;&#x6709;&#x53EF;&#x80FD;&#x9677;&#x5165;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#x4E2D;&#x3002;&#x4E8E;&#x662F;&#x961F;&#x957F;&#x4E0B;&#x4EE4;&#xFF0C;&#x91CD;&#x65B0;&#x7EC4;&#x961F;&#x3002;&#x961F;&#x5185;&#x6240;&#x6709;&#x4EBA;&#x5B9E;&#x884C;&#x5206;&#x7B49;&#x7EA7;&#x5236;&#x5EA6;&#xFF0C;&#x5F62;&#x6210;&#x6811;&#x72B6;&#x7ED3;&#x6784;&#xFF0C;&#x6211;&#x961F;&#x957F;&#x5C31;&#x662F;&#x6839;&#x8282;&#x70B9;&#xFF0C;&#x4E0B;&#x9762;&#x5206;&#x522B;&#x662F;&#x4E8C;&#x7EA7;&#x961F;&#x5458;&#x3001;&#x4E09;&#x7EA7;&#x961F;&#x5458;&#x3002;&#x6BCF;&#x4E2A;&#x4EBA;&#x53EA;&#x8981;&#x8BB0;&#x4F4F;&#x81EA;&#x5DF1;&#x7684;&#x4E0A;&#x7EA7;&#x662F;&#x8C01;&#x5C31;&#x884C;&#x4E86;&#x3002;&#x9047;&#x5230;&#x5224;&#x65AD;&#x654C;&#x53CB;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EA;&#x8981;&#x4E00;&#x5C42;&#x5C42;&#x5411;&#x4E0A;&#x95EE;&#xFF0C;&#x76F4;&#x5230;&#x6700;&#x9AD8;&#x5C42;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x786E;&#x5B9A;&#x961F;&#x957F;&#x662F;&#x8C01;&#x4E86;&#x3002;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x5173;&#x5FC3;&#x7684;&#x53EA;&#x662F;&#x4E24;&#x4E2A;&#x4EBA;&#x4E4B;&#x95F4;&#x662F;&#x5426;&#x662F;&#x4E00;&#x4E2A;&#x5E2E;&#x6D3E;&#x7684;&#xFF0C;&#x81F3;&#x4E8E;&#x4ED6;&#x4EEC;&#x662F;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x670B;&#x53CB;&#x5173;&#x7CFB;&#x76F8;&#x5173;&#x8054;&#x7684;&#xFF0C;&#x4EE5;&#x53CA;&#x6BCF;&#x4E2A;&#x5708;&#x5B50;&#x5185;&#x90E8;&#x7684;&#x7ED3;&#x6784;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF0C;&#x751A;&#x81F3;&#x961F;&#x957F;&#x662F;&#x8C01;&#xFF0C;&#x90FD;&#x4E0D;&#x91CD;&#x8981;&#x4E86;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x653E;&#x4EFB;&#x961F;&#x957F;&#x968F;&#x610F;&#x91CD;&#x65B0;&#x7EC4;&#x961F;&#xFF0C;&#x53EA;&#x8981;&#x4E0D;&#x641E;&#x9519;&#x654C;&#x53CB;&#x5173;&#x7CFB;&#x5C31;&#x597D;&#x4E86;&#x3002;&#x4E8E;&#x662F;&#xFF0C;&#x95E8;&#x6D3E;&#x4EA7;&#x751F;&#x4E86;&#x3002;</p><p><img src="/2019/09/04/&#x8D85;&#x6709;&#x7231;&#x7684;&#x5E76;&#x67E5;&#x96C6;/pic1.gif" alt></p><p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x5E76;&#x67E5;&#x96C6;&#x7684;&#x5B9E;&#x73B0;&#x3002; int pre[1000]; &#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x8BB0;&#x5F55;&#x4E86;&#x6BCF;&#x4E2A;&#x5927;&#x4FA0;&#x7684;&#x4E0A;&#x7EA7;&#x662F;&#x8C01;&#x3002;&#x5927;&#x4FA0;&#x4EEC;&#x4ECE;1&#x6216;&#x8005;0&#x5F00;&#x59CB;&#x7F16;&#x53F7;&#xFF08;&#x4F9D;&#x636E;&#x9898;&#x610F;&#x800C;&#x5B9A;&#xFF09;&#xFF0C;pre[15]=3&#x5C31;&#x8868;&#x793A;15&#x53F7;&#x5927;&#x4FA0;&#x7684;&#x4E0A;&#x7EA7;&#x662F;3&#x53F7;&#x5927;&#x4FA0;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4EBA;&#x7684;&#x4E0A;&#x7EA7;&#x5C31;&#x662F;&#x4ED6;&#x81EA;&#x5DF1;&#xFF0C;&#x90A3;&#x8BF4;&#x660E;&#x4ED6;&#x5C31;&#x662F;&#x638C;&#x95E8;&#x4EBA;&#x4E86;&#xFF0C;&#x67E5;&#x627E;&#x5230;&#x6B64;&#x4E3A;&#x6B62;&#x3002;&#x4E5F;&#x6709;&#x5B64;&#x5BB6;&#x5BE1;&#x4EBA;&#x81EA;&#x6210;&#x4E00;&#x6D3E;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x6B27;&#x9633;&#x950B;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x7684;&#x4E0A;&#x7EA7;&#x5C31;&#x662F;&#x4ED6;&#x81EA;&#x5DF1;&#x3002;&#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x53EA;&#x8BA4;&#x81EA;&#x5DF1;&#x7684;&#x4E0A;&#x7EA7;&#x3002;&#x6BD4;&#x5982;&#x80E1;&#x9752;&#x725B;&#x540C;&#x5B66;&#x53EA;&#x77E5;&#x9053;&#x81EA;&#x5DF1;&#x7684;&#x4E0A;&#x7EA7;&#x662F;&#x6768;&#x5DE6;&#x4F7F;&#x3002;&#x5F20;&#x65E0;&#x5FCC;&#x662F;&#x8C01;&#xFF1F;&#x4E0D;&#x8BA4;&#x8BC6;&#xFF01;&#x8981;&#x60F3;&#x77E5;&#x9053;&#x81EA;&#x5DF1;&#x7684;&#x638C;&#x95E8;&#x662F;&#x8C01;&#xFF0C;&#x53EA;&#x80FD;&#x4E00;&#x7EA7;&#x7EA7;&#x67E5;&#x4E0A;&#x53BB;&#x3002; </p><p>find&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5C31;&#x662F;&#x627E;&#x638C;&#x95E8;&#x7528;&#x7684;&#xFF0C;&#x610F;&#x4E49;&#x518D;&#x6E05;&#x695A;&#x4E0D;&#x8FC7;&#x4E86;&#xFF08;&#x8DEF;&#x5F84;&#x538B;&#x7F29;&#x7B97;&#x6CD5;&#x5148;&#x4E0D;&#x8BBA;&#xFF0C;&#x540E;&#x9762;&#x518D;&#x8BF4;&#xFF09;&#x3002;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">unionsearch</span><span class="params">(<span class="keyword">int</span> root)</span> <span class="comment">//&#x67E5;&#x627E;&#x6839;&#x7ED3;&#x70B9;</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> son, tmp;</span><br><span class="line">son = root;</span><br><span class="line"><span class="keyword">while</span>(root != pre[root]) <span class="comment">//&#x6211;&#x7684;&#x4E0A;&#x7EA7;&#x4E0D;&#x662F;&#x638C;&#x95E8;</span></span><br><span class="line">root = pre[root];</span><br><span class="line"><span class="keyword">while</span>(son != root) <span class="comment">//&#x6211;&#x5C31;&#x627E;&#x4ED6;&#x7684;&#x4E0A;&#x7EA7;&#xFF0C;&#x76F4;&#x5230;&#x638C;&#x95E8;&#x51FA;&#x73B0;</span></span><br><span class="line">{</span><br><span class="line">tmp = pre[son];</span><br><span class="line">pre[son] = root;</span><br><span class="line">son = tmp;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> root; <span class="comment">//&#x638C;&#x95E8;&#x9A7E;&#x5230;~~</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x518D;&#x6765;&#x770B;&#x770B;join&#x51FD;&#x6570;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x4E24;&#x4E2A;&#x70B9;&#x4E4B;&#x95F4;&#x8FDE;&#x4E00;&#x6761;&#x7EBF;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x539F;&#x5148;&#x5B83;&#x4EEC;&#x6240;&#x5728;&#x7684;&#x4E24;&#x4E2A;&#x677F;&#x5757;&#x7684;&#x6240;&#x6709;&#x70B9;&#x5C31;&#x90FD;&#x53EF;&#x4EE5;&#x4E92;&#x901A;&#x4E86;&#x3002;&#x8FD9;&#x5728;&#x56FE;&#x4E0A;&#x5F88;&#x597D;&#x529E;&#xFF0C;&#x753B;&#x6761;&#x7EBF;&#x5C31;&#x884C;&#x4E86;&#x3002;&#x4F46;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x662F;&#x7528;&#x5E76;&#x67E5;&#x96C6;&#x6765;&#x63CF;&#x8FF0;&#x6B66;&#x6797;&#x4E2D;&#x7684;&#x72B6;&#x51B5;&#x7684;&#xFF0C;&#x4E00;&#x5171;&#x53EA;&#x6709;&#x4E00;&#x4E2A;pre[]&#x6570;&#x7EC4;&#xFF0C;&#x8BE5;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x5462;&#xFF1F; &#x8FD8;&#x662F;&#x4E3E;&#x6C5F;&#x6E56;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6B66;&#x6797;&#x4E2D;&#x7684;&#x5F62;&#x52BF;&#x5982;&#x56FE;&#x6240;&#x793A;&#x3002;&#x865A;&#x7AF9;&#x5E05;&#x9505;&#x4E0E;&#x5468;&#x82B7;&#x82E5;MM&#x662F;&#x6211;&#x975E;&#x5E38;&#x559C;&#x6B22;&#x7684;&#x4E24;&#x4E2A;&#x4EBA;&#x7269;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x7EC8;&#x6781;boss&#x5206;&#x522B;&#x662F;&#x7384;&#x6148;&#x65B9;&#x4E08;&#x548C;&#x706D;&#x7EDD;&#x5E08;&#x592A;&#xFF0C;&#x90A3;&#x660E;&#x663E;&#x5C31;&#x662F;&#x4E24;&#x4E2A;&#x9635;&#x8425;&#x4E86;&#x3002;&#x6211;&#x4E0D;&#x5E0C;&#x671B;&#x4ED6;&#x4EEC;&#x4E92;&#x76F8;&#x6253;&#x67B6;&#xFF0C;&#x5C31;&#x5BF9;&#x4ED6;&#x4FE9;&#x8BF4;&#xFF1A;&#x201C;&#x4F60;&#x4EEC;&#x4E24;&#x4F4D;&#x62C9;&#x62C9;&#x52FE;&#xFF0C;&#x505A;&#x597D;&#x670B;&#x53CB;&#x5427;&#x3002;&#x201D;&#x4ED6;&#x4EEC;&#x770B;&#x5728;&#x6211;&#x7684;&#x9762;&#x5B50;&#x4E0A;&#xFF0C;&#x540C;&#x610F;&#x4E86;&#x3002;&#x8FD9;&#x4E00;&#x540C;&#x610F;&#x53EF;&#x975E;&#x540C;&#x5C0F;&#x53EF;&#xFF0C;&#x6574;&#x4E2A;&#x5C11;&#x6797;&#x548C;&#x5CE8;&#x7709;&#x6D3E;&#x7684;&#x4EBA;&#x5C31;&#x4E0D;&#x80FD;&#x6253;&#x67B6;&#x4E86;&#x3002;&#x8FD9;&#x4E48;&#x91CD;&#x5927;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x53EF;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x5440;&#xFF0C;&#x8981;&#x6539;&#x52A8;&#x591A;&#x5C11;&#x5730;&#x65B9;&#xFF1F;&#x5176;&#x5B9E;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x5BF9;&#x7384;&#x6148;&#x65B9;&#x4E08;&#x8BF4;&#xFF1A;&#x201C;&#x5927;&#x5E08;&#xFF0C;&#x9EBB;&#x70E6;&#x4F60;&#x628A;&#x4F60;&#x7684;&#x4E0A;&#x7EA7;&#x6539;&#x4E3A;&#x706D;&#x7EDD;&#x5E08;&#x592A;&#x5427;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x4E24;&#x6D3E;&#x539F;&#x5148;&#x7684;&#x6240;&#x6709;&#x4EBA;&#x5458;&#x7684;&#x7EC8;&#x6781;boss&#x90FD;&#x662F;&#x5E08;&#x592A;&#xFF0C;&#x90A3;&#x8FD8;&#x6253;&#x4E2A;&#x7403;&#x554A;&#xFF01; <strong>(&#xFFE3;&#x25BD;&#xFFE3;)~*</strong> &#x53CD;&#x6B63;&#x6211;&#x4EEC;&#x5173;&#x5FC3;&#x7684;&#x53EA;&#x662F;&#x8FDE;&#x901A;&#x6027;&#xFF0C;&#x95E8;&#x6D3E;&#x5185;&#x90E8;&#x7684;&#x7ED3;&#x6784;&#x4E0D;&#x8981;&#x7D27;&#x7684;&#x3002;&#x201D;&#x7384;&#x6148;&#x4E00;&#x542C;&#x80AF;&#x5B9A;&#x706B;&#x5927;&#x4E86;&#xFF1A;&#x201C;&#x6211;&#x9760;&#xFF0C;&#x51ED;&#x4EC0;&#x4E48;&#x662F;&#x6211;&#x53D8;&#x6210;&#x5979;&#x624B;&#x4E0B;&#x5440;&#xFF0C;&#x600E;&#x4E48;&#x4E0D;&#x53CD;&#x8FC7;&#x6765;&#xFF1F;&#x6211;&#x6297;&#x8BAE;&#xFF01;&#x201D;&#x4E8E;&#x662F;&#xFF0C;&#x4E24;&#x4EBA;&#x76F8;&#x7EA6;&#x4E00;&#x6218;&#xFF0C;&#x6740;&#x7684;&#x662F;&#x5929;&#x660F;&#x5730;&#x6697;&#xFF0C;&#x98CE;&#x4E91;&#x4E3A;&#x4E4B;&#x53D8;&#x8272;&#x554A;&#xFF0C;&#x4F46;&#x662F;&#x554A;&#xFF0C;&#x8FD9;&#x573A;&#x6218;&#x4E89;&#x7EC8;&#x7A76;&#x4F1A;&#x6709;&#x80DC;&#x8D1F;&#xFF0C;&#x80DC;&#x8005;&#x4E3A;&#x738B;&#x3002;&#x5F31;&#x8005;&#x5C31;&#x88AB;&#x541E;&#x5E76;&#x4E86;&#x3002;&#x53CD;&#x6B63;&#x8C01;&#x52A0;&#x5165;&#x8C01;&#x6548;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x95E8;&#x6D3E;&#x5C31;&#x7531;&#x4E24;&#x4E2A;&#x53D8;&#x6210;&#x4E00;&#x4E2A;&#x4E86;&#x3002;&#x8FD9;&#x6BB5;&#x51FD;&#x6570;&#x7684;&#x610F;&#x601D;&#x660E;&#x767D;&#x4E86;&#x5427;&#xFF1F;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">(<span class="keyword">int</span> root1, <span class="keyword">int</span> root2)</span> <span class="comment">//&#x865A;&#x7AF9;&#x548C;&#x5468;&#x82B7;&#x82E5;&#x505A;&#x670B;&#x53CB;</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line">x = unionsearch(root1);<span class="comment">//&#x6211;&#x8001;&#x5927;&#x662F;&#x7384;&#x6148;</span></span><br><span class="line">y = unionsearch(root2);<span class="comment">//&#x6211;&#x8001;&#x5927;&#x662F;&#x706D;&#x7EDD;</span></span><br><span class="line"><span class="keyword">if</span>(x != y) </span><br><span class="line">pre[x] = y; <span class="comment">//&#x6253;&#x4E00;&#x4ED7;&#xFF0C;&#x8C01;&#x8D62;&#x5C31;&#x5F53;&#x5BF9;&#x65B9;&#x8001;&#x5927;</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x518D;&#x6765;&#x770B;&#x770B;&#x8DEF;&#x5F84;&#x538B;&#x7F29;&#x7B97;&#x6CD5;&#x3002;&#x5EFA;&#x7ACB;&#x95E8;&#x6D3E;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x7528;join&#x51FD;&#x6570;&#x4E24;&#x4E2A;&#x4EBA;&#x4E24;&#x4E2A;&#x4EBA;&#x5730;&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x8C01;&#x5F53;&#x8C01;&#x7684;&#x624B;&#x4E0B;&#x5B8C;&#x5168;&#x968F;&#x673A;&#x3002;&#x6700;&#x540E;&#x7684;&#x6811;&#x72B6;&#x7ED3;&#x6784;&#x4F1A;&#x53D8;&#x6210;&#x4EC0;&#x4E48;&#x6837;&#xFF0C;&#x6211;&#x4E5F;&#x65E0;&#x6CD5;&#x9884;&#x77E5;&#xFF0C;&#x4E00;&#x5B57;&#x957F;&#x86C7;&#x9635;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x3002;&#x8FD9;&#x6837;&#x67E5;&#x627E;&#x7684;&#x6548;&#x7387;&#x5C31;&#x4F1A;&#x6BD4;&#x8F83;&#x4F4E;&#x4E0B;&#x3002;&#x6700;&#x7406;&#x60F3;&#x7684;&#x60C5;&#x51B5;&#x5C31;&#x662F;&#x6240;&#x6709;&#x4EBA;&#x7684;&#x76F4;&#x63A5;&#x4E0A;&#x7EA7;&#x90FD;&#x662F;&#x638C;&#x95E8;&#xFF0C;&#x4E00;&#x5171;&#x5C31;&#x4E24;&#x7EA7;&#x7ED3;&#x6784;&#xFF0C;&#x53EA;&#x8981;&#x627E;&#x4E00;&#x6B21;&#x5C31;&#x627E;&#x5230;&#x638C;&#x95E8;&#x4E86;&#x3002;&#x54EA;&#x6015;&#x4E0D;&#x80FD;&#x5B8C;&#x5168;&#x505A;&#x5230;&#xFF0C;&#x4E5F;&#x6700;&#x597D;&#x5C3D;&#x91CF;&#x63A5;&#x8FD1;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x4EA7;&#x751F;&#x4E86;&#x8DEF;&#x5F84;&#x538B;&#x7F29;&#x7B97;&#x6CD5;&#x3002;</p><p> &#x8BBE;&#x60F3;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#xFF1A;&#x4E24;&#x4E2A;&#x4E92;&#x4E0D;&#x76F8;&#x8BC6;&#x7684;&#x5927;&#x4FA0;&#x78B0;&#x9762;&#x4E86;&#xFF0C;&#x60F3;&#x77E5;&#x9053;&#x80FD;&#x4E0D;&#x80FD;&#x5E72;&#x4E00;&#x573A;&#x3002; &#x4E8E;&#x662F;&#x8D76;&#x7D27;&#x6253;&#x7535;&#x8BDD;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x4E0A;&#x7EA7;&#xFF1A;&#x201C;&#x4F60;&#x662F;&#x4E0D;&#x662F;&#x638C;&#x95E8;&#xFF1F;&#x201D; &#x4E0A;&#x7EA7;&#x8BF4;&#xFF1A;&#x201C;&#x6211;&#x4E0D;&#x662F;&#x5440;&#xFF0C;&#x6211;&#x7684;&#x4E0A;&#x7EA7;&#x662F;&#x8C01;&#x8C01;&#x8C01;&#xFF0C;&#x4F60;&#x95EE;&#x95EE;&#x4ED6;&#x770B;&#x770B;&#x3002;&#x201D; &#x4E00;&#x8DEF;&#x95EE;&#x4E0B;&#x53BB;&#xFF0C;&#x539F;&#x6765;&#x4E24;&#x4EBA;&#x7684;&#x6700;&#x7EC8;boss&#x90FD;&#x662F;&#x4E1C;&#x5382;&#x66F9;&#x516C;&#x516C;&#x3002; &#x201C;&#x54CE;&#x5440;&#x5440;&#xFF0C;&#x539F;&#x6765;&#x662F;&#x81EA;&#x5DF1;&#x4EBA;&#xFF0C;&#x6709;&#x793C;&#x6709;&#x793C;&#xFF0C;&#x5728;&#x4E0B;&#x4E09;&#x8425;&#x516D;&#x7EC4;&#x767D;&#x9762;&#x846B;&#x82A6;&#x5A03;!&#x201D; &#x201C;&#x5E78;&#x4F1A;&#x5E78;&#x4F1A;&#xFF0C;&#x5728;&#x4E0B;&#x4E5D;&#x8425;&#x5341;&#x516B;&#x7EC4;&#x4ED9;&#x5B50;&#x72D7;&#x5C3E;&#x5DF4;&#x82B1;&#xFF01;&#x201D; &#x4E24;&#x4EBA;&#x9AD8;&#x9AD8;&#x5174;&#x5174;&#x5730;&#x624B;&#x62C9;&#x624B;&#x559D;&#x9152;&#x53BB;&#x4E86;&#x3002; &#x201C;&#x7B49;&#x7B49;&#x7B49;&#x7B49;&#xFF0C;&#x4E24;&#x4F4D;&#x5927;&#x4FA0;&#x8BF7;&#x7559;&#x6B65;&#xFF0C;&#x8FD8;&#x6709;&#x4E8B;&#x60C5;&#x6CA1;&#x5B8C;&#x6210;&#x5462;&#xFF01;&#x201D;&#x6211;&#x53EB;&#x4F4F;&#x4ED6;&#x4FE9;&#x3002; &#x201C;&#x54E6;&#xFF0C;&#x5BF9;&#x4E86;&#xFF0C;&#x8FD8;&#x8981;&#x505A;&#x8DEF;&#x5F84;&#x538B;&#x7F29;&#x3002;&#x201D;&#x4E24;&#x4EBA;&#x9192;&#x609F;&#x3002; &#x767D;&#x9762;&#x846B;&#x82A6;&#x5A03;&#x6253;&#x7535;&#x8BDD;&#x7ED9;&#x4ED6;&#x7684;&#x4E0A;&#x7EA7;&#x516D;&#x7EC4;&#x957F;&#xFF1A;&#x201C;&#x7EC4;&#x957F;&#x554A;&#xFF0C;&#x6211;&#x67E5;&#x8FC7;&#x4E86;&#xFF0C;&#x5176;&#x5B9E;&#x5076;&#x4EEC;&#x7684;&#x638C;&#x95E8;&#x662F;&#x66F9;&#x516C;&#x516C;&#x3002;&#x4E0D;&#x5982;&#x5076;&#x4EEC;&#x4E00;&#x8D77;&#x7ED3;&#x62DC;&#x5728;&#x66F9;&#x516C;&#x516C;&#x624B;&#x4E0B;&#x5427;&#xFF0C;&#x7701;&#x5F97;&#x7EA7;&#x522B;&#x592A;&#x4F4E;&#xFF0C;&#x4EE5;&#x540E;&#x67E5;&#x627E;&#x638C;&#x95E8;&#x9EBB;&#x70E6;&#x3002;&#x201D; &#x201C;&#x5514;&#xFF0C;&#x6709;&#x9053;&#x7406;&#x3002;&#x201D; &#x767D;&#x9762;&#x846B;&#x82A6;&#x5A03;&#x63A5;&#x7740;&#x6253;&#x7535;&#x8BDD;&#x7ED9;&#x521A;&#x624D;&#x62DC;&#x8BBF;&#x8FC7;&#x7684;&#x4E09;&#x8425;&#x957F;&#x2026;&#x2026;&#x4ED9;&#x5B50;&#x72D7;&#x5C3E;&#x5DF4;&#x82B1;&#x4E5F;&#x505A;&#x4E86;&#x540C;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#x3002; &#x8FD9;&#x6837;&#xFF0C;&#x67E5;&#x8BE2;&#x4E2D;&#x6240;&#x6709;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x4EBA;&#x7269;&#x90FD;&#x805A;&#x96C6;&#x5728;&#x66F9;&#x516C;&#x516C;&#x7684;&#x76F4;&#x63A5;&#x9886;&#x5BFC;&#x4E0B;&#x3002;&#x6BCF;&#x6B21;&#x67E5;&#x8BE2;&#x90FD;&#x505A;&#x4E86;&#x4F18;&#x5316;&#x5904;&#x7406;&#xFF0C;&#x6240;&#x4EE5;&#x6574;&#x4E2A;&#x95E8;&#x6D3E;&#x6811;&#x7684;&#x5C42;&#x6570;&#x90FD;&#x4F1A;&#x7EF4;&#x6301;&#x5728;&#x6BD4;&#x8F83;&#x4F4E;&#x7684;&#x6C34;&#x5E73;&#x4E0A;&#x3002;&#x8DEF;&#x5F84;&#x538B;&#x7F29;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x770B;&#x5F97;&#x61C2;&#x5F88;&#x597D;&#xFF0C;&#x770B;&#x4E0D;&#x61C2;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x6A21;&#x62DF;&#x4E00;&#x4E0B;&#xFF0C;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4E2A;&#x9012;&#x5F52;&#x800C;&#x5DF2;&#x3002;&#x603B;&#x4E4B;&#x5B83;&#x6240;&#x5B9E;&#x73B0;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x4E2A;&#x610F;&#x601D;&#x3002;</p><p><img src="/2019/09/04/&#x8D85;&#x6709;&#x7231;&#x7684;&#x5E76;&#x67E5;&#x96C6;/pic2.gif" alt></p><p>&#x4E8E;&#x662F;&#xFF0C;&#x95EE;&#x9898;&#x5706;&#x6EE1;&#x89E3;&#x51B3;&#x3002;&#x3002;&#x3002;&#x3002;&#x3002;&#x3002;&#x3002;&#x3002;&#x3002;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">1010</span>]; <span class="comment">//&#x91CC;&#x9762;&#x5168;&#x662F;&#x638C;&#x95E8;</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">unionsearch</span><span class="params">(<span class="keyword">int</span> root)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> son, tmp;</span><br><span class="line">son = root;</span><br><span class="line"><span class="keyword">while</span>(root != pre[root]) <span class="comment">//&#x5BFB;&#x627E;&#x638C;&#x95E8;ing&#x2026;&#x2026;</span></span><br><span class="line">root = pre[root];</span><br><span class="line"><span class="keyword">while</span>(son != root) <span class="comment">//&#x8DEF;&#x5F84;&#x538B;&#x7F29;</span></span><br><span class="line">{</span><br><span class="line">tmp = pre[son];</span><br><span class="line">pre[son] = root;</span><br><span class="line">son = tmp;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> root; <span class="comment">//&#x638C;&#x95E8;&#x9A7E;&#x5230;~</span></span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> num, road, total, i, start, end, root1, root2;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;num, &amp;road) &amp;&amp; num)</span><br><span class="line">{</span><br><span class="line">total = num - <span class="number">1</span>; <span class="comment">//&#x5171;num-1&#x4E2A;&#x95E8;&#x6D3E;</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= num; ++i) <span class="comment">//&#x6BCF;&#x6761;&#x8DEF;&#x90FD;&#x662F;&#x638C;&#x95E8;</span></span><br><span class="line">pre[i] = i;</span><br><span class="line"><span class="keyword">while</span>(road--)</span><br><span class="line">{</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;start, &amp;end); <span class="comment">//&#x4ED6;&#x4FE9;&#x8981;&#x7ED3;&#x62DC;</span></span><br><span class="line">root1 = unionsearch(start);</span><br><span class="line">root2 = unionsearch(end);</span><br><span class="line"><span class="keyword">if</span>(root1 != root2) <span class="comment">//&#x638C;&#x95E8;&#x4E0D;&#x540C;&#xFF1F;&#x8E22;&#x9986;&#xFF01;~</span></span><br><span class="line">{</span><br><span class="line">pre[root1] = root2;</span><br><span class="line">total--; <span class="comment">//&#x95E8;&#x6D3E;&#x5C11;&#x4E00;&#x4E2A;&#xFF0C;&#x654C;&#x4EBA;&#xFF08;&#x8981;&#x5EFA;&#x7684;&#x8DEF;&#xFF09;&#x5C31;&#x5C11;&#x4E00;&#x4E2A;</span></span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, total);<span class="comment">//&#x5929;&#x4E0B;&#x5C40;&#x52BF;&#xFF1A;&#x8FD8;&#x5269;&#x51E0;&#x4E2A;&#x95E8;&#x6D3E;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x539F;&amp;#x6587;&amp;#x94FE;&amp;#x63A5;: &lt;a href=&quot;https://blog.csdn.net/niushuai666/article/details/6662911&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/niushuai666/article/details/6662911&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4F8B;&amp;#x5B50;&amp;#x5C31;&amp;#x662F;&amp;#x676D;&amp;#x7535;&amp;#x4E0A;&amp;#x7684;&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=1232&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&amp;#x7545;&amp;#x901A;&amp;#x5DE5;&amp;#x7A0B;&lt;/a&gt;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x5728;&amp;#x5730;&amp;#x56FE;&amp;#x4E0A;&amp;#x7ED9;&amp;#x4F60;&amp;#x82E5;&amp;#x5E72;&amp;#x4E2A;&amp;#x57CE;&amp;#x9547;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E9B;&amp;#x57CE;&amp;#x9547;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x4F5C;&amp;#x70B9;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x544A;&amp;#x8BC9;&amp;#x4F60;&amp;#x54EA;&amp;#x4E9B;&amp;#x5BF9;&amp;#x57CE;&amp;#x9547;&amp;#x4E4B;&amp;#x95F4;&amp;#x662F;&amp;#x6709;&amp;#x9053;&amp;#x8DEF;&amp;#x76F4;&amp;#x63A5;&amp;#x76F8;&amp;#x8FDE;&amp;#x7684;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x8981;&amp;#x89E3;&amp;#x51B3;&amp;#x7684;&amp;#x662F;&amp;#x6574;&amp;#x5E45;&amp;#x56FE;&amp;#x7684;&amp;#x8FDE;&amp;#x901A;&amp;#x6027;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&amp;#x6BD4;&amp;#x5982;&amp;#x968F;&amp;#x610F;&amp;#x7ED9;&amp;#x4F60;&amp;#x4E24;&amp;#x4E2A;&amp;#x70B9;&amp;#xFF0C;&amp;#x8BA9;&amp;#x4F60;&amp;#x5224;&amp;#x65AD;&amp;#x5B83;&amp;#x4EEC;&amp;#x662F;&amp;#x5426;&amp;#x8FDE;&amp;#x901A;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x95EE;&amp;#x4F60;&amp;#x6574;&amp;#x5E45;&amp;#x56FE;&amp;#x4E00;&amp;#x5171;&amp;#x6709;&amp;#x51E0;&amp;#x4E2A;&amp;#x8FDE;&amp;#x901A;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x88AB;&amp;#x5206;&amp;#x6210;&amp;#x4E86;&amp;#x51E0;&amp;#x4E2A;&amp;#x4E92;&amp;#x76F8;&amp;#x72EC;&amp;#x7ACB;&amp;#x7684;&amp;#x5757;&amp;#x3002;&amp;#x50CF;&amp;#x7545;&amp;#x901A;&amp;#x5DE5;&amp;#x7A0B;&amp;#x8FD9;&amp;#x9898;&amp;#xFF0C;&amp;#x95EE;&amp;#x8FD8;&amp;#x9700;&amp;#x8981;&amp;#x4FEE;&amp;#x51E0;&amp;#x6761;&amp;#x8DEF;&amp;#xFF0C;&amp;#x5B9E;&amp;#x8D28;&amp;#x5C31;&amp;#x662F;&amp;#x6C42;&amp;#x6709;&amp;#x51E0;&amp;#x4E2A;&amp;#x8FDE;&amp;#x901A;&amp;#x5206;&amp;#x652F;&amp;#x3002;&lt;/p&gt;
    
    </summary>
    
      <category term="算法" scheme="https://cqh-i.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="并查集" scheme="https://cqh-i.github.io/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    
  </entry>
  
</feed>
